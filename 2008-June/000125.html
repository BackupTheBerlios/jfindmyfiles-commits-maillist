<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Jfindmyfiles-commits] r130 - trunk/docs/Iteracao2-CB05/TestingDB
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/jfindmyfiles-commits/2008-June/index.html" >
   <LINK REL="made" HREF="mailto:jfindmyfiles-commits%40lists.berlios.de?Subject=Re%3A%20%5BJfindmyfiles-commits%5D%20r130%20-%20trunk/docs/Iteracao2-CB05/TestingDB&In-Reply-To=%3C200806031743.m53Hh4Qb017091%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000124.html">
   <LINK REL="Next"  HREF="000126.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Jfindmyfiles-commits] r130 - trunk/docs/Iteracao2-CB05/TestingDB</H1>
    <B>knitter at mail.berlios.de</B> 
    <A HREF="mailto:jfindmyfiles-commits%40lists.berlios.de?Subject=Re%3A%20%5BJfindmyfiles-commits%5D%20r130%20-%20trunk/docs/Iteracao2-CB05/TestingDB&In-Reply-To=%3C200806031743.m53Hh4Qb017091%40sheep.berlios.de%3E"
       TITLE="[Jfindmyfiles-commits] r130 - trunk/docs/Iteracao2-CB05/TestingDB">knitter at mail.berlios.de
       </A><BR>
    <I>Tue Jun  3 19:43:04 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000124.html">[Jfindmyfiles-commits] r129 - in trunk/project/JFindMyFiles:	Catalog/src/de/berlios/jfindmyfiles/catalog	Catalog/src/de/berlios/jfindmyfiles/catalog/utils	JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs
</A></li>
        <LI>Next message: <A HREF="000126.html">[Jfindmyfiles-commits] r131 - in trunk: docs	project/JFindMyFiles/Catalog/src/de/berlios/jfindmyfiles/catalog	project/JFindMyFiles/Catalog/src/de/berlios/jfindmyfiles/catalog/entities	project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui	project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/actions	project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs	project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/nodes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#125">[ date ]</a>
              <a href="thread.html#125">[ thread ]</a>
              <a href="subject.html#125">[ subject ]</a>
              <a href="author.html#125">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: knitter
Date: 2008-06-03 19:43:02 +0200 (Tue, 03 Jun 2008)
New Revision: 130

Added:
   trunk/docs/Iteracao2-CB05/TestingDB/TestingDB.backup
   trunk/docs/Iteracao2-CB05/TestingDB/TestingDB.data
Modified:
   trunk/docs/Iteracao2-CB05/TestingDB/TestingDB.properties
   trunk/docs/Iteracao2-CB05/TestingDB/TestingDB.script
Log:
Actualizados os ficheiros que representam a base de dados.

Added: trunk/docs/Iteracao2-CB05/TestingDB/TestingDB.backup
===================================================================
(Binary files differ)


Property changes on: trunk/docs/Iteracao2-CB05/TestingDB/TestingDB.backup
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/docs/Iteracao2-CB05/TestingDB/TestingDB.data
===================================================================
(Binary files differ)


Property changes on: trunk/docs/Iteracao2-CB05/TestingDB/TestingDB.data
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Modified: trunk/docs/Iteracao2-CB05/TestingDB/TestingDB.properties
===================================================================
--- trunk/docs/Iteracao2-CB05/TestingDB/TestingDB.properties	2008-06-03 17:41:41 UTC (rev 129)
+++ trunk/docs/Iteracao2-CB05/TestingDB/TestingDB.properties	2008-06-03 17:43:02 UTC (rev 130)
@@ -1,5 +1,5 @@
 #HSQL Database Engine 1.8.0.7
-#Tue Jun 03 00:31:22 BST 2008
+#Tue Jun 03 18:42:05 BST 2008
 hsqldb.script_format=0
 runtime.gc_interval=0
 sql.enforce_strict_size=false
@@ -8,7 +8,7 @@
 hsqldb.nio_data_file=true
 hsqldb.cache_scale=14
 version=1.8.0
-hsqldb.default_table_type=memory
+hsqldb.default_table_type=cached
 hsqldb.cache_file_scale=1
 hsqldb.log_size=200
 modified=no

Modified: trunk/docs/Iteracao2-CB05/TestingDB/TestingDB.script
===================================================================
--- trunk/docs/Iteracao2-CB05/TestingDB/TestingDB.script	2008-06-03 17:41:41 UTC (rev 129)
+++ trunk/docs/Iteracao2-CB05/TestingDB/TestingDB.script	2008-06-03 17:43:02 UTC (rev 130)
@@ -1,17 +1,17 @@
 CREATE SCHEMA PUBLIC AUTHORIZATION DBA
-CREATE MEMORY TABLE TBL_AUDIO(AUDIO_ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,DATA VARBINARY(255),FILE_ID BIGINT NOT NULL,CONSTRAINT SYS_CT_46 UNIQUE(FILE_ID))
-CREATE MEMORY TABLE TBL_DISK_GROUP(GROUP_ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,NAME VARCHAR(255),DESCRIPTION VARCHAR(255),CAPACITY BIGINT,PARENT_ID BIGINT,CONSTRAINT FK22CF407E338D5F55 FOREIGN KEY(PARENT_ID) REFERENCES TBL_DISK_GROUP(GROUP_ID))
-CREATE MEMORY TABLE TBL_FILE(FILE_ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,NAME VARCHAR(255),ABSOLUTEPATH VARCHAR(255),LASTMODIFIED BIGINT,DESCRIPTION VARCHAR(255),HIDDEN BOOLEAN,SIZE BIGINT,EXTENSION VARCHAR(255),FILE BOOLEAN,FOLDER BOOLEAN,MEDIA_ID BIGINT NOT NULL,PARENT_ID BIGINT,CONSTRAINT FK4049F57DBEDB532A FOREIGN KEY(PARENT_ID) REFERENCES TBL_FILE(FILE_ID))
-CREATE MEMORY TABLE TBL_GROUP_MEDIA(MEDIA_ID BIGINT NOT NULL,GROUP_ID BIGINT NOT NULL,PRIMARY KEY(GROUP_ID,MEDIA_ID),CONSTRAINT FK59417AC3D6552560 FOREIGN KEY(GROUP_ID) REFERENCES TBL_DISK_GROUP(GROUP_ID))
-CREATE MEMORY TABLE TBL_IMAGE(IMAGE_ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,DATA VARBINARY(255),FILE_ID BIGINT NOT NULL,CONSTRAINT SYS_CT_56 UNIQUE(FILE_ID),CONSTRAINT FKC920A95A107E5D18 FOREIGN KEY(FILE_ID) REFERENCES TBL_FILE(FILE_ID))
-CREATE MEMORY TABLE TBL_LABEL(LABEL_ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,NAME VARCHAR(255))
-CREATE MEMORY TABLE TBL_LOAN(LOAN_ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,LOANED DATE,RETURNED DATE,MEDIA_ID BIGINT NOT NULL,USER_ID BIGINT NOT NULL)
-CREATE MEMORY TABLE TBL_MEDIA(MEDIA_ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,NAME VARCHAR(255),CAPACITY BIGINT,LASTMODIFIED BIGINT,DESCRIPTION VARCHAR(255),FREESPACE BIGINT,LOCATION VARCHAR(255),TYPE_ID BIGINT NOT NULL)
-CREATE MEMORY TABLE TBL_MEDIA_LABEL(MEDIA_ID BIGINT NOT NULL,LABEL_ID BIGINT NOT NULL,PRIMARY KEY(MEDIA_ID,LABEL_ID),CONSTRAINT FK17D6A378E20ABC5D FOREIGN KEY(MEDIA_ID) REFERENCES TBL_MEDIA(MEDIA_ID),CONSTRAINT FK17D6A378A2E3A25D FOREIGN KEY(LABEL_ID) REFERENCES TBL_LABEL(LABEL_ID))
-CREATE MEMORY TABLE TBL_PROPERTIES(PROPERTIES_ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,NAME VARCHAR(255),DESCRIPTION VARCHAR(255),TOTALSIZE BIGINT,DISKNUMBER INTEGER,TOTALFILES BIGINT,TOTALFOLDERS BIGINT,CREATIONDATE DATE)
-CREATE MEMORY TABLE TBL_TYPE(TYPE_ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,NAME VARCHAR(255))
-CREATE MEMORY TABLE TBL_USER(USER_ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,FIRSTNAME VARCHAR(255),SURNAME VARCHAR(255))
-CREATE MEMORY TABLE TBL_VIDEO(VIDEO_ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,DATA VARBINARY(255),FILE_ID BIGINT NOT NULL,CONSTRAINT SYS_CT_74 UNIQUE(FILE_ID),CONSTRAINT FKC9D6147A107E5D18 FOREIGN KEY(FILE_ID) REFERENCES TBL_FILE(FILE_ID))
+CREATE CACHED TABLE TBL_AUDIO(AUDIO_ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,DATA VARBINARY(255),FILE_ID BIGINT NOT NULL,CONSTRAINT SYS_CT_46 UNIQUE(FILE_ID))
+CREATE CACHED TABLE TBL_DISK_GROUP(GROUP_ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,NAME VARCHAR(255),DESCRIPTION VARCHAR(255),CAPACITY BIGINT,PARENT_ID BIGINT,CONSTRAINT FK22CF407E338D5F55 FOREIGN KEY(PARENT_ID) REFERENCES TBL_DISK_GROUP(GROUP_ID))
+CREATE CACHED TABLE TBL_FILE(FILE_ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,NAME VARCHAR(255),ABSOLUTEPATH VARCHAR(255),LASTMODIFIED BIGINT,DESCRIPTION VARCHAR(255),HIDDEN BOOLEAN,SIZE BIGINT,EXTENSION VARCHAR(255),FILE BOOLEAN,FOLDER BOOLEAN,MEDIA_ID BIGINT NOT NULL,PARENT_ID BIGINT,CONSTRAINT FK4049F57DBEDB532A FOREIGN KEY(PARENT_ID) REFERENCES TBL_FILE(FILE_ID))
+CREATE CACHED TABLE TBL_GROUP_MEDIA(MEDIA_ID BIGINT NOT NULL,GROUP_ID BIGINT NOT NULL,PRIMARY KEY(GROUP_ID,MEDIA_ID),CONSTRAINT FK59417AC3D6552560 FOREIGN KEY(GROUP_ID) REFERENCES TBL_DISK_GROUP(GROUP_ID))
+CREATE CACHED TABLE TBL_IMAGE(IMAGE_ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,DATA VARBINARY(255),FILE_ID BIGINT NOT NULL,CONSTRAINT SYS_CT_56 UNIQUE(FILE_ID),CONSTRAINT FKC920A95A107E5D18 FOREIGN KEY(FILE_ID) REFERENCES TBL_FILE(FILE_ID))
+CREATE CACHED TABLE TBL_LABEL(LABEL_ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,NAME VARCHAR(255))
+CREATE CACHED TABLE TBL_LOAN(LOAN_ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,LOANED DATE,RETURNED DATE,MEDIA_ID BIGINT NOT NULL,USER_ID BIGINT NOT NULL)
+CREATE CACHED TABLE TBL_MEDIA(MEDIA_ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,NAME VARCHAR(255),CAPACITY BIGINT,LASTMODIFIED BIGINT,DESCRIPTION VARCHAR(255),FREESPACE BIGINT,LOCATION VARCHAR(255),TYPE_ID BIGINT NOT NULL)
+CREATE CACHED TABLE TBL_MEDIA_LABEL(MEDIA_ID BIGINT NOT NULL,LABEL_ID BIGINT NOT NULL,PRIMARY KEY(MEDIA_ID,LABEL_ID),CONSTRAINT FK17D6A378E20ABC5D FOREIGN KEY(MEDIA_ID) REFERENCES TBL_MEDIA(MEDIA_ID),CONSTRAINT FK17D6A378A2E3A25D FOREIGN KEY(LABEL_ID) REFERENCES TBL_LABEL(LABEL_ID))
+CREATE CACHED TABLE TBL_PROPERTIES(PROPERTIES_ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,NAME VARCHAR(255),DESCRIPTION VARCHAR(255),TOTALSIZE BIGINT,DISKNUMBER INTEGER,TOTALFILES BIGINT,TOTALFOLDERS BIGINT,CREATIONDATE DATE)
+CREATE CACHED TABLE TBL_TYPE(TYPE_ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,NAME VARCHAR(255))
+CREATE CACHED TABLE TBL_USER(USER_ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,FIRSTNAME VARCHAR(255),SURNAME VARCHAR(255))
+CREATE CACHED TABLE TBL_VIDEO(VIDEO_ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,DATA VARBINARY(255),FILE_ID BIGINT NOT NULL,CONSTRAINT SYS_CT_74 UNIQUE(FILE_ID),CONSTRAINT FKC9D6147A107E5D18 FOREIGN KEY(FILE_ID) REFERENCES TBL_FILE(FILE_ID))
 ALTER TABLE TBL_AUDIO ADD CONSTRAINT FKC8B39BD5107E5D18 FOREIGN KEY(FILE_ID) REFERENCES TBL_FILE(FILE_ID)
 ALTER TABLE TBL_FILE ADD CONSTRAINT FK4049F57DE20ABC5D FOREIGN KEY(MEDIA_ID) REFERENCES TBL_MEDIA(MEDIA_ID)
 ALTER TABLE TBL_GROUP_MEDIA ADD CONSTRAINT FK59417AC3E20ABC5D FOREIGN KEY(MEDIA_ID) REFERENCES TBL_MEDIA(MEDIA_ID)
@@ -19,6 +19,12 @@
 ALTER TABLE TBL_LOAN ADD CONSTRAINT FK404CC4F1E20ABC5D FOREIGN KEY(MEDIA_ID) REFERENCES TBL_MEDIA(MEDIA_ID)
 ALTER TABLE TBL_LOAN ADD CONSTRAINT FK404CC4F146697D12 FOREIGN KEY(LOAN_ID) REFERENCES TBL_USER(USER_ID)
 ALTER TABLE TBL_MEDIA ADD CONSTRAINT FKC9556FE3FF7AB9F7 FOREIGN KEY(TYPE_ID) REFERENCES TBL_TYPE(TYPE_ID)
+SET TABLE TBL_DISK_GROUP INDEX'128 128 6'
+SET TABLE TBL_FILE INDEX'928 928 928 9'
+SET TABLE TBL_GROUP_MEDIA INDEX'1680 1680 1680 0'
+SET TABLE TBL_MEDIA INDEX'1944 1944 5'
+SET TABLE TBL_PROPERTIES INDEX'2312 2'
+SET TABLE TBL_TYPE INDEX'2440 4'
 ALTER TABLE TBL_AUDIO ALTER COLUMN AUDIO_ID RESTART WITH 1
 ALTER TABLE TBL_DISK_GROUP ALTER COLUMN GROUP_ID RESTART WITH 6
 ALTER TABLE TBL_FILE ALTER COLUMN FILE_ID RESTART WITH 9
@@ -33,28 +39,3 @@
 CREATE USER SA PASSWORD &quot;&quot;
 GRANT DBA TO SA
 SET WRITE_DELAY 10
-SET SCHEMA PUBLIC
-INSERT INTO TBL_DISK_GROUP VALUES(1,'Grupo 1','Descricao do grupo 1',5500,NULL)
-INSERT INTO TBL_DISK_GROUP VALUES(2,'Grupo 2','Descricao do grupo 2',5500,NULL)
-INSERT INTO TBL_DISK_GROUP VALUES(3,'Grupo 3','Descricao do grupo 3',5500,NULL)
-INSERT INTO TBL_DISK_GROUP VALUES(4,'Grupo 4','Descricao do grupo 2',5500,NULL)
-INSERT INTO TBL_DISK_GROUP VALUES(5,'Grupo 5','Descricao do grupo 3',5500,NULL)
-INSERT INTO TBL_FILE VALUES(1,'file 1','absolutepath',1212416344515,'desc 1',FALSE,0,'txt',TRUE,FALSE,1,NULL)
-INSERT INTO TBL_FILE VALUES(2,'file 2','/',1212416344515,'desc 2',FALSE,0,'pdf',TRUE,FALSE,1,NULL)
-INSERT INTO TBL_FILE VALUES(3,'file 3','/',1212416344515,'desc 3',FALSE,0,'jpg',TRUE,FALSE,1,NULL)
-INSERT INTO TBL_FILE VALUES(4,'file 4','/',1212416344515,'desc 4',FALSE,0,'doc',TRUE,FALSE,2,NULL)
-INSERT INTO TBL_FILE VALUES(5,'file 5','/',1212416344515,'desc 5',FALSE,0,'tgz',TRUE,FALSE,2,NULL)
-INSERT INTO TBL_FILE VALUES(6,'file 6','/',1212416344515,'desc 6',FALSE,0,'zip',TRUE,FALSE,3,NULL)
-INSERT INTO TBL_FILE VALUES(7,'file 7','/',1212416344515,'desc 7',FALSE,0,'jpg',TRUE,FALSE,4,NULL)
-INSERT INTO TBL_FILE VALUES(8,'file 8','/',1212416344515,'desc 8',FALSE,0,'pdf',TRUE,FALSE,4,NULL)
-INSERT INTO TBL_GROUP_MEDIA VALUES(1,1)
-INSERT INTO TBL_GROUP_MEDIA VALUES(2,1)
-INSERT INTO TBL_GROUP_MEDIA VALUES(3,4)
-INSERT INTO TBL_MEDIA VALUES(1,'DVD 1',5000,1212416344515,'no descrp',0,'somewhere',1)
-INSERT INTO TBL_MEDIA VALUES(2,'DVD 2',5000,1212416344515,'no descrp',0,'somewhere',1)
-INSERT INTO TBL_MEDIA VALUES(3,'CD 1',5000,1212416344515,'no descrp',0,'somewhere',2)
-INSERT INTO TBL_MEDIA VALUES(4,'Concept',5000,1212416344515,'no descrp',0,'somewhere',3)
-INSERT INTO TBL_PROPERTIES VALUES(1,'TestingDB',NULL,0,0,0,0,'2008-05-30')
-INSERT INTO TBL_TYPE VALUES(1,'DVD')
-INSERT INTO TBL_TYPE VALUES(2,'CDROM')
-INSERT INTO TBL_TYPE VALUES(3,'HDD')


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000124.html">[Jfindmyfiles-commits] r129 - in trunk/project/JFindMyFiles:	Catalog/src/de/berlios/jfindmyfiles/catalog	Catalog/src/de/berlios/jfindmyfiles/catalog/utils	JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs
</A></li>
	<LI>Next message: <A HREF="000126.html">[Jfindmyfiles-commits] r131 - in trunk: docs	project/JFindMyFiles/Catalog/src/de/berlios/jfindmyfiles/catalog	project/JFindMyFiles/Catalog/src/de/berlios/jfindmyfiles/catalog/entities	project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui	project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/actions	project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs	project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/nodes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#125">[ date ]</a>
              <a href="thread.html#125">[ thread ]</a>
              <a href="subject.html#125">[ subject ]</a>
              <a href="author.html#125">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/jfindmyfiles-commits">More information about the Jfindmyfiles-commits
mailing list</a><br>
</body></html>
