<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Jfindmyfiles-commits] r157 - in trunk: docs docs/Base de Dados de	Teste media media/icons/x16 media/temp/x16	project/JFindMyFiles/Catalog/src/de/berlios/jfindmyfiles/catalog	project/JFindMyFiles/Catalog/src/de/berlios/jfindmyfiles/catalog/entities	project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/resources/images/x16	project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/utils	project/JFindMyFiles/ReadingFiles/src/de/berlios/jfindmyfiles/readingfiles
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/jfindmyfiles-commits/2008-June/index.html" >
   <LINK REL="made" HREF="mailto:jfindmyfiles-commits%40lists.berlios.de?Subject=Re%3A%20%5BJfindmyfiles-commits%5D%20r157%20-%20in%20trunk%3A%20docs%20docs/Base%20de%20Dados%20de%0A%09Teste%20media%20media/icons/x16%20media/temp/x16%0A%09project/JFindMyFiles/Catalog/src/de/berlios/jfindmyfiles/catalog%0A%09project/JFindMyFiles/Catalog/src/de/berlios/jfindmyfiles/catalog/entities%0A%09project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/resources/images/x16%0A%09project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/utils%0A%09project/JFindMyFiles/ReadingFiles/src/de/berlios/jfindmyfiles/readingfiles&In-Reply-To=%3C200806192238.m5JMcXfu027969%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000151.html">
   <LINK REL="Next"  HREF="000153.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Jfindmyfiles-commits] r157 - in trunk: docs docs/Base de Dados de	Teste media media/icons/x16 media/temp/x16	project/JFindMyFiles/Catalog/src/de/berlios/jfindmyfiles/catalog	project/JFindMyFiles/Catalog/src/de/berlios/jfindmyfiles/catalog/entities	project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/resources/images/x16	project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/utils	project/JFindMyFiles/ReadingFiles/src/de/berlios/jfindmyfiles/readingfiles</H1>
    <B>knitter at mail.berlios.de</B> 
    <A HREF="mailto:jfindmyfiles-commits%40lists.berlios.de?Subject=Re%3A%20%5BJfindmyfiles-commits%5D%20r157%20-%20in%20trunk%3A%20docs%20docs/Base%20de%20Dados%20de%0A%09Teste%20media%20media/icons/x16%20media/temp/x16%0A%09project/JFindMyFiles/Catalog/src/de/berlios/jfindmyfiles/catalog%0A%09project/JFindMyFiles/Catalog/src/de/berlios/jfindmyfiles/catalog/entities%0A%09project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/resources/images/x16%0A%09project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/utils%0A%09project/JFindMyFiles/ReadingFiles/src/de/berlios/jfindmyfiles/readingfiles&In-Reply-To=%3C200806192238.m5JMcXfu027969%40sheep.berlios.de%3E"
       TITLE="[Jfindmyfiles-commits] r157 - in trunk: docs docs/Base de Dados de	Teste media media/icons/x16 media/temp/x16	project/JFindMyFiles/Catalog/src/de/berlios/jfindmyfiles/catalog	project/JFindMyFiles/Catalog/src/de/berlios/jfindmyfiles/catalog/entities	project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/resources/images/x16	project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/utils	project/JFindMyFiles/ReadingFiles/src/de/berlios/jfindmyfiles/readingfiles">knitter at mail.berlios.de
       </A><BR>
    <I>Fri Jun 20 00:38:33 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000151.html">[Jfindmyfiles-commits] r156 -	trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/nodes
</A></li>
        <LI>Next message: <A HREF="000153.html">[Jfindmyfiles-commits] r158 - in trunk/project/JFindMyFiles:	JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui	JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/actions	JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs	JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/nodes	ReadingFiles/src/de/berlios/jfindmyfiles/readingfiles
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#152">[ date ]</a>
              <a href="thread.html#152">[ thread ]</a>
              <a href="subject.html#152">[ subject ]</a>
              <a href="author.html#152">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: knitter
Date: 2008-06-20 00:37:45 +0200 (Fri, 20 Jun 2008)
New Revision: 157

Added:
   trunk/docs/Base de Dados de Teste/
   trunk/docs/Base de Dados de Teste/Catalog.backup
   trunk/docs/Base de Dados de Teste/Catalog.data
   trunk/docs/Base de Dados de Teste/Catalog.properties
   trunk/docs/Base de Dados de Teste/Catalog.script
   trunk/media/icons/x16/icon-media-folder.png
   trunk/media/icons/x16/icon-media-unknown.png
   trunk/media/system-file-manager.png
   trunk/project/JFindMyFiles/Catalog/src/de/berlios/jfindmyfiles/catalog/entities/CustomFileIcon.hbm.xml
   trunk/project/JFindMyFiles/Catalog/src/de/berlios/jfindmyfiles/catalog/entities/CustomFileIcon.java
   trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/resources/images/x16/icon-media-folder.png
   trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/resources/images/x16/icon-media-unknown.png
Removed:
   trunk/media/temp/x16/system-software-install.png
Modified:
   trunk/project/JFindMyFiles/Catalog/src/de/berlios/jfindmyfiles/catalog/entities/AudioData.java
   trunk/project/JFindMyFiles/Catalog/src/de/berlios/jfindmyfiles/catalog/entities/CatalogProperties.java
   trunk/project/JFindMyFiles/Catalog/src/de/berlios/jfindmyfiles/catalog/entities/DiskGroup.java
   trunk/project/JFindMyFiles/Catalog/src/de/berlios/jfindmyfiles/catalog/entities/FileWrapper.java
   trunk/project/JFindMyFiles/Catalog/src/de/berlios/jfindmyfiles/catalog/entities/ImageData.java
   trunk/project/JFindMyFiles/Catalog/src/de/berlios/jfindmyfiles/catalog/entities/Label.java
   trunk/project/JFindMyFiles/Catalog/src/de/berlios/jfindmyfiles/catalog/entities/Loan.java
   trunk/project/JFindMyFiles/Catalog/src/de/berlios/jfindmyfiles/catalog/entities/Media.java
   trunk/project/JFindMyFiles/Catalog/src/de/berlios/jfindmyfiles/catalog/entities/User.java
   trunk/project/JFindMyFiles/Catalog/src/de/berlios/jfindmyfiles/catalog/entities/VideoData.java
   trunk/project/JFindMyFiles/Catalog/src/de/berlios/jfindmyfiles/catalog/hibernate.general.cfg.xml
   trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/utils/GuiUtils.java
   trunk/project/JFindMyFiles/ReadingFiles/src/de/berlios/jfindmyfiles/readingfiles/MediaReader.java
Log:
Adicionada base de dados de teste.
Corrigidos m?\195?\169todos equals nas diversas classes das entidades.
Adicionada nova entidade que permitir?\195?\161 guardar o ?\195?\173con definido pelos plugins.
Adicionados novos ?\195?\173cones.
Removido ?\195?\173con da pasta tempor?\195?\161ria e passado para a pasta de media, dado que passou a ser usado.

Added: trunk/docs/Base de Dados de Teste/Catalog.backup
===================================================================
(Binary files differ)


Property changes on: trunk/docs/Base de Dados de Teste/Catalog.backup
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/docs/Base de Dados de Teste/Catalog.data
===================================================================
(Binary files differ)


Property changes on: trunk/docs/Base de Dados de Teste/Catalog.data
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/docs/Base de Dados de Teste/Catalog.properties
===================================================================
--- trunk/docs/Base de Dados de Teste/Catalog.properties	2008-06-19 17:50:37 UTC (rev 156)
+++ trunk/docs/Base de Dados de Teste/Catalog.properties	2008-06-19 22:37:45 UTC (rev 157)
@@ -0,0 +1,17 @@
+#HSQL Database Engine 1.8.0.7
+#Thu Jun 19 23:35:18 BST 2008
+hsqldb.script_format=0
+runtime.gc_interval=0
+sql.enforce_strict_size=false
+hsqldb.cache_size_scale=8
+readonly=false
+hsqldb.nio_data_file=true
+hsqldb.cache_scale=14
+version=1.8.0
+hsqldb.default_table_type=cached
+hsqldb.cache_file_scale=1
+hsqldb.log_size=200
+modified=no
+hsqldb.cache_version=1.7.0
+hsqldb.original_version=1.8.0
+hsqldb.compatible_version=1.8.0

Added: trunk/docs/Base de Dados de Teste/Catalog.script
===================================================================
--- trunk/docs/Base de Dados de Teste/Catalog.script	2008-06-19 17:50:37 UTC (rev 156)
+++ trunk/docs/Base de Dados de Teste/Catalog.script	2008-06-19 22:37:45 UTC (rev 157)
@@ -0,0 +1,37 @@
+CREATE SCHEMA PUBLIC AUTHORIZATION DBA
+CREATE CACHED TABLE TBL_AUDIO(AUDIO_ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,DATA VARBINARY(255),FILE_ID BIGINT NOT NULL,CONSTRAINT SYS_CT_46 UNIQUE(FILE_ID))
+CREATE CACHED TABLE TBL_CUSTOMF_ICON(FICON_ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,EXTENSION VARCHAR(255),ICON VARBINARY(255))
+CREATE CACHED TABLE TBL_DISK_GROUP(GROUP_ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,NAME VARCHAR(255),DESCRIPTION VARCHAR(255),CAPACITY BIGINT,PARENT_ID BIGINT,CONSTRAINT FK22CF407E338D5F55 FOREIGN KEY(PARENT_ID) REFERENCES TBL_DISK_GROUP(GROUP_ID))
+CREATE CACHED TABLE TBL_FILE(FILE_ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,NAME VARCHAR(255),ABSOLUTEPATH VARCHAR(255),LASTMODIFIED BIGINT,DESCRIPTION VARCHAR(255),HIDDEN BOOLEAN,SIZE BIGINT,EXTENSION VARCHAR(255),SHA1 VARCHAR(255),FILE BOOLEAN,FOLDER BOOLEAN,MEDIA_ID BIGINT NOT NULL,PARENT_ID BIGINT,CONSTRAINT FK4049F57DBEDB532A FOREIGN KEY(PARENT_ID) REFERENCES TBL_FILE(FILE_ID))
+CREATE CACHED TABLE TBL_GROUP_MEDIA(MEDIA_ID BIGINT NOT NULL,GROUP_ID BIGINT NOT NULL,PRIMARY KEY(GROUP_ID,MEDIA_ID),CONSTRAINT FK59417AC3D6552560 FOREIGN KEY(GROUP_ID) REFERENCES TBL_DISK_GROUP(GROUP_ID))
+CREATE CACHED TABLE TBL_IMAGE(IMAGE_ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,DATA VARBINARY(255),FILE_ID BIGINT NOT NULL,CONSTRAINT SYS_CT_58 UNIQUE(FILE_ID),CONSTRAINT FKC920A95A107E5D18 FOREIGN KEY(FILE_ID) REFERENCES TBL_FILE(FILE_ID))
+CREATE CACHED TABLE TBL_LABEL(LABEL_ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,NAME VARCHAR(255))
+CREATE CACHED TABLE TBL_LOAN(LOAN_ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,LOANED DATE,RETURNED DATE,MEDIA_ID BIGINT NOT NULL,USER_ID BIGINT NOT NULL)
+CREATE CACHED TABLE TBL_MEDIA(MEDIA_ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,NAME VARCHAR(255),CAPACITY BIGINT,LASTMODIFIED BIGINT,DESCRIPTION VARCHAR(255),FREESPACE BIGINT,LOCATION VARCHAR(255),TYPE INTEGER)
+CREATE CACHED TABLE TBL_MEDIA_LABEL(MEDIA_ID BIGINT NOT NULL,LABEL_ID BIGINT NOT NULL,PRIMARY KEY(MEDIA_ID,LABEL_ID),CONSTRAINT FK17D6A378E20ABC5D FOREIGN KEY(MEDIA_ID) REFERENCES TBL_MEDIA(MEDIA_ID),CONSTRAINT FK17D6A378A2E3A25D FOREIGN KEY(LABEL_ID) REFERENCES TBL_LABEL(LABEL_ID))
+CREATE CACHED TABLE TBL_PROPERTIES(PROPERTIES_ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,NAME VARCHAR(255),DESCRIPTION VARCHAR(255),TOTALSIZE BIGINT,DISKNUMBER INTEGER,TOTALFILES BIGINT,TOTALFOLDERS BIGINT,CREATIONDATE DATE)
+CREATE CACHED TABLE TBL_USER(USER_ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,FIRSTNAME VARCHAR(255),SURNAME VARCHAR(255))
+CREATE CACHED TABLE TBL_VIDEO(VIDEO_ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,DATA VARBINARY(255),FILE_ID BIGINT NOT NULL,CONSTRAINT SYS_CT_74 UNIQUE(FILE_ID),CONSTRAINT FKC9D6147A107E5D18 FOREIGN KEY(FILE_ID) REFERENCES TBL_FILE(FILE_ID))
+ALTER TABLE TBL_AUDIO ADD CONSTRAINT FKC8B39BD5107E5D18 FOREIGN KEY(FILE_ID) REFERENCES TBL_FILE(FILE_ID)
+ALTER TABLE TBL_FILE ADD CONSTRAINT FK4049F57DE20ABC5D FOREIGN KEY(MEDIA_ID) REFERENCES TBL_MEDIA(MEDIA_ID)
+ALTER TABLE TBL_GROUP_MEDIA ADD CONSTRAINT FK59417AC3E20ABC5D FOREIGN KEY(MEDIA_ID) REFERENCES TBL_MEDIA(MEDIA_ID)
+ALTER TABLE TBL_LOAN ADD CONSTRAINT FK404CC4F1298F2457 FOREIGN KEY(USER_ID) REFERENCES TBL_USER(USER_ID)
+ALTER TABLE TBL_LOAN ADD CONSTRAINT FK404CC4F1E20ABC5D FOREIGN KEY(MEDIA_ID) REFERENCES TBL_MEDIA(MEDIA_ID)
+ALTER TABLE TBL_LOAN ADD CONSTRAINT FK404CC4F146697D12 FOREIGN KEY(LOAN_ID) REFERENCES TBL_USER(USER_ID)
+SET TABLE TBL_FILE INDEX'951848 1135472 951848 10159'
+SET TABLE TBL_MEDIA INDEX'2655384 5'
+SET TABLE TBL_PROPERTIES INDEX'66408 2'
+ALTER TABLE TBL_AUDIO ALTER COLUMN AUDIO_ID RESTART WITH 1
+ALTER TABLE TBL_CUSTOMF_ICON ALTER COLUMN FICON_ID RESTART WITH 1
+ALTER TABLE TBL_DISK_GROUP ALTER COLUMN GROUP_ID RESTART WITH 1
+ALTER TABLE TBL_FILE ALTER COLUMN FILE_ID RESTART WITH 10159
+ALTER TABLE TBL_IMAGE ALTER COLUMN IMAGE_ID RESTART WITH 1
+ALTER TABLE TBL_LABEL ALTER COLUMN LABEL_ID RESTART WITH 1
+ALTER TABLE TBL_LOAN ALTER COLUMN LOAN_ID RESTART WITH 1
+ALTER TABLE TBL_MEDIA ALTER COLUMN MEDIA_ID RESTART WITH 5
+ALTER TABLE TBL_PROPERTIES ALTER COLUMN PROPERTIES_ID RESTART WITH 2
+ALTER TABLE TBL_USER ALTER COLUMN USER_ID RESTART WITH 1
+ALTER TABLE TBL_VIDEO ALTER COLUMN VIDEO_ID RESTART WITH 1
+CREATE USER SA PASSWORD &quot;&quot;
+GRANT DBA TO SA
+SET WRITE_DELAY 10

Added: trunk/media/icons/x16/icon-media-folder.png
===================================================================
(Binary files differ)


Property changes on: trunk/media/icons/x16/icon-media-folder.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/media/icons/x16/icon-media-unknown.png
===================================================================
(Binary files differ)


Property changes on: trunk/media/icons/x16/icon-media-unknown.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/media/system-file-manager.png
===================================================================
(Binary files differ)


Property changes on: trunk/media/system-file-manager.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Deleted: trunk/media/temp/x16/system-software-install.png
===================================================================
(Binary files differ)

Modified: trunk/project/JFindMyFiles/Catalog/src/de/berlios/jfindmyfiles/catalog/entities/AudioData.java
===================================================================
--- trunk/project/JFindMyFiles/Catalog/src/de/berlios/jfindmyfiles/catalog/entities/AudioData.java	2008-06-19 17:50:37 UTC (rev 156)
+++ trunk/project/JFindMyFiles/Catalog/src/de/berlios/jfindmyfiles/catalog/entities/AudioData.java	2008-06-19 22:37:45 UTC (rev 157)
@@ -73,10 +73,6 @@
      */
     @Override
     public boolean equals(Object obj) {
-        if(obj == null) {
-            return false;
-        }
-
         if(this == obj) {
             return true;
         }

Modified: trunk/project/JFindMyFiles/Catalog/src/de/berlios/jfindmyfiles/catalog/entities/CatalogProperties.java
===================================================================
--- trunk/project/JFindMyFiles/Catalog/src/de/berlios/jfindmyfiles/catalog/entities/CatalogProperties.java	2008-06-19 17:50:37 UTC (rev 156)
+++ trunk/project/JFindMyFiles/Catalog/src/de/berlios/jfindmyfiles/catalog/entities/CatalogProperties.java	2008-06-19 22:37:45 UTC (rev 157)
@@ -131,10 +131,6 @@
      */
     @Override
     public boolean equals(Object obj) {
-        if(obj == null) {
-            return false;
-        }
-
         if (!(obj instanceof CatalogProperties)) {
             return false;
         }

Added: trunk/project/JFindMyFiles/Catalog/src/de/berlios/jfindmyfiles/catalog/entities/CustomFileIcon.hbm.xml
===================================================================
--- trunk/project/JFindMyFiles/Catalog/src/de/berlios/jfindmyfiles/catalog/entities/CustomFileIcon.hbm.xml	2008-06-19 17:50:37 UTC (rev 156)
+++ trunk/project/JFindMyFiles/Catalog/src/de/berlios/jfindmyfiles/catalog/entities/CustomFileIcon.hbm.xml	2008-06-19 22:37:45 UTC (rev 157)
@@ -0,0 +1,34 @@
+&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
+&lt;!--
+ *  Copyright (C) 2008  Patr&#237;cia Monteiro e S&#233;rgio Lopes
+ *
+ *  This file is part of JFindMyFiles.
+ *
+ *  JFindMyFiles is free software: you can redistribute it and/or modify
+ *  it under the terms of the GNU General Public License as published by
+ *  the Free Software Foundation, either version 2 of the License, or
+ *  (at your option) any later version.
+ *
+ *  JFindMyFiles is distributed in the hope that it will be useful,
+ *  but WITHOUT ANY WARRANTY; without even the implied warranty of
+ *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ *  GNU General Public License for more details.
+ *
+ *  You should have received a copy of the GNU General Public License
+ *  along with JFindMyFiles.  If not, see 
+ * &lt;<A HREF="http://www.gnu.org/licenses/gpl.html">http://www.gnu.org/licenses/gpl.html</A>&gt;.
+ --&gt;
+&lt;!DOCTYPE hibernate-mapping PUBLIC 
+    'PUBLIC:-//Hibernate/Hibernate Mapping DTD 3.0//EN' 
+    '<A HREF="http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd</A>'&gt;
+    
+&lt;hibernate-mapping&gt;
+    &lt;class name=&quot;de.berlios.jfindmyfiles.catalog.entities.CustomFileIcon&quot; table=&quot;TBL_CUSTOMF_ICON&quot;&gt;
+        &lt;id name=&quot;id&quot; column=&quot;FICON_ID&quot;&gt;
+            &lt;generator class=&quot;native&quot;/&gt;
+        &lt;/id&gt;
+
+        &lt;property name=&quot;extension&quot;/&gt;
+        &lt;property name=&quot;icon&quot;/&gt;
+    &lt;/class&gt;
+&lt;/hibernate-mapping&gt;

Added: trunk/project/JFindMyFiles/Catalog/src/de/berlios/jfindmyfiles/catalog/entities/CustomFileIcon.java
===================================================================
--- trunk/project/JFindMyFiles/Catalog/src/de/berlios/jfindmyfiles/catalog/entities/CustomFileIcon.java	2008-06-19 17:50:37 UTC (rev 156)
+++ trunk/project/JFindMyFiles/Catalog/src/de/berlios/jfindmyfiles/catalog/entities/CustomFileIcon.java	2008-06-19 22:37:45 UTC (rev 157)
@@ -0,0 +1,93 @@
+/*
+ * To change this template, choose Tools | Templates
+ * and open the template in the editor.
+ */
+
+package de.berlios.jfindmyfiles.catalog.entities;
+
+/**
+ *
+ * @author Knitter
+ */
+public class CustomFileIcon {
+    
+    private Long id;
+    private byte[] icon;
+    private String extension;
+    
+    public CustomFileIcon() {
+        //DO NOTHING
+    }
+    
+    public CustomFileIcon(byte[] icon, String extension) {
+        this.icon = new byte[icon.length];
+        for(int z = icon.length; z-- &gt; 0;) {
+            this.icon[z] = icon[z];
+        }
+        this.extension = extension;
+    }
+    
+    public Long getId() {
+        return id;
+    }
+    
+    private void setId(Long id) {
+        this.id = id;
+    }
+
+    public String getExtension() {
+        return extension;
+    }
+
+    public void setExtension(String extension) {
+        this.extension = extension;
+    }
+
+    public byte[] getIcon() {
+        return icon;
+    }
+
+    public void setIcon(byte[] icon) {
+        this.icon = icon;
+    }
+    
+    private boolean compareByteArray(byte[] other) {
+        if(icon == other) {
+            return true;
+        }
+        
+        if(icon.length != other.length) {
+            return false;
+        }
+        for(int z = icon.length; z-- &gt; 0;) {
+            if(icon[z] != other[z]) {
+                return false;
+            }
+        }
+        
+        return true;
+    }
+    
+    @Override
+    public boolean equals(Object obj) {
+        if(this == obj) {
+            return true;
+        }
+        
+        if(!(obj instanceof CustomFileIcon)) {
+            return false;
+        }
+        
+        CustomFileIcon other = (CustomFileIcon)obj;
+        return extension.equals(other.extension) &amp;&amp; compareByteArray(other.icon);
+    }
+
+    @Override
+    public int hashCode() {
+        int hash = 5;
+        hash = 53 * hash + (this.icon != null ? this.icon.hashCode() : 0);
+        hash = 53 * hash + (this.extension != null ? this.extension.hashCode() : 0);
+        return hash;
+    }
+
+}

Modified: trunk/project/JFindMyFiles/Catalog/src/de/berlios/jfindmyfiles/catalog/entities/DiskGroup.java
===================================================================
--- trunk/project/JFindMyFiles/Catalog/src/de/berlios/jfindmyfiles/catalog/entities/DiskGroup.java	2008-06-19 17:50:37 UTC (rev 156)
+++ trunk/project/JFindMyFiles/Catalog/src/de/berlios/jfindmyfiles/catalog/entities/DiskGroup.java	2008-06-19 22:37:45 UTC (rev 157)
@@ -166,10 +166,6 @@
      */
     @Override
     public boolean equals(Object obj) {
-        if(obj == null) {
-            return false;
-        }
-
         if (this == obj) {
             return true;
         }

Modified: trunk/project/JFindMyFiles/Catalog/src/de/berlios/jfindmyfiles/catalog/entities/FileWrapper.java
===================================================================
--- trunk/project/JFindMyFiles/Catalog/src/de/berlios/jfindmyfiles/catalog/entities/FileWrapper.java	2008-06-19 17:50:37 UTC (rev 156)
+++ trunk/project/JFindMyFiles/Catalog/src/de/berlios/jfindmyfiles/catalog/entities/FileWrapper.java	2008-06-19 22:37:45 UTC (rev 157)
@@ -251,10 +251,6 @@
      */
     @Override
     public boolean equals(Object obj) {
-        if(obj == null) {
-            return false;
-        }
-        
         if (this == obj) {
             return true;
         }

Modified: trunk/project/JFindMyFiles/Catalog/src/de/berlios/jfindmyfiles/catalog/entities/ImageData.java
===================================================================
--- trunk/project/JFindMyFiles/Catalog/src/de/berlios/jfindmyfiles/catalog/entities/ImageData.java	2008-06-19 17:50:37 UTC (rev 156)
+++ trunk/project/JFindMyFiles/Catalog/src/de/berlios/jfindmyfiles/catalog/entities/ImageData.java	2008-06-19 22:37:45 UTC (rev 157)
@@ -73,10 +73,6 @@
      */
     @Override
     public boolean equals(Object obj) {
-        if(obj == null) {
-            return false;
-        }
-        
         if(this == obj) {
             return true;
         }

Modified: trunk/project/JFindMyFiles/Catalog/src/de/berlios/jfindmyfiles/catalog/entities/Label.java
===================================================================
--- trunk/project/JFindMyFiles/Catalog/src/de/berlios/jfindmyfiles/catalog/entities/Label.java	2008-06-19 17:50:37 UTC (rev 156)
+++ trunk/project/JFindMyFiles/Catalog/src/de/berlios/jfindmyfiles/catalog/entities/Label.java	2008-06-19 22:37:45 UTC (rev 157)
@@ -64,10 +64,6 @@
      */
     @Override
     public boolean equals(Object obj) {
-        if(obj == null) {
-            return false;
-        }
-
         if (this == obj) {
             return true;
         }

Modified: trunk/project/JFindMyFiles/Catalog/src/de/berlios/jfindmyfiles/catalog/entities/Loan.java
===================================================================
--- trunk/project/JFindMyFiles/Catalog/src/de/berlios/jfindmyfiles/catalog/entities/Loan.java	2008-06-19 17:50:37 UTC (rev 156)
+++ trunk/project/JFindMyFiles/Catalog/src/de/berlios/jfindmyfiles/catalog/entities/Loan.java	2008-06-19 22:37:45 UTC (rev 157)
@@ -92,10 +92,6 @@
      */
     @Override
     public boolean equals(Object obj) {
-        if(obj == null) {
-            return false;
-        }
-
         if (this == obj) {
             return true;
         }

Modified: trunk/project/JFindMyFiles/Catalog/src/de/berlios/jfindmyfiles/catalog/entities/Media.java
===================================================================
--- trunk/project/JFindMyFiles/Catalog/src/de/berlios/jfindmyfiles/catalog/entities/Media.java	2008-06-19 17:50:37 UTC (rev 156)
+++ trunk/project/JFindMyFiles/Catalog/src/de/berlios/jfindmyfiles/catalog/entities/Media.java	2008-06-19 22:37:45 UTC (rev 157)
@@ -246,10 +246,6 @@
      */
     @Override
     public boolean equals(Object obj) {
-        if (obj == null) {
-            return false;
-        }
-
         if (this == obj) {
             return true;
         }

Modified: trunk/project/JFindMyFiles/Catalog/src/de/berlios/jfindmyfiles/catalog/entities/User.java
===================================================================
--- trunk/project/JFindMyFiles/Catalog/src/de/berlios/jfindmyfiles/catalog/entities/User.java	2008-06-19 17:50:37 UTC (rev 156)
+++ trunk/project/JFindMyFiles/Catalog/src/de/berlios/jfindmyfiles/catalog/entities/User.java	2008-06-19 22:37:45 UTC (rev 157)
@@ -99,10 +99,6 @@
      */
     @Override
     public boolean equals(Object obj) {
-        if(obj == null) {
-            return false;
-        }
-        
         if (this == obj) {
             return true;
         }

Modified: trunk/project/JFindMyFiles/Catalog/src/de/berlios/jfindmyfiles/catalog/entities/VideoData.java
===================================================================
--- trunk/project/JFindMyFiles/Catalog/src/de/berlios/jfindmyfiles/catalog/entities/VideoData.java	2008-06-19 17:50:37 UTC (rev 156)
+++ trunk/project/JFindMyFiles/Catalog/src/de/berlios/jfindmyfiles/catalog/entities/VideoData.java	2008-06-19 22:37:45 UTC (rev 157)
@@ -73,10 +73,6 @@
      */
     @Override
     public boolean equals(Object obj) {
-        if(obj == null) {
-            return false;
-        }
-        
         if (this == obj) {
             return true;
         }

Modified: trunk/project/JFindMyFiles/Catalog/src/de/berlios/jfindmyfiles/catalog/hibernate.general.cfg.xml
===================================================================
--- trunk/project/JFindMyFiles/Catalog/src/de/berlios/jfindmyfiles/catalog/hibernate.general.cfg.xml	2008-06-19 17:50:37 UTC (rev 156)
+++ trunk/project/JFindMyFiles/Catalog/src/de/berlios/jfindmyfiles/catalog/hibernate.general.cfg.xml	2008-06-19 22:37:45 UTC (rev 157)
@@ -55,6 +55,7 @@
         &lt;mapping resource=&quot;de/berlios/jfindmyfiles/catalog/entities/User.hbm.xml&quot;/&gt;
         &lt;mapping resource=&quot;de/berlios/jfindmyfiles/catalog/entities/VideoData.hbm.xml&quot;/&gt;
         &lt;mapping resource=&quot;de/berlios/jfindmyfiles/catalog/entities/CatalogProperties.hbm.xml&quot;/&gt;
+        &lt;mapping resource=&quot;de/berlios/jfindmyfiles/catalog/entities/CustomFileIcon.hbm.xml&quot;/&gt;
     &lt;/session-factory&gt;
 
 &lt;/hibernate-configuration&gt;

Added: trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/resources/images/x16/icon-media-folder.png
===================================================================
(Binary files differ)


Property changes on: trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/resources/images/x16/icon-media-folder.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/resources/images/x16/icon-media-unknown.png
===================================================================
(Binary files differ)


Property changes on: trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/resources/images/x16/icon-media-unknown.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Modified: trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/utils/GuiUtils.java
===================================================================
--- trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/utils/GuiUtils.java	2008-06-19 17:50:37 UTC (rev 156)
+++ trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/utils/GuiUtils.java	2008-06-19 22:37:45 UTC (rev 157)
@@ -17,11 +17,11 @@
             case CatalogConstants.FLOPPY:
                 return &quot;de/berlios/jfindmyfiles/jfindmyfilesgui/resources/images/x16/icon-media-floppy.png&quot;;
             case CatalogConstants.FOLDER:
-                return &quot;de/berlios/jfindmyfiles/jfindmyfilesgui/resources/images/x16/icon-media-floppy.png&quot;;//TODO: get proper icon
+                return &quot;de/berlios/jfindmyfiles/jfindmyfilesgui/resources/images/x16/icon-media-folder.png&quot;;
             case CatalogConstants.HDD:
                 return &quot;de/berlios/jfindmyfiles/jfindmyfilesgui/resources/images/x16/icon-harddisk.png&quot;;
             default:
-                return &quot;de/berlios/jfindmyfiles/jfindmyfilesgui/resources/images/x16/icon-media-floppy.png&quot;;//TODO: get proper icon
+                return &quot;de/berlios/jfindmyfiles/jfindmyfilesgui/resources/images/x16/icon-media-unknown.png&quot;;
                 
         }
     }

Modified: trunk/project/JFindMyFiles/ReadingFiles/src/de/berlios/jfindmyfiles/readingfiles/MediaReader.java
===================================================================
--- trunk/project/JFindMyFiles/ReadingFiles/src/de/berlios/jfindmyfiles/readingfiles/MediaReader.java	2008-06-19 17:50:37 UTC (rev 156)
+++ trunk/project/JFindMyFiles/ReadingFiles/src/de/berlios/jfindmyfiles/readingfiles/MediaReader.java	2008-06-19 22:37:45 UTC (rev 157)
@@ -133,7 +133,7 @@
         fireReadingAborted(new ReadingEvent(this, &quot;&quot;, null));
     }
 
-    public void addListener(ReadingListener l) {
+    public synchronized void addListener(ReadingListener l) {
         if (listeners == null) {
             listeners = new Vector&lt;ReadingListener&gt;();
         }
@@ -141,7 +141,7 @@
         listeners.add(l);
     }
 
-    public void removeListener(ReadingListener l) {
+    public synchronized void removeListener(ReadingListener l) {
         if (listeners != null) {
             listeners.remove(l);
         }


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000151.html">[Jfindmyfiles-commits] r156 -	trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/nodes
</A></li>
	<LI>Next message: <A HREF="000153.html">[Jfindmyfiles-commits] r158 - in trunk/project/JFindMyFiles:	JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui	JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/actions	JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs	JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/nodes	ReadingFiles/src/de/berlios/jfindmyfiles/readingfiles
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#152">[ date ]</a>
              <a href="thread.html#152">[ thread ]</a>
              <a href="subject.html#152">[ subject ]</a>
              <a href="author.html#152">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/jfindmyfiles-commits">More information about the Jfindmyfiles-commits
mailing list</a><br>
</body></html>
