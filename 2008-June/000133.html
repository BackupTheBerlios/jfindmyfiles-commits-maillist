<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Jfindmyfiles-commits] r138 - in trunk: media/icons/x16	project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs	project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/resources/images/x16	project/JFindMyFiles/ReadingFiles/nbproject	project/JFindMyFiles/ReadingFiles/src/de/berlios/jfindmyfiles/readingfiles
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/jfindmyfiles-commits/2008-June/index.html" >
   <LINK REL="made" HREF="mailto:jfindmyfiles-commits%40lists.berlios.de?Subject=Re%3A%20%5BJfindmyfiles-commits%5D%20r138%20-%20in%20trunk%3A%20media/icons/x16%0A%09project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs%0A%09project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/resources/images/x16%0A%09project/JFindMyFiles/ReadingFiles/nbproject%0A%09project/JFindMyFiles/ReadingFiles/src/de/berlios/jfindmyfiles/readingfiles&In-Reply-To=%3C200806101644.m5AGiuKu008596%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000132.html">
   <LINK REL="Next"  HREF="000134.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Jfindmyfiles-commits] r138 - in trunk: media/icons/x16	project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs	project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/resources/images/x16	project/JFindMyFiles/ReadingFiles/nbproject	project/JFindMyFiles/ReadingFiles/src/de/berlios/jfindmyfiles/readingfiles</H1>
    <B>knitter at mail.berlios.de</B> 
    <A HREF="mailto:jfindmyfiles-commits%40lists.berlios.de?Subject=Re%3A%20%5BJfindmyfiles-commits%5D%20r138%20-%20in%20trunk%3A%20media/icons/x16%0A%09project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs%0A%09project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/resources/images/x16%0A%09project/JFindMyFiles/ReadingFiles/nbproject%0A%09project/JFindMyFiles/ReadingFiles/src/de/berlios/jfindmyfiles/readingfiles&In-Reply-To=%3C200806101644.m5AGiuKu008596%40sheep.berlios.de%3E"
       TITLE="[Jfindmyfiles-commits] r138 - in trunk: media/icons/x16	project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs	project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/resources/images/x16	project/JFindMyFiles/ReadingFiles/nbproject	project/JFindMyFiles/ReadingFiles/src/de/berlios/jfindmyfiles/readingfiles">knitter at mail.berlios.de
       </A><BR>
    <I>Tue Jun 10 18:44:56 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000132.html">[Jfindmyfiles-commits] r137 - in trunk: docs media	project/JFindMyFiles/ExportEngine/nbproject	project/JFindMyFiles/ExportEngine/src/de/berlios/jfindmyfiles/exportengine	project/JFindMyFiles/JFindMyFilesGui/nbproject	project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs	project/JFindMyFiles/JaCKSum	project/JFindMyFiles/ReadingFiles/nbproject	project/JFindMyFiles/ReadingFiles/src/de/berlios/jfindmyfiles/readingfiles
</A></li>
        <LI>Next message: <A HREF="000134.html">[Jfindmyfiles-commits] r139 - in trunk/project/JFindMyFiles:	Catalog/src/de/berlios/jfindmyfiles/catalog/entities	JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs	ReadingFiles/src/de/berlios/jfindmyfiles/readingfiles
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#133">[ date ]</a>
              <a href="thread.html#133">[ thread ]</a>
              <a href="subject.html#133">[ subject ]</a>
              <a href="author.html#133">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: knitter
Date: 2008-06-10 18:43:56 +0200 (Tue, 10 Jun 2008)
New Revision: 138

Added:
   trunk/media/icons/x16/button-stop.png
   trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/AskDescriptionDlg.form
   trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/AskDescriptionDlg.java
   trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/resources/images/x16/button-stop.png
Modified:
   trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/ActiveScanningDlg.form
   trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/ActiveScanningDlg.java
   trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/Bundle.properties
   trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/NewCatalogDlg.form
   trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/NewCatalogDlg.java
   trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/NewDiskDlg.form
   trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/NewDiskDlg.java
   trunk/project/JFindMyFiles/ReadingFiles/nbproject/genfiles.properties
   trunk/project/JFindMyFiles/ReadingFiles/nbproject/project.xml
   trunk/project/JFindMyFiles/ReadingFiles/src/de/berlios/jfindmyfiles/readingfiles/MediaReader.java
   trunk/project/JFindMyFiles/ReadingFiles/src/de/berlios/jfindmyfiles/readingfiles/ReadingEvent.java
   trunk/project/JFindMyFiles/ReadingFiles/src/de/berlios/jfindmyfiles/readingfiles/ReadingListener.java
Log:
Adicionado um novo ?\195?\173con e uma nova janela de di?\195?\161logo.
Commit de rotina, ainda a implementar a leitura de ficheiros.

Added: trunk/media/icons/x16/button-stop.png
===================================================================
(Binary files differ)


Property changes on: trunk/media/icons/x16/button-stop.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Modified: trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/ActiveScanningDlg.form
===================================================================
--- trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/ActiveScanningDlg.form	2008-06-10 14:46:39 UTC (rev 137)
+++ trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/ActiveScanningDlg.form	2008-06-10 16:43:56 UTC (rev 138)
@@ -3,6 +3,7 @@
 &lt;Form version=&quot;1.5&quot; maxVersion=&quot;1.5&quot; type=&quot;org.netbeans.modules.form.forminfo.JDialogFormInfo&quot;&gt;
   &lt;Properties&gt;
     &lt;Property name=&quot;defaultCloseOperation&quot; type=&quot;int&quot; value=&quot;2&quot;/&gt;
+    &lt;Property name=&quot;undecorated&quot; type=&quot;boolean&quot; value=&quot;true&quot;/&gt;
   &lt;/Properties&gt;
   &lt;SyntheticProperties&gt;
     &lt;SyntheticProperty name=&quot;formSizePolicy&quot; type=&quot;int&quot; value=&quot;1&quot;/&gt;
@@ -21,19 +22,24 @@
   &lt;Layout&gt;
     &lt;DimensionLayout dim=&quot;0&quot;&gt;
       &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-          &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+          &lt;Group type=&quot;102&quot; alignment=&quot;1&quot; attributes=&quot;0&quot;&gt;
               &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-              &lt;Component id=&quot;jpbReadingProgress&quot; pref=&quot;381&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+              &lt;Component id=&quot;jpbReadingProgress&quot; pref=&quot;295&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
               &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+              &lt;Component id=&quot;jbtnCancel&quot; min=&quot;-2&quot; pref=&quot;25&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+              &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
           &lt;/Group&gt;
       &lt;/Group&gt;
     &lt;/DimensionLayout&gt;
     &lt;DimensionLayout dim=&quot;1&quot;&gt;
       &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-          &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+          &lt;Group type=&quot;102&quot; alignment=&quot;1&quot; attributes=&quot;0&quot;&gt;
               &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-              &lt;Component id=&quot;jpbReadingProgress&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-              &lt;EmptySpace max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+              &lt;Group type=&quot;103&quot; groupAlignment=&quot;1&quot; attributes=&quot;0&quot;&gt;
+                  &lt;Component id=&quot;jpbReadingProgress&quot; alignment=&quot;0&quot; pref=&quot;25&quot; max=&quot;32767&quot; attributes=&quot;1&quot;/&gt;
+                  &lt;Component id=&quot;jbtnCancel&quot; alignment=&quot;0&quot; max=&quot;32767&quot; attributes=&quot;1&quot;/&gt;
+              &lt;/Group&gt;
+              &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
           &lt;/Group&gt;
       &lt;/Group&gt;
     &lt;/DimensionLayout&gt;
@@ -44,5 +50,18 @@
         &lt;Property name=&quot;indeterminate&quot; type=&quot;boolean&quot; value=&quot;true&quot;/&gt;
       &lt;/Properties&gt;
     &lt;/Component&gt;
+    &lt;Component class=&quot;javax.swing.JButton&quot; name=&quot;jbtnCancel&quot;&gt;
+      &lt;Properties&gt;
+        &lt;Property name=&quot;icon&quot; type=&quot;javax.swing.Icon&quot; editor=&quot;org.netbeans.modules.form.editors2.IconEditor&quot;&gt;
+          &lt;Image iconType=&quot;3&quot; name=&quot;/de/berlios/jfindmyfiles/jfindmyfilesgui/resources/images/x16/button-stop.png&quot;/&gt;
+        &lt;/Property&gt;
+        &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
+          &lt;ResourceString bundle=&quot;de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/Bundle.properties&quot; key=&quot;ActiveScanningDlg.jbtnCancel.text&quot; replaceFormat=&quot;org.openide.util.NbBundle.getMessage({sourceFileName}.class, &quot;{key}&quot;)&quot;/&gt;
+        &lt;/Property&gt;
+      &lt;/Properties&gt;
+      &lt;Events&gt;
+        &lt;EventHandler event=&quot;actionPerformed&quot; listener=&quot;java.awt.event.ActionListener&quot; parameters=&quot;java.awt.event.ActionEvent&quot; handler=&quot;jbtnCancelActionPerformed&quot;/&gt;
+      &lt;/Events&gt;
+    &lt;/Component&gt;
   &lt;/SubComponents&gt;
 &lt;/Form&gt;

Modified: trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/ActiveScanningDlg.java
===================================================================
--- trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/ActiveScanningDlg.java	2008-06-10 14:46:39 UTC (rev 137)
+++ trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/ActiveScanningDlg.java	2008-06-10 16:43:56 UTC (rev 138)
@@ -19,11 +19,16 @@
  */
 package de.berlios.jfindmyfiles.jfindmyfilesgui.dialogs;
 
+import de.berlios.jfindmyfiles.readingfiles.MediaReader;
+import de.berlios.jfindmyfiles.readingfiles.ReadingEvent;
+import de.berlios.jfindmyfiles.readingfiles.ReadingListener;
+import org.openide.util.Lookup;
+
 /**
  *
  * @author  ei10635
  */
-public class ActiveScanningDlg extends javax.swing.JDialog {
+public class ActiveScanningDlg extends javax.swing.JDialog implements ReadingListener {
 
     /** Creates new form ActiveScanningDlg */
     public ActiveScanningDlg(java.awt.Frame parent, boolean modal) {
@@ -46,31 +51,66 @@
     private void initComponents() {
 
         jpbReadingProgress = new javax.swing.JProgressBar();
+        jbtnCancel = new javax.swing.JButton();
 
         setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);
+        setUndecorated(true);
 
         jpbReadingProgress.setIndeterminate(true);
 
+        jbtnCancel.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/de/berlios/jfindmyfiles/jfindmyfilesgui/resources/images/x16/button-stop.png&quot;))); // NOI18N
+        jbtnCancel.setText(org.openide.util.NbBundle.getMessage(ActiveScanningDlg.class, &quot;ActiveScanningDlg.jbtnCancel.text&quot;)); // NOI18N
+        jbtnCancel.addActionListener(new java.awt.event.ActionListener() {
+            public void actionPerformed(java.awt.event.ActionEvent evt) {
+                jbtnCancelActionPerformed(evt);
+            }
+        });
+
         javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
         getContentPane().setLayout(layout);
         layout.setHorizontalGroup(
             layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
-            .addGroup(layout.createSequentialGroup()
+            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
                 .addContainerGap()
-                .addComponent(jpbReadingProgress, javax.swing.GroupLayout.DEFAULT_SIZE, 381, Short.MAX_VALUE)
+                .addComponent(jpbReadingProgress, javax.swing.GroupLayout.DEFAULT_SIZE, 295, Short.MAX_VALUE)
+                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
+                .addComponent(jbtnCancel, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)
                 .addContainerGap())
         );
         layout.setVerticalGroup(
             layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
-            .addGroup(layout.createSequentialGroup()
+            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
                 .addContainerGap()
-                .addComponent(jpbReadingProgress, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
-                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
+                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
+                    .addComponent(jpbReadingProgress, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, 25, Short.MAX_VALUE)
+                    .addComponent(jbtnCancel, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
+                .addContainerGap())
         );
 
         pack();
     }// &lt;/editor-fold&gt;//GEN-END:initComponents
+
+private void jbtnCancelActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jbtnCancelActionPerformed
+    MediaReader r = Lookup.getDefault().lookup(MediaReader.class);
+    r.abort();
+}//GEN-LAST:event_jbtnCancelActionPerformed
     // Variables declaration - do not modify//GEN-BEGIN:variables
+    private javax.swing.JButton jbtnCancel;
     private javax.swing.JProgressBar jpbReadingProgress;
     // End of variables declaration//GEN-END:variables
+    public void readingStarted(ReadingEvent evt) {
+        //DO NOTHING
+    }
+
+    public void readingFile(ReadingEvent evt) {
+        jpbReadingProgress.setString(evt.getCurrentFileName());
+    }
+
+    public void readingStopped(ReadingEvent evt) {
+        dispose();
+    }
+
+    public void readingAborted(ReadingEvent evt) {
+        dispose();
+    }
 }

Added: trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/AskDescriptionDlg.form
===================================================================
--- trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/AskDescriptionDlg.form	2008-06-10 14:46:39 UTC (rev 137)
+++ trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/AskDescriptionDlg.form	2008-06-10 16:43:56 UTC (rev 138)
@@ -0,0 +1,97 @@
+&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;
+
+&lt;Form version=&quot;1.5&quot; maxVersion=&quot;1.6&quot; type=&quot;org.netbeans.modules.form.forminfo.JDialogFormInfo&quot;&gt;
+  &lt;Properties&gt;
+    &lt;Property name=&quot;defaultCloseOperation&quot; type=&quot;int&quot; value=&quot;2&quot;/&gt;
+  &lt;/Properties&gt;
+  &lt;SyntheticProperties&gt;
+    &lt;SyntheticProperty name=&quot;formSizePolicy&quot; type=&quot;int&quot; value=&quot;1&quot;/&gt;
+  &lt;/SyntheticProperties&gt;
+  &lt;AuxValues&gt;
+    &lt;AuxValue name=&quot;FormSettings_autoResourcing&quot; type=&quot;java.lang.Integer&quot; value=&quot;1&quot;/&gt;
+    &lt;AuxValue name=&quot;FormSettings_autoSetComponentName&quot; type=&quot;java.lang.Boolean&quot; value=&quot;false&quot;/&gt;
+    &lt;AuxValue name=&quot;FormSettings_generateMnemonicsCode&quot; type=&quot;java.lang.Boolean&quot; value=&quot;false&quot;/&gt;
+    &lt;AuxValue name=&quot;FormSettings_i18nAutoMode&quot; type=&quot;java.lang.Boolean&quot; value=&quot;true&quot;/&gt;
+    &lt;AuxValue name=&quot;FormSettings_layoutCodeTarget&quot; type=&quot;java.lang.Integer&quot; value=&quot;1&quot;/&gt;
+    &lt;AuxValue name=&quot;FormSettings_listenerGenerationStyle&quot; type=&quot;java.lang.Integer&quot; value=&quot;0&quot;/&gt;
+    &lt;AuxValue name=&quot;FormSettings_variablesLocal&quot; type=&quot;java.lang.Boolean&quot; value=&quot;false&quot;/&gt;
+    &lt;AuxValue name=&quot;FormSettings_variablesModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;2&quot;/&gt;
+  &lt;/AuxValues&gt;
+
+  &lt;Layout&gt;
+    &lt;DimensionLayout dim=&quot;0&quot;&gt;
+      &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+          &lt;Group type=&quot;102&quot; attributes=&quot;0&quot;&gt;
+              &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+              &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                  &lt;Component id=&quot;jlblDescription&quot; alignment=&quot;0&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;Group type=&quot;102&quot; alignment=&quot;1&quot; attributes=&quot;0&quot;&gt;
+                      &lt;Component id=&quot;jbtnOK&quot; linkSize=&quot;1&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Component id=&quot;jbtnCancel&quot; linkSize=&quot;1&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;/Group&gt;
+                  &lt;Component id=&quot;jScrollPane1&quot; alignment=&quot;0&quot; pref=&quot;320&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+              &lt;/Group&gt;
+              &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+          &lt;/Group&gt;
+      &lt;/Group&gt;
+    &lt;/DimensionLayout&gt;
+    &lt;DimensionLayout dim=&quot;1&quot;&gt;
+      &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+          &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+              &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+              &lt;Component id=&quot;jlblDescription&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+              &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+              &lt;Component id=&quot;jScrollPane1&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+              &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+              &lt;Group type=&quot;103&quot; groupAlignment=&quot;3&quot; attributes=&quot;0&quot;&gt;
+                  &lt;Component id=&quot;jbtnCancel&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;Component id=&quot;jbtnOK&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+              &lt;/Group&gt;
+              &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+          &lt;/Group&gt;
+      &lt;/Group&gt;
+    &lt;/DimensionLayout&gt;
+  &lt;/Layout&gt;
+  &lt;SubComponents&gt;
+    &lt;Component class=&quot;javax.swing.JLabel&quot; name=&quot;jlblDescription&quot;&gt;
+      &lt;Properties&gt;
+        &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
+          &lt;ResourceString bundle=&quot;de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/Bundle.properties&quot; key=&quot;AskDescriptionDlg.jlblDescription.text&quot; replaceFormat=&quot;org.openide.util.NbBundle.getMessage({sourceFileName}.class, &quot;{key}&quot;)&quot;/&gt;
+        &lt;/Property&gt;
+      &lt;/Properties&gt;
+    &lt;/Component&gt;
+    &lt;Container class=&quot;javax.swing.JScrollPane&quot; name=&quot;jScrollPane1&quot;&gt;
+      &lt;AuxValues&gt;
+        &lt;AuxValue name=&quot;autoScrollPane&quot; type=&quot;java.lang.Boolean&quot; value=&quot;true&quot;/&gt;
+      &lt;/AuxValues&gt;
+
+      &lt;Layout class=&quot;org.netbeans.modules.form.compat2.layouts.support.JScrollPaneSupportLayout&quot;/&gt;
+      &lt;SubComponents&gt;
+        &lt;Component class=&quot;javax.swing.JTextArea&quot; name=&quot;jtaDescription&quot;&gt;
+          &lt;Properties&gt;
+            &lt;Property name=&quot;columns&quot; type=&quot;int&quot; value=&quot;20&quot;/&gt;
+            &lt;Property name=&quot;rows&quot; type=&quot;int&quot; value=&quot;5&quot;/&gt;
+          &lt;/Properties&gt;
+        &lt;/Component&gt;
+      &lt;/SubComponents&gt;
+    &lt;/Container&gt;
+    &lt;Component class=&quot;javax.swing.JButton&quot; name=&quot;jbtnCancel&quot;&gt;
+      &lt;Properties&gt;
+        &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
+          &lt;ResourceString bundle=&quot;de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/Bundle.properties&quot; key=&quot;AskDescriptionDlg.jbtnCancel.text&quot; replaceFormat=&quot;org.openide.util.NbBundle.getMessage({sourceFileName}.class, &quot;{key}&quot;)&quot;/&gt;
+        &lt;/Property&gt;
+      &lt;/Properties&gt;
+      &lt;Events&gt;
+        &lt;EventHandler event=&quot;actionPerformed&quot; listener=&quot;java.awt.event.ActionListener&quot; parameters=&quot;java.awt.event.ActionEvent&quot; handler=&quot;jbtnCancelActionPerformed&quot;/&gt;
+      &lt;/Events&gt;
+    &lt;/Component&gt;
+    &lt;Component class=&quot;javax.swing.JButton&quot; name=&quot;jbtnOK&quot;&gt;
+      &lt;Properties&gt;
+        &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
+          &lt;ResourceString bundle=&quot;de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/Bundle.properties&quot; key=&quot;AskDescriptionDlg.jbtnOK.text&quot; replaceFormat=&quot;org.openide.util.NbBundle.getMessage({sourceFileName}.class, &quot;{key}&quot;)&quot;/&gt;
+        &lt;/Property&gt;
+      &lt;/Properties&gt;
+    &lt;/Component&gt;
+  &lt;/SubComponents&gt;
+&lt;/Form&gt;

Added: trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/AskDescriptionDlg.java
===================================================================
--- trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/AskDescriptionDlg.java	2008-06-10 14:46:39 UTC (rev 137)
+++ trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/AskDescriptionDlg.java	2008-06-10 16:43:56 UTC (rev 138)
@@ -0,0 +1,105 @@
+/*
+ * AskDescriptionDlg.java
+ *
+ * Created on 10 de Junho de 2008, 17:04
+ */
+package de.berlios.jfindmyfiles.jfindmyfilesgui.dialogs;
+
+/**
+ *
+ * @author  Knitter
+ */
+public class AskDescriptionDlg extends javax.swing.JDialog {
+
+    /** Creates new form AskDescriptionDlg */
+    public AskDescriptionDlg(java.awt.Frame parent, boolean modal) {
+        super(parent, modal);
+        initComponents();
+    }
+
+    public void showCentered() {
+        setLocation(getParent().getX() + (getParent().getWidth() / 2) - (getWidth() / 2),
+                getParent().getY() + (getParent().getHeight() / 2) - (getHeight() / 2));
+        setVisible(true);
+    }
+
+    /** This method is called from within the constructor to
+     * initialize the form.
+     * WARNING: Do NOT modify this code. The content of this method is
+     * always regenerated by the Form Editor.
+     */
+    @SuppressWarnings(&quot;unchecked&quot;)
+    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;//GEN-BEGIN:initComponents
+    private void initComponents() {
+
+        jlblDescription = new javax.swing.JLabel();
+        jScrollPane1 = new javax.swing.JScrollPane();
+        jtaDescription = new javax.swing.JTextArea();
+        jbtnCancel = new javax.swing.JButton();
+        jbtnOK = new javax.swing.JButton();
+
+        setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);
+
+        jlblDescription.setText(org.openide.util.NbBundle.getMessage(AskDescriptionDlg.class, &quot;AskDescriptionDlg.jlblDescription.text&quot;)); // NOI18N
+
+        jtaDescription.setColumns(20);
+        jtaDescription.setRows(5);
+        jScrollPane1.setViewportView(jtaDescription);
+
+        jbtnCancel.setText(org.openide.util.NbBundle.getMessage(AskDescriptionDlg.class, &quot;AskDescriptionDlg.jbtnCancel.text&quot;)); // NOI18N
+        jbtnCancel.addActionListener(new java.awt.event.ActionListener() {
+            public void actionPerformed(java.awt.event.ActionEvent evt) {
+                jbtnCancelActionPerformed(evt);
+            }
+        });
+
+        jbtnOK.setText(org.openide.util.NbBundle.getMessage(AskDescriptionDlg.class, &quot;AskDescriptionDlg.jbtnOK.text&quot;)); // NOI18N
+
+        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
+        getContentPane().setLayout(layout);
+        layout.setHorizontalGroup(
+            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
+            .addGroup(layout.createSequentialGroup()
+                .addContainerGap()
+                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
+                    .addComponent(jlblDescription)
+                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
+                        .addComponent(jbtnOK)
+                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
+                        .addComponent(jbtnCancel))
+                    .addComponent(jScrollPane1, javax.swing.GroupLayout.DEFAULT_SIZE, 320, Short.MAX_VALUE))
+                .addContainerGap())
+        );
+
+        layout.linkSize(javax.swing.SwingConstants.HORIZONTAL, new java.awt.Component[] {jbtnCancel, jbtnOK});
+
+        layout.setVerticalGroup(
+            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
+            .addGroup(layout.createSequentialGroup()
+                .addContainerGap()
+                .addComponent(jlblDescription)
+                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
+                .addComponent(jScrollPane1)
+                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
+                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
+                    .addComponent(jbtnCancel)
+                    .addComponent(jbtnOK))
+                .addContainerGap())
+        );
+
+        pack();
+    }// &lt;/editor-fold&gt;//GEN-END:initComponents
+
+private void jbtnCancelActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jbtnCancelActionPerformed
+    dispose();
+}//GEN-LAST:event_jbtnCancelActionPerformed
+
+    // Variables declaration - do not modify//GEN-BEGIN:variables
+    private javax.swing.JScrollPane jScrollPane1;
+    private javax.swing.JButton jbtnCancel;
+    private javax.swing.JButton jbtnOK;
+    private javax.swing.JLabel jlblDescription;
+    private javax.swing.JTextArea jtaDescription;
+    // End of variables declaration//GEN-END:variables
+
+}

Modified: trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/Bundle.properties
===================================================================
--- trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/Bundle.properties	2008-06-10 14:46:39 UTC (rev 137)
+++ trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/Bundle.properties	2008-06-10 16:43:56 UTC (rev 138)
@@ -124,3 +124,7 @@
 ExportDlg.jlblDestination.text=Destination:
 ExportDlg.jtfDestination.text=
 ExportDlg.jbtnBrowse.text=...
+AskDescriptionDlg.jlblDescription.text=Description:
+AskDescriptionDlg.jbtnCancel.text=Cancel
+AskDescriptionDlg.jbtnOK.text=OK
+ActiveScanningDlg.jbtnCancel.text=

Modified: trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/NewCatalogDlg.form
===================================================================
--- trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/NewCatalogDlg.form	2008-06-10 14:46:39 UTC (rev 137)
+++ trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/NewCatalogDlg.form	2008-06-10 16:43:56 UTC (rev 138)
@@ -30,12 +30,12 @@
                   &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
                       &lt;Component id=&quot;jlblName&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                       &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                      &lt;Component id=&quot;jtfName&quot; pref=&quot;450&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Component id=&quot;jtfName&quot; pref=&quot;492&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
                   &lt;/Group&gt;
                   &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
                       &lt;Component id=&quot;jchkUserinternalDB&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                       &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                      &lt;Component id=&quot;jSeparator1&quot; pref=&quot;334&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Component id=&quot;jSeparator1&quot; pref=&quot;394&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
                   &lt;/Group&gt;
                   &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
                       &lt;EmptySpace min=&quot;12&quot; pref=&quot;12&quot; max=&quot;12&quot; attributes=&quot;0&quot;/&gt;
@@ -53,7 +53,7 @@
                           &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
                               &lt;Component id=&quot;jlblDestination&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                               &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                              &lt;Component id=&quot;jtfDestination&quot; pref=&quot;393&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                              &lt;Component id=&quot;jtfDestination&quot; pref=&quot;416&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
                               &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                               &lt;Component id=&quot;jbtnBrowse&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                           &lt;/Group&gt;
@@ -124,7 +124,7 @@
                           &lt;/Group&gt;
                           &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                           &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-                              &lt;Component id=&quot;jtfHostname&quot; alignment=&quot;1&quot; pref=&quot;278&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                              &lt;Component id=&quot;jtfHostname&quot; alignment=&quot;1&quot; pref=&quot;343&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
                               &lt;Group type=&quot;103&quot; alignment=&quot;0&quot; groupAlignment=&quot;1&quot; max=&quot;-2&quot; attributes=&quot;0&quot;&gt;
                                   &lt;Component id=&quot;jpfPassword&quot; alignment=&quot;0&quot; max=&quot;32767&quot; attributes=&quot;1&quot;/&gt;
                                   &lt;Component id=&quot;jtfUsername&quot; alignment=&quot;0&quot; pref=&quot;141&quot; max=&quot;32767&quot; attributes=&quot;1&quot;/&gt;

Modified: trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/NewCatalogDlg.java
===================================================================
--- trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/NewCatalogDlg.java	2008-06-10 14:46:39 UTC (rev 137)
+++ trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/NewCatalogDlg.java	2008-06-10 16:43:56 UTC (rev 138)
@@ -22,9 +22,7 @@
 import de.berlios.jfindmyfiles.catalog.CatalogEngine;
 import java.io.File;
 import javax.swing.JFileChooser;
-import javax.swing.JOptionPane;
 import org.openide.util.Lookup;
-import org.openide.util.lookup.Lookups;
 
 public class NewCatalogDlg extends javax.swing.JDialog {
 
@@ -47,45 +45,45 @@
     }
 
     private boolean validateWihtMessages() {
-        if (jtfName.getText().isEmpty()) {
-            jlbError.setText(org.openide.util.NbBundle.getMessage(NewCatalogDlg.class, &quot;NewCatalogDlg.empyname&quot;)); //TODO: i18n
+        if (jtfName.getText().trim().isEmpty()) {
+            jlbError.setText(org.openide.util.NbBundle.getMessage(NewCatalogDlg.class, &quot;NewCatalogDlg.empyname&quot;)); // NOI18N
 
             jlbError.setVisible(true);
-            this.validate();
+            validate();
             return false;
         }
         if (jchkUserinternalDB.isSelected()) {
-            if (jtfDestination.getText().isEmpty()) {
-                jlbError.setText(org.openide.util.NbBundle.getMessage(NewCatalogDlg.class, &quot;NewCatalogDlg.invaliddestination&quot;)); //TODO: i18n
+            if (jtfDestination.getText().trim().isEmpty()) {
+                jlbError.setText(org.openide.util.NbBundle.getMessage(NewCatalogDlg.class, &quot;NewCatalogDlg.invaliddestination&quot;)); // NOI18N
 
                 jlbError.setVisible(true);
-                this.validate();
+                validate();
                 return false;
             }
         } else {
-            if (jtfHostname.getText().isEmpty()) {
-                jlbError.setText(org.openide.util.NbBundle.getMessage(NewCatalogDlg.class, &quot;NewCatalogDlg.invalidurl&quot;)); //TODO: i18n
+            if (jtfHostname.getText().trim().isEmpty()) {
+                jlbError.setText(org.openide.util.NbBundle.getMessage(NewCatalogDlg.class, &quot;NewCatalogDlg.invalidurl&quot;)); // NOI18N
 
                 jlbError.setVisible(true);
-                this.validate();
+                validate();
                 return false;
-            } else if (jtfUsername.getText().isEmpty()) {
-                jlbError.setText(org.openide.util.NbBundle.getMessage(NewCatalogDlg.class, &quot;NewCatalogDlg.invalidusername&quot;)); //TODO: i18n
+            } else if (jtfUsername.getText().trim().isEmpty()) {
+                jlbError.setText(org.openide.util.NbBundle.getMessage(NewCatalogDlg.class, &quot;NewCatalogDlg.invalidusername&quot;)); // NOI18N
 
                 jlbError.setVisible(true);
-                this.validate();
+                validate();
                 return false;
-            } else if (jffPort.getText().isEmpty()) {
+            } else if (jffPort.getText().trim().isEmpty()) {
                 jlbError.setText(org.openide.util.NbBundle.getMessage(NewCatalogDlg.class, &quot;NewCatalogDlg.invalidport&quot;)); // NOI18N
 
                 jlbError.setVisible(true);
-                this.validate();
+                validate();
                 return false;
             }
         }
         if (jlbError.isVisible()) {
             jlbError.setVisible(false);
-            this.validate();
+            validate();
         }
         return true;
     }
@@ -197,7 +195,7 @@
                             .addComponent(jlblUsername))
                         .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                         .addGroup(jpDatabaseSettingsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
-                            .addComponent(jtfHostname, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, 278, Short.MAX_VALUE)
+                            .addComponent(jtfHostname, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, 343, Short.MAX_VALUE)
                             .addGroup(jpDatabaseSettingsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                                 .addComponent(jpfPassword, javax.swing.GroupLayout.Alignment.LEADING)
                                 .addComponent(jtfUsername, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, 141, Short.MAX_VALUE)
@@ -289,11 +287,11 @@
                     .addGroup(layout.createSequentialGroup()
                         .addComponent(jlblName)
                         .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
-                        .addComponent(jtfName, javax.swing.GroupLayout.DEFAULT_SIZE, 450, Short.MAX_VALUE))
+                        .addComponent(jtfName, javax.swing.GroupLayout.DEFAULT_SIZE, 492, Short.MAX_VALUE))
                     .addGroup(layout.createSequentialGroup()
                         .addComponent(jchkUserinternalDB)
                         .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
-                        .addComponent(jSeparator1, javax.swing.GroupLayout.DEFAULT_SIZE, 334, Short.MAX_VALUE))
+                        .addComponent(jSeparator1, javax.swing.GroupLayout.DEFAULT_SIZE, 394, Short.MAX_VALUE))
                     .addGroup(layout.createSequentialGroup()
                         .addGap(12, 12, 12)
                         .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
@@ -309,7 +307,7 @@
                             .addGroup(layout.createSequentialGroup()
                                 .addComponent(jlblDestination)
                                 .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
-                                .addComponent(jtfDestination, javax.swing.GroupLayout.DEFAULT_SIZE, 393, Short.MAX_VALUE)
+                                .addComponent(jtfDestination, javax.swing.GroupLayout.DEFAULT_SIZE, 416, Short.MAX_VALUE)
                                 .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                 .addComponent(jbtnBrowse)))))
                 .addContainerGap())
@@ -352,13 +350,13 @@
 }//GEN-LAST:event_jbtnCancelActionPerformed
 
 private void jbtnCreateActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jbtnCreateActionPerformed
-    if (validateWihtMessages() &amp;&amp; eng != null) {
+    if (validateWihtMessages()) {
         String selectedname = (String) jcbxDatabase.getSelectedItem();
 
         // if dbtype is selected to local return the CatalogEngine.LOCAL, if not 
         // check to see what the selected value of the combobox is and return 
         // the corresponding value.
-        final int dbtype = (jchkUserinternalDB.isSelected() ? CatalogEngine.LOCAL : (selectedname.equals(&quot;Firebird&quot;) ? CatalogEngine.FIREBIRD : (selectedname.equals(&quot;PostgreSQL&quot;) ? CatalogEngine.POSTGRESQL : (selectedname.equals(&quot;MsSQL&quot;) ? CatalogEngine.MSSQL : CatalogEngine.MYSQL))));
+        final int dbtype = (jchkUserinternalDB.isSelected() ? CatalogEngine.LOCAL : (selectedname.equals(&quot;Firebird&quot;) ? CatalogEngine.FIREBIRD : (selectedname.equals(&quot;PostgreSQL&quot;) ? CatalogEngine.POSTGRESQL : (selectedname.equals(&quot;MsSQL&quot;) ? CatalogEngine.MSSQL : CatalogEngine.MYSQL)))); // NOI18N
 
         new Thread(new Runnable() {
 
@@ -367,7 +365,7 @@
                         (jchkUserinternalDB.isSelected() ? jtfDestination.getText().trim() : jtfHostname.getText().trim()),
                         jffPort.getText().trim(), dbtype,
                         jtfUsername.getText().trim(),
-                        jpfPassword.getPassword().toString());
+                        jpfPassword.getPassword().toString().trim());
             }
         }).start();
         dispose();
@@ -375,7 +373,7 @@
 }//GEN-LAST:event_jbtnCreateActionPerformed
 
 private void jbtnHelpActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jbtnHelpActionPerformed
-    //TODO:
+    //TODO: help action
 }//GEN-LAST:event_jbtnHelpActionPerformed
 
 private void jchkUserinternalDBStateChanged(javax.swing.event.ChangeEvent evt) {//GEN-FIRST:event_jchkUserinternalDBStateChanged
@@ -396,7 +394,6 @@
         jtfDestination.setText(jfc.getSelectedFile().getAbsolutePath());
     }
 }//GEN-LAST:event_jbtnBrowseActionPerformed
-
     // Variables declaration - do not modify//GEN-BEGIN:variables
     private javax.swing.JSeparator jSeparator1;
     private javax.swing.JButton jbtnBrowse;

Modified: trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/NewDiskDlg.form
===================================================================
--- trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/NewDiskDlg.form	2008-06-10 14:46:39 UTC (rev 137)
+++ trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/NewDiskDlg.form	2008-06-10 16:43:56 UTC (rev 138)
@@ -170,9 +170,7 @@
         &lt;Component class=&quot;javax.swing.JComboBox&quot; name=&quot;jcbxCatalog&quot;&gt;
           &lt;Properties&gt;
             &lt;Property name=&quot;model&quot; type=&quot;javax.swing.ComboBoxModel&quot; editor=&quot;org.netbeans.modules.form.editors2.ComboBoxModelEditor&quot;&gt;
-              &lt;StringArray count=&quot;1&quot;&gt;
-                &lt;StringItem index=&quot;0&quot; value=&quot;Empty&quot;/&gt;
-              &lt;/StringArray&gt;
+              &lt;StringArray count=&quot;0&quot;/&gt;
             &lt;/Property&gt;
           &lt;/Properties&gt;
           &lt;AuxValues&gt;
@@ -236,6 +234,9 @@
                   &lt;ResourceString bundle=&quot;de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/Bundle.properties&quot; key=&quot;NewDiskDlg.jchkCalculateHash.text&quot; replaceFormat=&quot;org.openide.util.NbBundle.getMessage({sourceFileName}.class, &quot;{key}&quot;)&quot;/&gt;
                 &lt;/Property&gt;
               &lt;/Properties&gt;
+              &lt;Events&gt;
+                &lt;EventHandler event=&quot;stateChanged&quot; listener=&quot;javax.swing.event.ChangeListener&quot; parameters=&quot;javax.swing.event.ChangeEvent&quot; handler=&quot;jchkCalculateHashStateChanged&quot;/&gt;
+              &lt;/Events&gt;
             &lt;/Component&gt;
             &lt;Component class=&quot;javax.swing.JCheckBox&quot; name=&quot;jchkAskDescription&quot;&gt;
               &lt;Properties&gt;
@@ -243,6 +244,9 @@
                   &lt;ResourceString bundle=&quot;de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/Bundle.properties&quot; key=&quot;NewDiskDlg.jchkAskDescription.text&quot; replaceFormat=&quot;org.openide.util.NbBundle.getMessage({sourceFileName}.class, &quot;{key}&quot;)&quot;/&gt;
                 &lt;/Property&gt;
               &lt;/Properties&gt;
+              &lt;Events&gt;
+                &lt;EventHandler event=&quot;stateChanged&quot; listener=&quot;javax.swing.event.ChangeListener&quot; parameters=&quot;javax.swing.event.ChangeEvent&quot; handler=&quot;jchkAskDescriptionStateChanged&quot;/&gt;
+              &lt;/Events&gt;
             &lt;/Component&gt;
             &lt;Component class=&quot;javax.swing.JCheckBox&quot; name=&quot;jchkShowAgain&quot;&gt;
               &lt;Properties&gt;
@@ -250,6 +254,9 @@
                   &lt;ResourceString bundle=&quot;de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/Bundle.properties&quot; key=&quot;NewDiskDlg.jchkShowAgain.text&quot; replaceFormat=&quot;org.openide.util.NbBundle.getMessage({sourceFileName}.class, &quot;{key}&quot;)&quot;/&gt;
                 &lt;/Property&gt;
               &lt;/Properties&gt;
+              &lt;Events&gt;
+                &lt;EventHandler event=&quot;stateChanged&quot; listener=&quot;javax.swing.event.ChangeListener&quot; parameters=&quot;javax.swing.event.ChangeEvent&quot; handler=&quot;jchkShowAgainStateChanged&quot;/&gt;
+              &lt;/Events&gt;
             &lt;/Component&gt;
             &lt;Component class=&quot;javax.swing.JSeparator&quot; name=&quot;jSeparator1&quot;&gt;
             &lt;/Component&gt;

Modified: trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/NewDiskDlg.java
===================================================================
--- trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/NewDiskDlg.java	2008-06-10 14:46:39 UTC (rev 137)
+++ trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/NewDiskDlg.java	2008-06-10 16:43:56 UTC (rev 138)
@@ -22,6 +22,8 @@
 import de.berlios.jfindmyfiles.catalog.CatalogEngine;
 import de.berlios.jfindmyfiles.catalog.entities.DiskGroup;
 import de.berlios.jfindmyfiles.readingfiles.MediaReader;
+import de.berlios.jfindmyfiles.readingfiles.ReadingEvent;
+import de.berlios.jfindmyfiles.readingfiles.ReadingListener;
 import java.awt.event.ActionEvent;
 import java.awt.event.ActionListener;
 import java.io.File;
@@ -35,6 +37,7 @@
 import javax.swing.JToggleButton;
 import javax.swing.SwingConstants;
 import javax.swing.filechooser.FileSystemView;
+import org.hibernate.Session;
 import org.openide.util.Lookup;
 import org.openide.util.Utilities;
 import org.openide.windows.WindowManager;
@@ -43,17 +46,23 @@
  *
  * @author  ei10635
  */
-public class NewDiskDlg extends javax.swing.JDialog {
+public class NewDiskDlg extends javax.swing.JDialog implements ReadingListener {
 
     private String currentSelectedPath;
     private NewDiskDlg me = this;
     private CatalogEngine eng;
-
+    private ActiveScanningDlg scanningDlg;
+    private boolean ask4Description = false;
+    private boolean showAgain = false;
+    private boolean calculateHash = false;
+    private boolean isMedia = true;
+    
     /** Creates new form NewDiskDlg */
     public NewDiskDlg(java.awt.Frame parent, boolean modal) {
         super(parent, modal);
         eng = Lookup.getDefault().lookup(CatalogEngine.class);
         initComponents();
+        scanningDlg = new ActiveScanningDlg(WindowManager.getDefault().getMainWindow(), true);
     //TODO: get the available plugins and create the popup menu
     }
 
@@ -79,10 +88,12 @@
             toggle = new JToggleButton(roots[i].getAbsolutePath(), fsv.getSystemIcon(roots[i]));
             toggle.setHorizontalTextPosition(SwingConstants.CENTER);
             toggle.setVerticalTextPosition(SwingConstants.BOTTOM);
+            toggle.setSize(toggle.getWidth(), 24);
             toggle.addActionListener(new ActionListener() {
 
                 public void actionPerformed(ActionEvent e) {
                     currentSelectedPath = ((JToggleButton) e.getSource()).getText();
+                    isMedia = true;
                 }
             });
             jbtngrpDrives.add(toggle);
@@ -106,6 +117,7 @@
                     File f = jfc.getSelectedFile();
                     currentSelectedPath = f.getAbsolutePath();
                     ((JToggleButton) e.getSource()).setText(f.getName());
+                    isMedia = false;
                 }
             }
         });
@@ -116,16 +128,13 @@
 
     @SuppressWarnings(&quot;unchecked&quot;)
     private Object[] listDiskGroups() {
-        if (eng != null) {
-            List g = eng.getDiskGroups();
-            if (g != null) {
-                ArrayList ar = new ArrayList(g.size());
-                for (Object obj : g) {
-                    ar.add(obj);
-                }
-
-                return ar.toArray();
+        List l = eng.getDiskGroups();
+        if (l != null) {
+            ArrayList ar = new ArrayList(l.size());
+            for (Object obj : l) {
+                ar.add(obj);
             }
+            return ar.toArray();
         }
         return new Object[]{};
     }
@@ -178,17 +187,30 @@
 
         jlblDiskName.setText(org.openide.util.NbBundle.getMessage(NewDiskDlg.class, &quot;NewDiskDlg.jlblDiskName.text&quot;)); // NOI18N
 
-        jcbxCatalog.setModel(new javax.swing.DefaultComboBoxModel(new String[] { &quot;Empty&quot; }));
-
         jlblCatalog.setText(org.openide.util.NbBundle.getMessage(NewDiskDlg.class, &quot;NewDiskDlg.jlblCatalog.text&quot;)); // NOI18N
 
         jpScanningOptions.setBorder(javax.swing.BorderFactory.createTitledBorder(&quot;Options &quot;));
 
         jchkCalculateHash.setText(org.openide.util.NbBundle.getMessage(NewDiskDlg.class, &quot;NewDiskDlg.jchkCalculateHash.text&quot;)); // NOI18N
+        jchkCalculateHash.addChangeListener(new javax.swing.event.ChangeListener() {
+            public void stateChanged(javax.swing.event.ChangeEvent evt) {
+                jchkCalculateHashStateChanged(evt);
+            }
+        });
 
         jchkAskDescription.setText(org.openide.util.NbBundle.getMessage(NewDiskDlg.class, &quot;NewDiskDlg.jchkAskDescription.text&quot;)); // NOI18N
+        jchkAskDescription.addChangeListener(new javax.swing.event.ChangeListener() {
+            public void stateChanged(javax.swing.event.ChangeEvent evt) {
+                jchkAskDescriptionStateChanged(evt);
+            }
+        });
 
         jchkShowAgain.setText(org.openide.util.NbBundle.getMessage(NewDiskDlg.class, &quot;NewDiskDlg.jchkShowAgain.text&quot;)); // NOI18N
+        jchkShowAgain.addChangeListener(new javax.swing.event.ChangeListener() {
+            public void stateChanged(javax.swing.event.ChangeEvent evt) {
+                jchkShowAgainStateChanged(evt);
+            }
+        });
 
         jtbSelectedPlugins.setIcon(new ImageIcon(Utilities.loadImage(&quot;/de/berlios/jfindmyfiles/jfindmyfilesgui/resources/images/x16/button-show-plugins.png&quot;)));
         jtbSelectedPlugins.setText(org.openide.util.NbBundle.getMessage(NewDiskDlg.class, &quot;NewDiskDlg.jtbSelectedPlugins.text&quot;)); // NOI18N
@@ -339,9 +361,9 @@
 
 private void jbtnScanActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jbtnScanActionPerformed
     MediaReader r = Lookup.getDefault().lookup(MediaReader.class);
-    ActiveScanningDlg scanningDlg = new ActiveScanningDlg(WindowManager.getDefault().getMainWindow(), true);
-    r.read(new File(currentSelectedPath), jchkCalculateHash.isSelected());
-    scanningDlg.showCentered();
+    r.addListener(scanningDlg);
+    r.read(new File(currentSelectedPath), calculateHash, isMedia);
+    
 }//GEN-LAST:event_jbtnScanActionPerformed
 
 private void jbtnCancelActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jbtnCancelActionPerformed
@@ -350,8 +372,21 @@
 }//GEN-LAST:event_jbtnCancelActionPerformed
 
 private void jbtnHelpActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jbtnHelpActionPerformed
-// TODO: help code
+    //TODO: help action
 }//GEN-LAST:event_jbtnHelpActionPerformed
+
+private void jchkCalculateHashStateChanged(javax.swing.event.ChangeEvent evt) {//GEN-FIRST:event_jchkCalculateHashStateChanged
+    calculateHash = jchkCalculateHash.isSelected();
+}//GEN-LAST:event_jchkCalculateHashStateChanged
+
+private void jchkAskDescriptionStateChanged(javax.swing.event.ChangeEvent evt) {//GEN-FIRST:event_jchkAskDescriptionStateChanged
+    ask4Description = jchkAskDescription.isSelected();
+}//GEN-LAST:event_jchkAskDescriptionStateChanged
+
+private void jchkShowAgainStateChanged(javax.swing.event.ChangeEvent evt) {//GEN-FIRST:event_jchkShowAgainStateChanged
+    showAgain = jchkShowAgain.isSelected();
+}//GEN-LAST:event_jchkShowAgainStateChanged
+
     // Variables declaration - do not modify//GEN-BEGIN:variables
     private javax.swing.JCheckBoxMenuItem jCheckBoxMenuItem1;
     private javax.swing.JCheckBoxMenuItem jCheckBoxMenuItem2;
@@ -375,4 +410,33 @@
     private javax.swing.JToggleButton jtbSelectedPlugins;
     private javax.swing.JTextField jtfDiskName;
     // End of variables declaration//GEN-END:variables
+
+
+    public void readingStarted(ReadingEvent evt) {
+        scanningDlg.showCentered();
+    }
+    
+    public void readingFile(ReadingEvent evt) {
+        throw new UnsupportedOperationException(&quot;Not supported yet.&quot;);
+    }
+
+    public void readingStopped(ReadingEvent evt) {
+        //TODO: ask for description
+        if(ask4Description) {
+            AskDescriptionDlg dlg = new AskDescriptionDlg(WindowManager.getDefault().getMainWindow(), true);
+            dlg.showCentered();
+            /*
+            Session s = eng.sessionFactory.getCurrentSession();
+            s.beginTransaction();
+            evt.getMedia().setDescription(&quot;&quot;);
+            s.getTransaction().commit();*/
+        }
+        if(!showAgain) {
+            dispose();
+        }
+    }
+
+    public void readingAborted(ReadingEvent evt) {
+        throw new UnsupportedOperationException(&quot;Not supported yet.&quot;);
+    }
 }

Added: trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/resources/images/x16/button-stop.png
===================================================================
(Binary files differ)


Property changes on: trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/resources/images/x16/button-stop.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Modified: trunk/project/JFindMyFiles/ReadingFiles/nbproject/genfiles.properties
===================================================================
--- trunk/project/JFindMyFiles/ReadingFiles/nbproject/genfiles.properties	2008-06-10 14:46:39 UTC (rev 137)
+++ trunk/project/JFindMyFiles/ReadingFiles/nbproject/genfiles.properties	2008-06-10 16:43:56 UTC (rev 138)
@@ -1,8 +1,8 @@
-build.xml.data.CRC32=3279c8b7
+build.xml.data.CRC32=e12938b8
 build.xml.script.CRC32=78d85b23
 build.xml.stylesheet.CRC32=79c3b980
 # This file is used by a NetBeans-based IDE to track changes in generated files such as build-impl.xml.
 # Do not edit this file. You may delete it but then the IDE will never regenerate such files for you.
-nbproject/build-impl.xml.data.CRC32=3279c8b7
+nbproject/build-impl.xml.data.CRC32=e12938b8
 nbproject/build-impl.xml.script.CRC32=a04a2658
 nbproject/build-impl.xml.stylesheet.CRC32=deb65f65

Modified: trunk/project/JFindMyFiles/ReadingFiles/nbproject/project.xml
===================================================================
--- trunk/project/JFindMyFiles/ReadingFiles/nbproject/project.xml	2008-06-10 14:46:39 UTC (rev 137)
+++ trunk/project/JFindMyFiles/ReadingFiles/nbproject/project.xml	2008-06-10 16:43:56 UTC (rev 138)
@@ -30,6 +30,14 @@
                         &lt;specification-version&gt;1.0&lt;/specification-version&gt;
                     &lt;/run-dependency&gt;
                 &lt;/dependency&gt;
+                &lt;dependency&gt;
+                    &lt;code-name-base&gt;org.openide.util&lt;/code-name-base&gt;
+                    &lt;build-prerequisite/&gt;
+                    &lt;compile-dependency/&gt;
+                    &lt;run-dependency&gt;
+                        &lt;specification-version&gt;7.12.0.1&lt;/specification-version&gt;
+                    &lt;/run-dependency&gt;
+                &lt;/dependency&gt;
             &lt;/module-dependencies&gt;
             &lt;public-packages&gt;
                 &lt;package&gt;de.berlios.jfindmyfiles.readingfiles&lt;/package&gt;

Modified: trunk/project/JFindMyFiles/ReadingFiles/src/de/berlios/jfindmyfiles/readingfiles/MediaReader.java
===================================================================
--- trunk/project/JFindMyFiles/ReadingFiles/src/de/berlios/jfindmyfiles/readingfiles/MediaReader.java	2008-06-10 14:46:39 UTC (rev 137)
+++ trunk/project/JFindMyFiles/ReadingFiles/src/de/berlios/jfindmyfiles/readingfiles/MediaReader.java	2008-06-10 16:43:56 UTC (rev 138)
@@ -4,11 +4,14 @@
  */
 package de.berlios.jfindmyfiles.readingfiles;
 
+import de.berlios.jfindmyfiles.catalog.CatalogEngine;
 import de.berlios.jfindmyfiles.catalog.entities.FileWrapper;
 import de.berlios.jfindmyfiles.catalog.entities.Media;
 import java.io.File;
 import java.util.Stack;
 import java.util.Vector;
+import org.hibernate.Session;
+import org.openide.util.Lookup;
 
 /**
  *
@@ -18,31 +21,29 @@
 
     private Vector&lt;ReadingListener&gt; listeners;
     private MediaReader me = this;
+    private boolean abort = false;
 
     public MediaReader() {
         listeners = new Vector&lt;ReadingListener&gt;();
     }
 
-    public void read(File source, boolean sha) {
-        final File file = source;
-        final boolean isMedia = false;//?
+    public void read(final File file, final boolean sha, final boolean isMedia) {
 
         new Thread(new Runnable() {
 
             public void run() {
-                fireReadingFile(new ReadingEvent(me, &quot;&quot;));
-
+                fireReadingStarted(new ReadingEvent(me, &quot;&quot;, null));
+                Session s = Lookup.getDefault().lookup(CatalogEngine.class).sessionFactory.getCurrentSession();
+                s.beginTransaction();
                 Stack&lt;File&gt; directories = new Stack&lt;File&gt;();
                 File current, listing[];
                 long totalSize = 0L, childSize = 0L;
                 FileWrapper fw, child;
                 int z;
-                //?
                 Media container = null;
-
                 if (isMedia) {
                     container = new Media();
-                }//?
+                }
 
                 if (file.isDirectory()) {//NOTE: this protections may be dropped
                     fw = new FileWrapper(file.getName(),
@@ -64,7 +65,7 @@
                         }
                     }
 
-                    while (!directories.empty()) {
+                    while (!directories.empty() &amp;&amp; !abort) {
                         current = directories.pop();
                         childSize = 0;
                         child = new FileWrapper(current.getName(),
@@ -89,15 +90,22 @@
                         child.setSize(childSize);
                     }
                     fw.setSize(totalSize);
+                    if (abort) {
+                        s.getTransaction().rollback();
+                    }
+                    s.getTransaction().commit();
                 }
-                
-                
-                //insert all inside the db?
+                fireReadingStopped(new ReadingEvent(me, &quot;&quot;, container));
             }
         }).start();
-        fireReadingStopped(new ReadingEvent(this, &quot;&quot;));
+
     }
 
+    public void abort() {
+        abort = true;
+        fireReadingAborted(new ReadingEvent(this, &quot;&quot;, null));
+    }
+
     public void addListener(ReadingListener l) {
         if (listeners == null) {
             listeners = new Vector&lt;ReadingListener&gt;();
@@ -111,16 +119,28 @@
             listeners.remove(l);
         }
     }
+   
+    private void fireReadingStarted(ReadingEvent evt) {
+        for (ReadingListener l : listeners) {
+            l.readingStarted(evt);
+        }
+    }
 
+    private void fireReadingStopped(ReadingEvent evt) {
+        for (ReadingListener l : listeners) {
+            l.readingStopped(evt);
+        }
+    }
+    
     private void fireReadingFile(ReadingEvent evt) {
         for (ReadingListener l : listeners) {
             l.readingFile(evt);
         }
     }
 
-    private void fireReadingStopped(ReadingEvent evt) {
+    private void fireReadingAborted(ReadingEvent evt) {
         for (ReadingListener l : listeners) {
-            l.readingStopped(evt);
+            l.readingAborted(evt);
         }
     }
 }

Modified: trunk/project/JFindMyFiles/ReadingFiles/src/de/berlios/jfindmyfiles/readingfiles/ReadingEvent.java
===================================================================
--- trunk/project/JFindMyFiles/ReadingFiles/src/de/berlios/jfindmyfiles/readingfiles/ReadingEvent.java	2008-06-10 14:46:39 UTC (rev 137)
+++ trunk/project/JFindMyFiles/ReadingFiles/src/de/berlios/jfindmyfiles/readingfiles/ReadingEvent.java	2008-06-10 16:43:56 UTC (rev 138)
@@ -5,6 +5,7 @@
 
 package de.berlios.jfindmyfiles.readingfiles;
 
+import de.berlios.jfindmyfiles.catalog.entities.Media;
 import java.util.EventObject;
 
 /**
@@ -14,14 +15,20 @@
 public class ReadingEvent extends EventObject {
     
     private String currentFileName;
+    private Media media;
     
-    public ReadingEvent(MediaReader source, String currentFileName) {
+    public ReadingEvent(MediaReader source, String currentFileName, Media media) {
         super(source);
         this.currentFileName = currentFileName;
+        this.media = media;
     }
     
     public String getCurrentFileName() {
         return currentFileName;
     }
+    
+    public Media getMedia() {
+        return media;
+    }
 
 }

Modified: trunk/project/JFindMyFiles/ReadingFiles/src/de/berlios/jfindmyfiles/readingfiles/ReadingListener.java
===================================================================
--- trunk/project/JFindMyFiles/ReadingFiles/src/de/berlios/jfindmyfiles/readingfiles/ReadingListener.java	2008-06-10 14:46:39 UTC (rev 137)
+++ trunk/project/JFindMyFiles/ReadingFiles/src/de/berlios/jfindmyfiles/readingfiles/ReadingListener.java	2008-06-10 16:43:56 UTC (rev 138)
@@ -11,6 +11,7 @@
  */
 public interface ReadingListener {
     
+    void readingStarted(ReadingEvent evt);
     void readingFile(ReadingEvent evt);
     void readingStopped(ReadingEvent evt);
     void readingAborted(ReadingEvent evt);


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000132.html">[Jfindmyfiles-commits] r137 - in trunk: docs media	project/JFindMyFiles/ExportEngine/nbproject	project/JFindMyFiles/ExportEngine/src/de/berlios/jfindmyfiles/exportengine	project/JFindMyFiles/JFindMyFilesGui/nbproject	project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs	project/JFindMyFiles/JaCKSum	project/JFindMyFiles/ReadingFiles/nbproject	project/JFindMyFiles/ReadingFiles/src/de/berlios/jfindmyfiles/readingfiles
</A></li>
	<LI>Next message: <A HREF="000134.html">[Jfindmyfiles-commits] r139 - in trunk/project/JFindMyFiles:	Catalog/src/de/berlios/jfindmyfiles/catalog/entities	JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs	ReadingFiles/src/de/berlios/jfindmyfiles/readingfiles
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#133">[ date ]</a>
              <a href="thread.html#133">[ thread ]</a>
              <a href="subject.html#133">[ subject ]</a>
              <a href="author.html#133">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/jfindmyfiles-commits">More information about the Jfindmyfiles-commits
mailing list</a><br>
</body></html>
