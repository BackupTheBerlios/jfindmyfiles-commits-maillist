<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Jfindmyfiles-commits] r161 - in trunk: docs docs/Documentos	Externos docs/Iteracao6-CB07	project/JFindMyFiles/ExportEngine/nbproject	project/JFindMyFiles/ExportEngine/src/de/berlios/jfindmyfiles/exportengine	project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs	project/JFindMyFiles/ReadingFiles/src/de/berlios/jfindmyfiles/readingfiles/utils
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/jfindmyfiles-commits/2008-June/index.html" >
   <LINK REL="made" HREF="mailto:jfindmyfiles-commits%40lists.berlios.de?Subject=Re%3A%20%5BJfindmyfiles-commits%5D%20r161%20-%20in%20trunk%3A%20docs%20docs/Documentos%0A%09Externos%20docs/Iteracao6-CB07%0A%09project/JFindMyFiles/ExportEngine/nbproject%0A%09project/JFindMyFiles/ExportEngine/src/de/berlios/jfindmyfiles/exportengine%0A%09project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs%0A%09project/JFindMyFiles/ReadingFiles/src/de/berlios/jfindmyfiles/readingfiles/utils&In-Reply-To=%3C200806201926.m5KJQ6t9007203%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000155.html">
   <LINK REL="Next"  HREF="000157.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Jfindmyfiles-commits] r161 - in trunk: docs docs/Documentos	Externos docs/Iteracao6-CB07	project/JFindMyFiles/ExportEngine/nbproject	project/JFindMyFiles/ExportEngine/src/de/berlios/jfindmyfiles/exportengine	project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs	project/JFindMyFiles/ReadingFiles/src/de/berlios/jfindmyfiles/readingfiles/utils</H1>
    <B>knitter at mail.berlios.de</B> 
    <A HREF="mailto:jfindmyfiles-commits%40lists.berlios.de?Subject=Re%3A%20%5BJfindmyfiles-commits%5D%20r161%20-%20in%20trunk%3A%20docs%20docs/Documentos%0A%09Externos%20docs/Iteracao6-CB07%0A%09project/JFindMyFiles/ExportEngine/nbproject%0A%09project/JFindMyFiles/ExportEngine/src/de/berlios/jfindmyfiles/exportengine%0A%09project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs%0A%09project/JFindMyFiles/ReadingFiles/src/de/berlios/jfindmyfiles/readingfiles/utils&In-Reply-To=%3C200806201926.m5KJQ6t9007203%40sheep.berlios.de%3E"
       TITLE="[Jfindmyfiles-commits] r161 - in trunk: docs docs/Documentos	Externos docs/Iteracao6-CB07	project/JFindMyFiles/ExportEngine/nbproject	project/JFindMyFiles/ExportEngine/src/de/berlios/jfindmyfiles/exportengine	project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs	project/JFindMyFiles/ReadingFiles/src/de/berlios/jfindmyfiles/readingfiles/utils">knitter at mail.berlios.de
       </A><BR>
    <I>Fri Jun 20 21:26:06 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000155.html">[Jfindmyfiles-commits] r160 - in	trunk/project/JFindMyFiles/JFindMyFilesGui: . javahelp	javahelp/de javahelp/de/berlios javahelp/de/berlios/jfindmyfiles	javahelp/de/berlios/jfindmyfiles/jfindmyfilesgui	javahelp/de/berlios/jfindmyfiles/jfindmyfilesgui/docs	nbproject src/de/berlios/jfindmyfiles/jfindmyfilesgui
</A></li>
        <LI>Next message: <A HREF="000157.html">[Jfindmyfiles-commits] r162 - in trunk: docs docs/Documentos Externos docs/Iteracao2-CB05 docs/Iteracao2-CB05/Diagrama de Classes docs/Iteracao2-CB05/Diagrama de Classes/DiagramBackup docs/Iteracao3-CB03 docs/Iteracao3-CB03/APIOverview docs/Iteracao3-CB03/APIOverview/nbproject docs/Iteracao4-CB04 docs/Iteracao6-CB07 media/icons/x16 project/JFindMyFiles/ExportEngine/src/de/berlios/jfindmyfiles/exportengine project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/actions project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/nodes project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/resources/images/x16 project/JFindMyFiles/ReadingFiles/nbproject project/JFindMyFiles/ReadingFiles/src/de/berlios/jfindmyfiles/readingfiles/pluginapi spikes spikes/Exe! cutarFicheiro spikes/ExecutarFicheiro/nbproject spikes/ExecutarFicheiro/src spikes/ExecutarFicheiro/src/executarficheiro spikes/PluginAPI/lib
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#156">[ date ]</a>
              <a href="thread.html#156">[ thread ]</a>
              <a href="subject.html#156">[ subject ]</a>
              <a href="author.html#156">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: knitter
Date: 2008-06-20 21:25:56 +0200 (Fri, 20 Jun 2008)
New Revision: 161

Added:
   trunk/docs/Documentos Externos/rfc4180.txt
   trunk/docs/Iteracao6-CB07/rfc4180.txt
Modified:
   trunk/docs/Iteracao6-CB07/exemplo.csv
   trunk/docs/TODO
   trunk/project/JFindMyFiles/ExportEngine/nbproject/genfiles.properties
   trunk/project/JFindMyFiles/ExportEngine/nbproject/project.xml
   trunk/project/JFindMyFiles/ExportEngine/src/de/berlios/jfindmyfiles/exportengine/CSV.java
   trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/Bundle.properties
   trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/ExportDlg.form
   trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/ExportDlg.java
   trunk/project/JFindMyFiles/ReadingFiles/src/de/berlios/jfindmyfiles/readingfiles/utils/ReadingUtils.java
Log:
In?\195?\173cio da implementa?\195?\167?\195?\163o do mecanismo de exporta?\195?\167?\195?\163o para CSV.

Added: trunk/docs/Documentos Externos/rfc4180.txt
===================================================================
--- trunk/docs/Documentos Externos/rfc4180.txt	2008-06-20 12:15:09 UTC (rev 160)
+++ trunk/docs/Documentos Externos/rfc4180.txt	2008-06-20 19:25:56 UTC (rev 161)
@@ -0,0 +1,451 @@
+
+
+
+
+
+
+Network Working Group                                    Y. Shafranovich
+Request for Comments: 4180                SolidMatrix Technologies, Inc.
+Category: Informational                                     October 2005
+
+
+   Common Format and MIME Type for Comma-Separated Values (CSV) Files
+
+Status of This Memo
+
+   This memo provides information for the Internet community.  It does
+   not specify an Internet standard of any kind.  Distribution of this
+   memo is unlimited.
+
+Copyright Notice
+
+   Copyright (C) The Internet Society (2005).
+
+Abstract
+
+   This RFC documents the format used for Comma-Separated Values (CSV)
+   files and registers the associated MIME type &quot;text/csv&quot;.
+
+Table of Contents
+
+   1. Introduction ....................................................2
+   2. Definition of the CSV Format ....................................2
+   3. MIME Type Registration of text/csv ..............................4
+   4. IANA Considerations .............................................5
+   5. Security Considerations .........................................5
+   6. Acknowledgments .................................................6
+   7. References ......................................................6
+      7.1. Normative References .......................................6
+      7.2. Informative References .....................................6
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+Shafranovich                 Informational                      [Page 1]
+
+RFC 4180       Common Format and MIME Type for CSV Files    October 2005
+
+
+1.  Introduction
+
+   The comma separated values format (CSV) has been used for exchanging
+   and converting data between various spreadsheet programs for quite
+   some time.  Surprisingly, while this format is very common, it has
+   never been formally documented.  Additionally, while the IANA MIME
+   registration tree includes a registration for
+   &quot;text/tab-separated-values&quot; type, no MIME types have ever been
+   registered with IANA for CSV.  At the same time, various programs and
+   operating systems have begun to use different MIME types for this
+   format.  This RFC documents the format of comma separated values
+   (CSV) files and formally registers the &quot;text/csv&quot; MIME type for CSV
+   in accordance with RFC 2048 [1].
+
+2.  Definition of the CSV Format
+
+   While there are various specifications and implementations for the
+   CSV format (for ex. [4], [5], [6] and [7]), there is no formal
+   specification in existence, which allows for a wide variety of
+   interpretations of CSV files.  This section documents the format that
+   seems to be followed by most implementations:
+
+   1.  Each record is located on a separate line, delimited by a line
+       break (CRLF).  For example:
+
+       aaa,bbb,ccc CRLF
+       zzz,yyy,xxx CRLF
+
+   2.  The last record in the file may or may not have an ending line
+       break.  For example:
+
+       aaa,bbb,ccc CRLF
+       zzz,yyy,xxx
+
+   3.  There maybe an optional header line appearing as the first line
+       of the file with the same format as normal record lines.  This
+       header will contain names corresponding to the fields in the file
+       and should contain the same number of fields as the records in
+       the rest of the file (the presence or absence of the header line
+       should be indicated via the optional &quot;header&quot; parameter of this
+       MIME type).  For example:
+
+       field_name,field_name,field_name CRLF
+       aaa,bbb,ccc CRLF
+       zzz,yyy,xxx CRLF
+
+
+
+
+
+
+Shafranovich                 Informational                      [Page 2]
+
+RFC 4180       Common Format and MIME Type for CSV Files    October 2005
+
+
+   4.  Within the header and each record, there may be one or more
+       fields, separated by commas.  Each line should contain the same
+       number of fields throughout the file.  Spaces are considered part
+       of a field and should not be ignored.  The last field in the
+       record must not be followed by a comma.  For example:
+
+       aaa,bbb,ccc
+
+   5.  Each field may or may not be enclosed in double quotes (however
+       some programs, such as Microsoft Excel, do not use double quotes
+       at all).  If fields are not enclosed with double quotes, then
+       double quotes may not appear inside the fields.  For example:
+
+       &quot;aaa&quot;,&quot;bbb&quot;,&quot;ccc&quot; CRLF
+       zzz,yyy,xxx
+
+   6.  Fields containing line breaks (CRLF), double quotes, and commas
+       should be enclosed in double-quotes.  For example:
+
+       &quot;aaa&quot;,&quot;b CRLF
+       bb&quot;,&quot;ccc&quot; CRLF
+       zzz,yyy,xxx
+
+   7.  If double-quotes are used to enclose fields, then a double-quote
+       appearing inside a field must be escaped by preceding it with
+       another double quote.  For example:
+
+       &quot;aaa&quot;,&quot;b&quot;&quot;bb&quot;,&quot;ccc&quot;
+
+   The ABNF grammar [2] appears as follows:
+
+   file = [header CRLF] record *(CRLF record) [CRLF]
+
+   header = name *(COMMA name)
+
+   record = field *(COMMA field)
+
+   name = field
+
+   field = (escaped / non-escaped)
+
+   escaped = DQUOTE *(TEXTDATA / COMMA / CR / LF / 2DQUOTE) DQUOTE
+
+   non-escaped = *TEXTDATA
+
+   COMMA = %x2C
+
+   CR = %x0D ;as per section 6.1 of RFC 2234 [2]
+
+
+
+Shafranovich                 Informational                      [Page 3]
+
+RFC 4180       Common Format and MIME Type for CSV Files    October 2005
+
+
+   DQUOTE =  %x22 ;as per section 6.1 of RFC 2234 [2]
+
+   LF = %x0A ;as per section 6.1 of RFC 2234 [2]
+
+   CRLF = CR LF ;as per section 6.1 of RFC 2234 [2]
+
+   TEXTDATA =  %x20-21 / %x23-2B / %x2D-7E
+
+3.  MIME Type Registration of text/csv
+
+   This section provides the media-type registration application (as per
+   RFC 2048 [1].
+
+   To: <A HREF="https://lists.berlios.de/mailman/listinfo/jfindmyfiles-commits">ietf-types at iana.org</A>
+
+   Subject: Registration of MIME media type text/csv
+
+   MIME media type name: text
+
+   MIME subtype name: csv
+
+   Required parameters: none
+
+   Optional parameters: charset, header
+
+      Common usage of CSV is US-ASCII, but other character sets defined
+      by IANA for the &quot;text&quot; tree may be used in conjunction with the
+      &quot;charset&quot; parameter.
+
+      The &quot;header&quot; parameter indicates the presence or absence of the
+      header line.  Valid values are &quot;present&quot; or &quot;absent&quot;.
+      Implementors choosing not to use this parameter must make their
+      own decisions as to whether the header line is present or absent.
+
+   Encoding considerations:
+
+      As per section 4.1.1. of RFC 2046 [3], this media type uses CRLF
+      to denote line breaks.  However, implementors should be aware that
+      some implementations may use other values.
+
+   Security considerations:
+
+      CSV files contain passive text data that should not pose any
+      risks.  However, it is possible in theory that malicious binary
+      data may be included in order to exploit potential buffer overruns
+      in the program processing CSV data.  Additionally, private data
+      may be shared via this format (which of course applies to any text
+      data).
+
+
+
+Shafranovich                 Informational                      [Page 4]
+
+RFC 4180       Common Format and MIME Type for CSV Files    October 2005
+
+
+   Interoperability considerations:
+
+      Due to lack of a single specification, there are considerable
+      differences among implementations.  Implementors should &quot;be
+      conservative in what you do, be liberal in what you accept from
+      others&quot; (RFC 793 [8]) when processing CSV files.  An attempt at a
+      common definition can be found in Section 2.
+
+      Implementations deciding not to use the optional &quot;header&quot;
+      parameter must make their own decision as to whether the header is
+      absent or present.
+
+   Published specification:
+
+      While numerous private specifications exist for various programs
+      and systems, there is no single &quot;master&quot; specification for this
+      format.  An attempt at a common definition can be found in Section
+      2.
+
+   Applications that use this media type:
+
+      Spreadsheet programs and various data conversion utilities
+
+   Additional information:
+
+      Magic number(s): none
+
+      File extension(s): CSV
+
+      Macintosh File Type Code(s): TEXT
+
+   Person &amp; email address to contact for further information:
+
+      Yakov Shafranovich &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/jfindmyfiles-commits">ietf at shaftek.org</A>&gt;
+
+   Intended usage: COMMON
+
+   Author/Change controller: IESG
+
+4.  IANA Considerations
+
+   The IANA has registered the MIME type &quot;text/csv&quot; using the
+   application provided in Section 3 of this document.
+
+5.  Security Considerations
+
+   See discussion above in section 3.
+
+
+
+
+Shafranovich                 Informational                      [Page 5]
+
+RFC 4180       Common Format and MIME Type for CSV Files    October 2005
+
+
+6.  Acknowledgments
+
+   The author would like to thank Dave Crocker, Martin Duerst, Joel M.
+   Halpern, Clyde Ingram, Graham Klyne, Bruce Lilly, Chris Lilley, and
+   members of the IESG for their helpful suggestions.  A special word of
+   thanks goes to Dave for helping with the ABNF grammar.
+
+   The author would also like to thank Henrik Lefkowetz, Marshall Rose,
+   and the folks at xml.resource.org for providing many of the tools
+   used for preparing RFCs and Internet drafts.
+
+   A special thank you goes to L.T.S.
+
+7.  References
+
+7.1.  Normative References
+
+   [1]  Freed, N., Klensin, J., and J. Postel, &quot;Multipurpose Internet
+        Mail Extensions (MIME) Part Four: Registration Procedures&quot;, BCP
+        13, RFC 2048, November 1996.
+
+   [2]  Crocker, D. and P. Overell, &quot;Augmented BNF for Syntax
+        Specifications: ABNF&quot;, RFC 2234, November 1997.
+
+   [3]  Freed, N. and N. Borenstein, &quot;Multipurpose Internet Mail
+        Extensions (MIME) Part Two: Media Types&quot;, RFC 2046, November
+        1996.
+
+7.2.  Informative References
+
+   [4]  Repici, J., &quot;HOW-TO: The Comma Separated Value (CSV) File
+        Format&quot;, 2004,
+        &lt;<A HREF="http://www.creativyst.com/Doc/Articles/CSV/CSV01.htm">http://www.creativyst.com/Doc/Articles/CSV/CSV01.htm</A>&gt;.
+
+   [5]  Edoceo, Inc., &quot;CSV Standard File Format&quot;, 2004,
+        &lt;<A HREF="http://www.edoceo.com/utilis/csv-file-format.php">http://www.edoceo.com/utilis/csv-file-format.php</A>&gt;.
+
+   [6]  Rodger, R. and O. Shanaghy, &quot;Documentation for Ricebridge CSV
+        Manager&quot;, February 2005,
+        &lt;<A HREF="http://www.ricebridge.com/products/csvman/reference.htm">http://www.ricebridge.com/products/csvman/reference.htm</A>&gt;.
+
+   [7]  Raymond, E., &quot;The Art of Unix Programming, Chapter 5&quot;, September
+        2003,
+        &lt;<A HREF="http://www.catb.org/~esr/writings/taoup/html/ch05s02.html">http://www.catb.org/~esr/writings/taoup/html/ch05s02.html</A>&gt;.
+
+   [8]  Postel, J., &quot;Transmission Control Protocol&quot;, STD 7, RFC 793,
+        September 1981.
+
+
+
+
+Shafranovich                 Informational                      [Page 6]
+
+RFC 4180       Common Format and MIME Type for CSV Files    October 2005
+
+
+Author's Address
+
+   Yakov Shafranovich
+   SolidMatrix Technologies, Inc.
+
+   EMail: <A HREF="https://lists.berlios.de/mailman/listinfo/jfindmyfiles-commits">ietf at shaftek.org</A>
+   URI:   <A HREF="http://www.shaftek.org">http://www.shaftek.org</A>
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+Shafranovich                 Informational                      [Page 7]
+
+RFC 4180       Common Format and MIME Type for CSV Files    October 2005
+
+
+Full Copyright Statement
+
+   Copyright (C) The Internet Society (2005).
+
+   This document is subject to the rights, licenses and restrictions
+   contained in BCP 78, and except as set forth therein, the authors
+   retain all their rights.
+
+   This document and the information contained herein are provided on an
+   &quot;AS IS&quot; basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS
+   OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY AND THE INTERNET
+   ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED,
+   INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE
+   INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED
+   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.
+
+Intellectual Property
+
+   The IETF takes no position regarding the validity or scope of any
+   Intellectual Property Rights or other rights that might be claimed to
+   pertain to the implementation or use of the technology described in
+   this document or the extent to which any license under such rights
+   might or might not be available; nor does it represent that it has
+   made any independent effort to identify any such rights.  Information
+   on the procedures with respect to rights in RFC documents can be
+   found in BCP 78 and BCP 79.
+
+   Copies of IPR disclosures made to the IETF Secretariat and any
+   assurances of licenses to be made available, or the result of an
+   attempt made to obtain a general license or permission for the use of
+   such proprietary rights by implementers or users of this
+   specification can be obtained from the IETF on-line IPR repository at
+   <A HREF="http://www.ietf.org/ipr.">http://www.ietf.org/ipr.</A>
+
+   The IETF invites any interested party to bring to its attention any
+   copyrights, patents or patent applications, or other proprietary
+   rights that may cover technology that may be required to implement
+   this standard.  Please address the information to the IETF at ietf-
+   <A HREF="https://lists.berlios.de/mailman/listinfo/jfindmyfiles-commits">ipr at ietf.org.</A>
+
+Acknowledgement
+
+   Funding for the RFC Editor function is currently provided by the
+   Internet Society.
+
+
+
+
+
+
+
+Shafranovich                 Informational                      [Page 8]
+

Modified: trunk/docs/Iteracao6-CB07/exemplo.csv
===================================================================
--- trunk/docs/Iteracao6-CB07/exemplo.csv	2008-06-20 12:15:09 UTC (rev 160)
+++ trunk/docs/Iteracao6-CB07/exemplo.csv	2008-06-20 19:25:56 UTC (rev 161)
@@ -0,0 +1,7 @@
+name,creation-date,description,total-size,disk-number,total-folders
+label-id,name
+group-id,name,description,capacity,groups/*ids separdos por ponto e virgula*/,parent-id
+media-id,name,capacity,last_modified,description,free-space,location,files/*ids separdos por ponto e virgula*/,labels/*ids separdos por ponto e virgula*/,type
+file-id,name,absolute-path,last-modified,description,hidden,size,extension,image-thumb,video-preview,audio-clip,is-file,children,parent-id,media-id
+user-id,firstname,surname,loans/*ids separdos por ponto e virgula*/
+loan-id,loaned-date,returned-date,user-id,media-id
\ No newline at end of file

Added: trunk/docs/Iteracao6-CB07/rfc4180.txt
===================================================================
--- trunk/docs/Iteracao6-CB07/rfc4180.txt	2008-06-20 12:15:09 UTC (rev 160)
+++ trunk/docs/Iteracao6-CB07/rfc4180.txt	2008-06-20 19:25:56 UTC (rev 161)
@@ -0,0 +1,451 @@
+
+
+
+
+
+
+Network Working Group                                    Y. Shafranovich
+Request for Comments: 4180                SolidMatrix Technologies, Inc.
+Category: Informational                                     October 2005
+
+
+   Common Format and MIME Type for Comma-Separated Values (CSV) Files
+
+Status of This Memo
+
+   This memo provides information for the Internet community.  It does
+   not specify an Internet standard of any kind.  Distribution of this
+   memo is unlimited.
+
+Copyright Notice
+
+   Copyright (C) The Internet Society (2005).
+
+Abstract
+
+   This RFC documents the format used for Comma-Separated Values (CSV)
+   files and registers the associated MIME type &quot;text/csv&quot;.
+
+Table of Contents
+
+   1. Introduction ....................................................2
+   2. Definition of the CSV Format ....................................2
+   3. MIME Type Registration of text/csv ..............................4
+   4. IANA Considerations .............................................5
+   5. Security Considerations .........................................5
+   6. Acknowledgments .................................................6
+   7. References ......................................................6
+      7.1. Normative References .......................................6
+      7.2. Informative References .....................................6
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+Shafranovich                 Informational                      [Page 1]
+
+RFC 4180       Common Format and MIME Type for CSV Files    October 2005
+
+
+1.  Introduction
+
+   The comma separated values format (CSV) has been used for exchanging
+   and converting data between various spreadsheet programs for quite
+   some time.  Surprisingly, while this format is very common, it has
+   never been formally documented.  Additionally, while the IANA MIME
+   registration tree includes a registration for
+   &quot;text/tab-separated-values&quot; type, no MIME types have ever been
+   registered with IANA for CSV.  At the same time, various programs and
+   operating systems have begun to use different MIME types for this
+   format.  This RFC documents the format of comma separated values
+   (CSV) files and formally registers the &quot;text/csv&quot; MIME type for CSV
+   in accordance with RFC 2048 [1].
+
+2.  Definition of the CSV Format
+
+   While there are various specifications and implementations for the
+   CSV format (for ex. [4], [5], [6] and [7]), there is no formal
+   specification in existence, which allows for a wide variety of
+   interpretations of CSV files.  This section documents the format that
+   seems to be followed by most implementations:
+
+   1.  Each record is located on a separate line, delimited by a line
+       break (CRLF).  For example:
+
+       aaa,bbb,ccc CRLF
+       zzz,yyy,xxx CRLF
+
+   2.  The last record in the file may or may not have an ending line
+       break.  For example:
+
+       aaa,bbb,ccc CRLF
+       zzz,yyy,xxx
+
+   3.  There maybe an optional header line appearing as the first line
+       of the file with the same format as normal record lines.  This
+       header will contain names corresponding to the fields in the file
+       and should contain the same number of fields as the records in
+       the rest of the file (the presence or absence of the header line
+       should be indicated via the optional &quot;header&quot; parameter of this
+       MIME type).  For example:
+
+       field_name,field_name,field_name CRLF
+       aaa,bbb,ccc CRLF
+       zzz,yyy,xxx CRLF
+
+
+
+
+
+
+Shafranovich                 Informational                      [Page 2]
+
+RFC 4180       Common Format and MIME Type for CSV Files    October 2005
+
+
+   4.  Within the header and each record, there may be one or more
+       fields, separated by commas.  Each line should contain the same
+       number of fields throughout the file.  Spaces are considered part
+       of a field and should not be ignored.  The last field in the
+       record must not be followed by a comma.  For example:
+
+       aaa,bbb,ccc
+
+   5.  Each field may or may not be enclosed in double quotes (however
+       some programs, such as Microsoft Excel, do not use double quotes
+       at all).  If fields are not enclosed with double quotes, then
+       double quotes may not appear inside the fields.  For example:
+
+       &quot;aaa&quot;,&quot;bbb&quot;,&quot;ccc&quot; CRLF
+       zzz,yyy,xxx
+
+   6.  Fields containing line breaks (CRLF), double quotes, and commas
+       should be enclosed in double-quotes.  For example:
+
+       &quot;aaa&quot;,&quot;b CRLF
+       bb&quot;,&quot;ccc&quot; CRLF
+       zzz,yyy,xxx
+
+   7.  If double-quotes are used to enclose fields, then a double-quote
+       appearing inside a field must be escaped by preceding it with
+       another double quote.  For example:
+
+       &quot;aaa&quot;,&quot;b&quot;&quot;bb&quot;,&quot;ccc&quot;
+
+   The ABNF grammar [2] appears as follows:
+
+   file = [header CRLF] record *(CRLF record) [CRLF]
+
+   header = name *(COMMA name)
+
+   record = field *(COMMA field)
+
+   name = field
+
+   field = (escaped / non-escaped)
+
+   escaped = DQUOTE *(TEXTDATA / COMMA / CR / LF / 2DQUOTE) DQUOTE
+
+   non-escaped = *TEXTDATA
+
+   COMMA = %x2C
+
+   CR = %x0D ;as per section 6.1 of RFC 2234 [2]
+
+
+
+Shafranovich                 Informational                      [Page 3]
+
+RFC 4180       Common Format and MIME Type for CSV Files    October 2005
+
+
+   DQUOTE =  %x22 ;as per section 6.1 of RFC 2234 [2]
+
+   LF = %x0A ;as per section 6.1 of RFC 2234 [2]
+
+   CRLF = CR LF ;as per section 6.1 of RFC 2234 [2]
+
+   TEXTDATA =  %x20-21 / %x23-2B / %x2D-7E
+
+3.  MIME Type Registration of text/csv
+
+   This section provides the media-type registration application (as per
+   RFC 2048 [1].
+
+   To: <A HREF="https://lists.berlios.de/mailman/listinfo/jfindmyfiles-commits">ietf-types at iana.org</A>
+
+   Subject: Registration of MIME media type text/csv
+
+   MIME media type name: text
+
+   MIME subtype name: csv
+
+   Required parameters: none
+
+   Optional parameters: charset, header
+
+      Common usage of CSV is US-ASCII, but other character sets defined
+      by IANA for the &quot;text&quot; tree may be used in conjunction with the
+      &quot;charset&quot; parameter.
+
+      The &quot;header&quot; parameter indicates the presence or absence of the
+      header line.  Valid values are &quot;present&quot; or &quot;absent&quot;.
+      Implementors choosing not to use this parameter must make their
+      own decisions as to whether the header line is present or absent.
+
+   Encoding considerations:
+
+      As per section 4.1.1. of RFC 2046 [3], this media type uses CRLF
+      to denote line breaks.  However, implementors should be aware that
+      some implementations may use other values.
+
+   Security considerations:
+
+      CSV files contain passive text data that should not pose any
+      risks.  However, it is possible in theory that malicious binary
+      data may be included in order to exploit potential buffer overruns
+      in the program processing CSV data.  Additionally, private data
+      may be shared via this format (which of course applies to any text
+      data).
+
+
+
+Shafranovich                 Informational                      [Page 4]
+
+RFC 4180       Common Format and MIME Type for CSV Files    October 2005
+
+
+   Interoperability considerations:
+
+      Due to lack of a single specification, there are considerable
+      differences among implementations.  Implementors should &quot;be
+      conservative in what you do, be liberal in what you accept from
+      others&quot; (RFC 793 [8]) when processing CSV files.  An attempt at a
+      common definition can be found in Section 2.
+
+      Implementations deciding not to use the optional &quot;header&quot;
+      parameter must make their own decision as to whether the header is
+      absent or present.
+
+   Published specification:
+
+      While numerous private specifications exist for various programs
+      and systems, there is no single &quot;master&quot; specification for this
+      format.  An attempt at a common definition can be found in Section
+      2.
+
+   Applications that use this media type:
+
+      Spreadsheet programs and various data conversion utilities
+
+   Additional information:
+
+      Magic number(s): none
+
+      File extension(s): CSV
+
+      Macintosh File Type Code(s): TEXT
+
+   Person &amp; email address to contact for further information:
+
+      Yakov Shafranovich &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/jfindmyfiles-commits">ietf at shaftek.org</A>&gt;
+
+   Intended usage: COMMON
+
+   Author/Change controller: IESG
+
+4.  IANA Considerations
+
+   The IANA has registered the MIME type &quot;text/csv&quot; using the
+   application provided in Section 3 of this document.
+
+5.  Security Considerations
+
+   See discussion above in section 3.
+
+
+
+
+Shafranovich                 Informational                      [Page 5]
+
+RFC 4180       Common Format and MIME Type for CSV Files    October 2005
+
+
+6.  Acknowledgments
+
+   The author would like to thank Dave Crocker, Martin Duerst, Joel M.
+   Halpern, Clyde Ingram, Graham Klyne, Bruce Lilly, Chris Lilley, and
+   members of the IESG for their helpful suggestions.  A special word of
+   thanks goes to Dave for helping with the ABNF grammar.
+
+   The author would also like to thank Henrik Lefkowetz, Marshall Rose,
+   and the folks at xml.resource.org for providing many of the tools
+   used for preparing RFCs and Internet drafts.
+
+   A special thank you goes to L.T.S.
+
+7.  References
+
+7.1.  Normative References
+
+   [1]  Freed, N., Klensin, J., and J. Postel, &quot;Multipurpose Internet
+        Mail Extensions (MIME) Part Four: Registration Procedures&quot;, BCP
+        13, RFC 2048, November 1996.
+
+   [2]  Crocker, D. and P. Overell, &quot;Augmented BNF for Syntax
+        Specifications: ABNF&quot;, RFC 2234, November 1997.
+
+   [3]  Freed, N. and N. Borenstein, &quot;Multipurpose Internet Mail
+        Extensions (MIME) Part Two: Media Types&quot;, RFC 2046, November
+        1996.
+
+7.2.  Informative References
+
+   [4]  Repici, J., &quot;HOW-TO: The Comma Separated Value (CSV) File
+        Format&quot;, 2004,
+        &lt;<A HREF="http://www.creativyst.com/Doc/Articles/CSV/CSV01.htm">http://www.creativyst.com/Doc/Articles/CSV/CSV01.htm</A>&gt;.
+
+   [5]  Edoceo, Inc., &quot;CSV Standard File Format&quot;, 2004,
+        &lt;<A HREF="http://www.edoceo.com/utilis/csv-file-format.php">http://www.edoceo.com/utilis/csv-file-format.php</A>&gt;.
+
+   [6]  Rodger, R. and O. Shanaghy, &quot;Documentation for Ricebridge CSV
+        Manager&quot;, February 2005,
+        &lt;<A HREF="http://www.ricebridge.com/products/csvman/reference.htm">http://www.ricebridge.com/products/csvman/reference.htm</A>&gt;.
+
+   [7]  Raymond, E., &quot;The Art of Unix Programming, Chapter 5&quot;, September
+        2003,
+        &lt;<A HREF="http://www.catb.org/~esr/writings/taoup/html/ch05s02.html">http://www.catb.org/~esr/writings/taoup/html/ch05s02.html</A>&gt;.
+
+   [8]  Postel, J., &quot;Transmission Control Protocol&quot;, STD 7, RFC 793,
+        September 1981.
+
+
+
+
+Shafranovich                 Informational                      [Page 6]
+
+RFC 4180       Common Format and MIME Type for CSV Files    October 2005
+
+
+Author's Address
+
+   Yakov Shafranovich
+   SolidMatrix Technologies, Inc.
+
+   EMail: <A HREF="https://lists.berlios.de/mailman/listinfo/jfindmyfiles-commits">ietf at shaftek.org</A>
+   URI:   <A HREF="http://www.shaftek.org">http://www.shaftek.org</A>
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+Shafranovich                 Informational                      [Page 7]
+
+RFC 4180       Common Format and MIME Type for CSV Files    October 2005
+
+
+Full Copyright Statement
+
+   Copyright (C) The Internet Society (2005).
+
+   This document is subject to the rights, licenses and restrictions
+   contained in BCP 78, and except as set forth therein, the authors
+   retain all their rights.
+
+   This document and the information contained herein are provided on an
+   &quot;AS IS&quot; basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS
+   OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY AND THE INTERNET
+   ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED,
+   INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE
+   INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED
+   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.
+
+Intellectual Property
+
+   The IETF takes no position regarding the validity or scope of any
+   Intellectual Property Rights or other rights that might be claimed to
+   pertain to the implementation or use of the technology described in
+   this document or the extent to which any license under such rights
+   might or might not be available; nor does it represent that it has
+   made any independent effort to identify any such rights.  Information
+   on the procedures with respect to rights in RFC documents can be
+   found in BCP 78 and BCP 79.
+
+   Copies of IPR disclosures made to the IETF Secretariat and any
+   assurances of licenses to be made available, or the result of an
+   attempt made to obtain a general license or permission for the use of
+   such proprietary rights by implementers or users of this
+   specification can be obtained from the IETF on-line IPR repository at
+   <A HREF="http://www.ietf.org/ipr.">http://www.ietf.org/ipr.</A>
+
+   The IETF invites any interested party to bring to its attention any
+   copyrights, patents or patent applications, or other proprietary
+   rights that may cover technology that may be required to implement
+   this standard.  Please address the information to the IETF at ietf-
+   <A HREF="https://lists.berlios.de/mailman/listinfo/jfindmyfiles-commits">ipr at ietf.org.</A>
+
+Acknowledgement
+
+   Funding for the RFC Editor function is currently provided by the
+   Internet Society.
+
+
+
+
+
+
+
+Shafranovich                 Informational                      [Page 8]
+

Modified: trunk/docs/TODO
===================================================================
--- trunk/docs/TODO	2008-06-20 12:15:09 UTC (rev 160)
+++ trunk/docs/TODO	2008-06-20 19:25:56 UTC (rev 161)
@@ -1,10 +1,5 @@
 - Contextualizar as refer&#234;ncias existentes.
-- Descrever as ferramentas e os motivos que levaram &#224; sua escolha, texto simples.
-Indicar na sec&#231;&#227;o de controlo de vers&#245;es que a metodologia usada anda de m&#227;os 
-dadas com um sistema de controlo de vers&#245;es.
 - Na justifica&#231;&#227;o da plataforma NB VS Eclipse RCP falta indicar o nome da revista.
-- Verificar o texto de avalia&#231;&#227;o de sistemas existentes.
-- Verificar suporte para UNC, Uniform Naming Convention 
 -&gt; <A HREF="http://en.wikipedia.org/wiki/Path_%28computing%29#Uniform_Naming_Convention">http://en.wikipedia.org/wiki/Path_%28computing%29#Uniform_Naming_Convention</A>
 - Configurar logger
 
@@ -25,7 +20,6 @@
 
 Itera&#231;&#227;o 4:
 	- pesquisa de ficheiros duplicados em todo o cat&#225;logo
-	- falta ver o sql para pesquisa dentro de grupo
 	
 Itera&#231;&#227;o 5:
 	- menus de contexto sens&#237;veis
@@ -41,10 +35,8 @@
 	- importar dados de outras aplica&#231;&#245;es
 
 TODOS:
-	Proper logging
 	criar pasta JFindMyFiles Plugins na home do utilizador
 	indicar nos textos a origem de algumas afirma&#231;&#245;es, citar bibliografia
-	indicar todas as ferramentas
 NOTAS:
 	Aten&#231;&#227;o ao nome dos paineis e componentes na internacionaliza&#231;&#227;o
 	Criar painel para escolher a l&#237;ngua?
\ No newline at end of file

Modified: trunk/project/JFindMyFiles/ExportEngine/nbproject/genfiles.properties
===================================================================
--- trunk/project/JFindMyFiles/ExportEngine/nbproject/genfiles.properties	2008-06-20 12:15:09 UTC (rev 160)
+++ trunk/project/JFindMyFiles/ExportEngine/nbproject/genfiles.properties	2008-06-20 19:25:56 UTC (rev 161)
@@ -1,8 +1,8 @@
-build.xml.data.CRC32=7dbf0306
+build.xml.data.CRC32=b7a125d6
 build.xml.script.CRC32=10cb03f3
 build.xml.stylesheet.CRC32=79c3b980
 # This file is used by a NetBeans-based IDE to track changes in generated files such as build-impl.xml.
 # Do not edit this file. You may delete it but then the IDE will never regenerate such files for you.
-nbproject/build-impl.xml.data.CRC32=7dbf0306
+nbproject/build-impl.xml.data.CRC32=b7a125d6
 nbproject/build-impl.xml.script.CRC32=336d2087
 nbproject/build-impl.xml.stylesheet.CRC32=deb65f65

Modified: trunk/project/JFindMyFiles/ExportEngine/nbproject/project.xml
===================================================================
--- trunk/project/JFindMyFiles/ExportEngine/nbproject/project.xml	2008-06-20 12:15:09 UTC (rev 160)
+++ trunk/project/JFindMyFiles/ExportEngine/nbproject/project.xml	2008-06-20 19:25:56 UTC (rev 161)
@@ -23,6 +23,14 @@
                     &lt;/run-dependency&gt;
                 &lt;/dependency&gt;
                 &lt;dependency&gt;
+                    &lt;code-name-base&gt;de.berlios.jfindmyfiles.readingfiles&lt;/code-name-base&gt;
+                    &lt;build-prerequisite/&gt;
+                    &lt;compile-dependency/&gt;
+                    &lt;run-dependency&gt;
+                        &lt;specification-version&gt;1.0&lt;/specification-version&gt;
+                    &lt;/run-dependency&gt;
+                &lt;/dependency&gt;
+                &lt;dependency&gt;
                     &lt;code-name-base&gt;org.openide.util&lt;/code-name-base&gt;
                     &lt;build-prerequisite/&gt;
                     &lt;compile-dependency/&gt;

Modified: trunk/project/JFindMyFiles/ExportEngine/src/de/berlios/jfindmyfiles/exportengine/CSV.java
===================================================================
--- trunk/project/JFindMyFiles/ExportEngine/src/de/berlios/jfindmyfiles/exportengine/CSV.java	2008-06-20 12:15:09 UTC (rev 160)
+++ trunk/project/JFindMyFiles/ExportEngine/src/de/berlios/jfindmyfiles/exportengine/CSV.java	2008-06-20 19:25:56 UTC (rev 161)
@@ -19,12 +19,12 @@
  */
 package de.berlios.jfindmyfiles.exportengine;
 
+import de.berlios.jfindmyfiles.readingfiles.utils.ReadingUtils;
 import java.io.BufferedWriter;
 import java.io.File;
 import java.io.FileWriter;
 import java.io.IOException;
-import java.io.OutputStream;
-import java.io.OutputStreamWriter;
+import java.io.PrintWriter;
 import java.util.logging.Level;
 import java.util.logging.Logger;
 
@@ -35,29 +35,59 @@
 public class CSV extends ExportEngine {
 
     private File file;
-    
+
     public CSV(File file) {
         this.file = file;
     }
-    
+
     public void export() {
         start();
     }
-    
+
     @Override
     public void run() {
-        BufferedWriter bw = null;
+        PrintWriter pw = null;
+        //TODO: i18n
+        String base = ReadingUtils.stripFileExtension(file.getAbsolutePath());
         try {
-            bw = new BufferedWriter(new FileWriter(file));
+            //name,creation-date,description,total-size,disk-number,total-folders
+            pw = new PrintWriter(new FileWriter(file));
+            pw.print(&quot;name,creation-date,description,total-size,disk-number,total-folders\r\n&quot;);
+            pw.close();
+            
+            //label-id,name
+            pw = new PrintWriter(new FileWriter(base + &quot;-labels.csv&quot;));
+            pw.print(&quot;label-id,name\r\n&quot;);
+            pw.close();
+            
+            //group-id,name,description,capacity,groups/*ids separdos por ponto e virgula*/,parent-id
+            pw = new PrintWriter(new FileWriter(base + &quot;-groups.csv&quot;));
+            pw.print(&quot;group-id,name,description,capacity,groups,parent-id\r\n&quot;);
+            pw.close();
+            
+            //media-id,name,capacity,last_modified,description,free-space,location,files/*ids separdos por ponto e virgula*/,labels/*ids separdos por ponto e virgula*/,type
+            pw = new PrintWriter(new FileWriter(base + &quot;-media.csv&quot;));
+            pw.print(&quot;media-id,name,capacity,last_modified,description,free-space,location,files,labels,type\r\n&quot;);
+            pw.close();
+            
+            //file-id,name,absolute-path,last-modified,description,hidden,size,extension,image-thumb,video-preview,audio-clip,is-file,children,parent-id,media-id
+            pw = new PrintWriter(new FileWriter(base + &quot;-files.csv&quot;));
+            pw.print(&quot;file-id,name,absolute-path,last-modified,description,hidden,size,extension,image-thumb,video-preview,audio-clip,is-file,children,parent-id,media-id\r\n&quot;);
+            pw.close();
+            
+            //user-id,firstname,surname,loans&gt;/*ids separdos por ponto e virgula*/
+            pw = new PrintWriter(new FileWriter(base + &quot;-users.csv&quot;));
+            pw.print(&quot;user-id,firstname,surname,loans\r\n&quot;);
+            pw.close();
+
+            //loan-id,loaned-date,returned-date,user-id,media-id
+            pw = new PrintWriter(new FileWriter(base + &quot;-loans.csv&quot;));
+            pw.print(&quot;loan-id,loaned-date,returned-date,user-id,media-id\r\n&quot;);
+            pw.close();
         } catch (IOException ex) {
             Logger.getLogger(CSV.class.getName()).log(Level.SEVERE, null, ex);
         } finally {
-            try {
-                bw.close();
-            } catch (IOException ex) {
-                Logger.getLogger(CSV.class.getName()).log(Level.SEVERE, null, ex);
-            }
+            pw.close();
         }
     }
-
 }

Modified: trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/Bundle.properties
===================================================================
--- trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/Bundle.properties	2008-06-20 12:15:09 UTC (rev 160)
+++ trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/Bundle.properties	2008-06-20 19:25:56 UTC (rev 161)
@@ -137,9 +137,14 @@
 ExportDlg.jbtnTemplateBrowse.text=...
 ExportDlg.jlblSelectTemplate.text=Template:
 ExportDlg.jchkTemplateOpenAfter.text=Open after export
-ExportDlg.jchkOpenAfter.text=Open after export
 ExportDlg.jlblTemplateAuthor.text=Author:
 ExportDlg.jlblTemplateAuthorValue.text=&lt; not set &gt;
 SearchForDuplicatesDlg.jLabel1.text=Found {0} in {1} examined files
 SearchForDuplicatesDlg.jButton1.text=jButton1
 SearchForDuplicatesDlg.jButton2.text=jButton2
+ExportDlg.jchkOpenAfter.text=Open after export
+ExportDlg.jlblInclude.text=Include:
+ExportDlg.jchkIncludeImages.text=Image thumbnails
+ExportDlg.jchkIncludeAudioC.text=Audio clips
+ExportDlg.jchkIncludeVideoP.text=Video previews
+ExportDlg.jchkIncludeCustomI.text=Custom icons

Modified: trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/ExportDlg.form
===================================================================
--- trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/ExportDlg.form	2008-06-20 12:15:09 UTC (rev 160)
+++ trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/ExportDlg.form	2008-06-20 19:25:56 UTC (rev 161)
@@ -27,7 +27,7 @@
                   &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
                       &lt;Component id=&quot;jpExportType&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                       &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                      &lt;Component id=&quot;jpExportOptions&quot; pref=&quot;389&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Component id=&quot;jpExportOptions&quot; pref=&quot;405&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
                   &lt;/Group&gt;
                   &lt;Group type=&quot;102&quot; alignment=&quot;1&quot; attributes=&quot;0&quot;&gt;
                       &lt;Component id=&quot;jbtnExport&quot; linkSize=&quot;1&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
@@ -145,15 +145,31 @@
           &lt;Layout&gt;
             &lt;DimensionLayout dim=&quot;0&quot;&gt;
               &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-                  &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                  &lt;Group type=&quot;102&quot; attributes=&quot;0&quot;&gt;
                       &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                      &lt;Component id=&quot;jlblDestination&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                      &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                       &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
                           &lt;Component id=&quot;jchkOpenAfter&quot; alignment=&quot;0&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;Component id=&quot;jSeparator1&quot; alignment=&quot;0&quot; pref=&quot;369&quot; max=&quot;32767&quot; attributes=&quot;2&quot;/&gt;
                           &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-                              &lt;Component id=&quot;jtfDestination&quot; pref=&quot;240&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                              &lt;Component id=&quot;jlblInclude&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                               &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                              &lt;Component id=&quot;jSeparator2&quot; pref=&quot;326&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;/Group&gt;
+                          &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                              &lt;EmptySpace min=&quot;10&quot; pref=&quot;10&quot; max=&quot;10&quot; attributes=&quot;0&quot;/&gt;
+                              &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                                  &lt;Component id=&quot;jchkIncludeImages&quot; alignment=&quot;0&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                                  &lt;Component id=&quot;jchkIncludeAudioC&quot; alignment=&quot;0&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                                  &lt;Component id=&quot;jchkIncludeVideoP&quot; alignment=&quot;0&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                                  &lt;Component id=&quot;jchkIncludeCustomI&quot; alignment=&quot;0&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                              &lt;/Group&gt;
+                              &lt;EmptySpace min=&quot;-2&quot; pref=&quot;4&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;/Group&gt;
+                          &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                              &lt;Component id=&quot;jlblDestination&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                              &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                              &lt;Component id=&quot;jtfDestination&quot; pref=&quot;256&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                              &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                               &lt;Component id=&quot;jbtnBrowse&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                           &lt;/Group&gt;
                       &lt;/Group&gt;
@@ -171,8 +187,23 @@
                           &lt;Component id=&quot;jtfDestination&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                       &lt;/Group&gt;
                       &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Group type=&quot;103&quot; groupAlignment=&quot;1&quot; attributes=&quot;0&quot;&gt;
+                          &lt;Component id=&quot;jlblInclude&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;Component id=&quot;jSeparator2&quot; min=&quot;-2&quot; pref=&quot;10&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;/Group&gt;
+                      &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Component id=&quot;jchkIncludeAudioC&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Component id=&quot;jchkIncludeImages&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Component id=&quot;jchkIncludeVideoP&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Component id=&quot;jchkIncludeCustomI&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Component id=&quot;jSeparator1&quot; min=&quot;-2&quot; pref=&quot;10&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                       &lt;Component id=&quot;jchkOpenAfter&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                      &lt;EmptySpace pref=&quot;241&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;EmptySpace pref=&quot;115&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
                   &lt;/Group&gt;
               &lt;/Group&gt;
             &lt;/DimensionLayout&gt;
@@ -212,6 +243,45 @@
                 &lt;EventHandler event=&quot;stateChanged&quot; listener=&quot;javax.swing.event.ChangeListener&quot; parameters=&quot;javax.swing.event.ChangeEvent&quot; handler=&quot;jchkOpenAfterStateChanged&quot;/&gt;
               &lt;/Events&gt;
             &lt;/Component&gt;
+            &lt;Component class=&quot;javax.swing.JLabel&quot; name=&quot;jlblInclude&quot;&gt;
+              &lt;Properties&gt;
+                &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
+                  &lt;ResourceString bundle=&quot;de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/Bundle.properties&quot; key=&quot;ExportDlg.jlblInclude.text&quot; replaceFormat=&quot;org.openide.util.NbBundle.getMessage({sourceFileName}.class, &quot;{key}&quot;)&quot;/&gt;
+                &lt;/Property&gt;
+              &lt;/Properties&gt;
+            &lt;/Component&gt;
+            &lt;Component class=&quot;javax.swing.JCheckBox&quot; name=&quot;jchkIncludeImages&quot;&gt;
+              &lt;Properties&gt;
+                &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
+                  &lt;ResourceString bundle=&quot;de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/Bundle.properties&quot; key=&quot;ExportDlg.jchkIncludeImages.text&quot; replaceFormat=&quot;org.openide.util.NbBundle.getMessage({sourceFileName}.class, &quot;{key}&quot;)&quot;/&gt;
+                &lt;/Property&gt;
+              &lt;/Properties&gt;
+            &lt;/Component&gt;
+            &lt;Component class=&quot;javax.swing.JCheckBox&quot; name=&quot;jchkIncludeAudioC&quot;&gt;
+              &lt;Properties&gt;
+                &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
+                  &lt;ResourceString bundle=&quot;de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/Bundle.properties&quot; key=&quot;ExportDlg.jchkIncludeAudioC.text&quot; replaceFormat=&quot;org.openide.util.NbBundle.getMessage({sourceFileName}.class, &quot;{key}&quot;)&quot;/&gt;
+                &lt;/Property&gt;
+              &lt;/Properties&gt;
+            &lt;/Component&gt;
+            &lt;Component class=&quot;javax.swing.JCheckBox&quot; name=&quot;jchkIncludeVideoP&quot;&gt;
+              &lt;Properties&gt;
+                &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
+                  &lt;ResourceString bundle=&quot;de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/Bundle.properties&quot; key=&quot;ExportDlg.jchkIncludeVideoP.text&quot; replaceFormat=&quot;org.openide.util.NbBundle.getMessage({sourceFileName}.class, &quot;{key}&quot;)&quot;/&gt;
+                &lt;/Property&gt;
+              &lt;/Properties&gt;
+            &lt;/Component&gt;
+            &lt;Component class=&quot;javax.swing.JCheckBox&quot; name=&quot;jchkIncludeCustomI&quot;&gt;
+              &lt;Properties&gt;
+                &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
+                  &lt;ResourceString bundle=&quot;de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/Bundle.properties&quot; key=&quot;ExportDlg.jchkIncludeCustomI.text&quot; replaceFormat=&quot;org.openide.util.NbBundle.getMessage({sourceFileName}.class, &quot;{key}&quot;)&quot;/&gt;
+                &lt;/Property&gt;
+              &lt;/Properties&gt;
+            &lt;/Component&gt;
+            &lt;Component class=&quot;javax.swing.JSeparator&quot; name=&quot;jSeparator1&quot;&gt;
+            &lt;/Component&gt;
+            &lt;Component class=&quot;javax.swing.JSeparator&quot; name=&quot;jSeparator2&quot;&gt;
+            &lt;/Component&gt;
           &lt;/SubComponents&gt;
         &lt;/Container&gt;
         &lt;Container class=&quot;javax.swing.JPanel&quot; name=&quot;jpTemplateExport&quot;&gt;
@@ -247,7 +317,7 @@
                               &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
                                   &lt;Component id=&quot;jchkTemplateOpenAfter&quot; alignment=&quot;0&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                                   &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-                                      &lt;Component id=&quot;jtfTemplateDestination&quot; pref=&quot;240&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                                      &lt;Component id=&quot;jtfTemplateDestination&quot; pref=&quot;256&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
                                       &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                                       &lt;Component id=&quot;jbtnTemplateBrowse&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                                   &lt;/Group&gt;
@@ -350,16 +420,16 @@
                       &lt;Group type=&quot;102&quot; attributes=&quot;0&quot;&gt;
                           &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                           &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-                              &lt;Component id=&quot;jsDetailsSeparator&quot; alignment=&quot;0&quot; pref=&quot;153&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                              &lt;Component id=&quot;jsDetailsSeparator&quot; alignment=&quot;0&quot; pref=&quot;169&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
                               &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
                                   &lt;Component id=&quot;jlblSelectTemplate&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                                   &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                                  &lt;Component id=&quot;jcbxSelectTemplate&quot; pref=&quot;101&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                                  &lt;Component id=&quot;jcbxSelectTemplate&quot; pref=&quot;117&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
                               &lt;/Group&gt;
                               &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
                                   &lt;Component id=&quot;jlblTemplateAuthor&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                                   &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                                  &lt;Component id=&quot;jlblTemplateAuthorValue&quot; pref=&quot;110&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                                  &lt;Component id=&quot;jlblTemplateAuthorValue&quot; pref=&quot;126&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
                               &lt;/Group&gt;
                           &lt;/Group&gt;
                           &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
@@ -447,7 +517,7 @@
                   &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
                       &lt;EmptySpace min=&quot;-2&quot; pref=&quot;46&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                       &lt;Component id=&quot;jpbExportProgress&quot; min=&quot;-2&quot; pref=&quot;282&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                      &lt;EmptySpace pref=&quot;61&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;EmptySpace pref=&quot;77&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
                   &lt;/Group&gt;
               &lt;/Group&gt;
             &lt;/DimensionLayout&gt;

Modified: trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/ExportDlg.java
===================================================================
--- trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/ExportDlg.java	2008-06-20 12:15:09 UTC (rev 160)
+++ trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/ExportDlg.java	2008-06-20 19:25:56 UTC (rev 161)
@@ -87,6 +87,13 @@
         jtfDestination = new javax.swing.JTextField();
         jbtnBrowse = new javax.swing.JButton();
         jchkOpenAfter = new javax.swing.JCheckBox();
+        jlblInclude = new javax.swing.JLabel();
+        jchkIncludeImages = new javax.swing.JCheckBox();
+        jchkIncludeAudioC = new javax.swing.JCheckBox();
+        jchkIncludeVideoP = new javax.swing.JCheckBox();
+        jchkIncludeCustomI = new javax.swing.JCheckBox();
+        jSeparator1 = new javax.swing.JSeparator();
+        jSeparator2 = new javax.swing.JSeparator();
         jpTemplateExport = new javax.swing.JPanel();
         jpPreview = new javax.swing.JPanel();
         jlblPreview = new javax.swing.JLabel();
@@ -159,19 +166,42 @@
             }
         });
 
+        jlblInclude.setText(org.openide.util.NbBundle.getMessage(ExportDlg.class, &quot;ExportDlg.jlblInclude.text&quot;)); // NOI18N
+
+        jchkIncludeImages.setText(org.openide.util.NbBundle.getMessage(ExportDlg.class, &quot;ExportDlg.jchkIncludeImages.text&quot;)); // NOI18N
+
+        jchkIncludeAudioC.setText(org.openide.util.NbBundle.getMessage(ExportDlg.class, &quot;ExportDlg.jchkIncludeAudioC.text&quot;)); // NOI18N
+
+        jchkIncludeVideoP.setText(org.openide.util.NbBundle.getMessage(ExportDlg.class, &quot;ExportDlg.jchkIncludeVideoP.text&quot;)); // NOI18N
+
+        jchkIncludeCustomI.setText(org.openide.util.NbBundle.getMessage(ExportDlg.class, &quot;ExportDlg.jchkIncludeCustomI.text&quot;)); // NOI18N
+
         javax.swing.GroupLayout jpFileExportLayout = new javax.swing.GroupLayout(jpFileExport);
         jpFileExport.setLayout(jpFileExportLayout);
         jpFileExportLayout.setHorizontalGroup(
             jpFileExportLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
             .addGroup(jpFileExportLayout.createSequentialGroup()
                 .addContainerGap()
-                .addComponent(jlblDestination)
-                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                 .addGroup(jpFileExportLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                     .addComponent(jchkOpenAfter)
+                    .addComponent(jSeparator1, javax.swing.GroupLayout.DEFAULT_SIZE, 369, Short.MAX_VALUE)
                     .addGroup(jpFileExportLayout.createSequentialGroup()
-                        .addComponent(jtfDestination, javax.swing.GroupLayout.DEFAULT_SIZE, 240, Short.MAX_VALUE)
+                        .addComponent(jlblInclude)
                         .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
+                        .addComponent(jSeparator2, javax.swing.GroupLayout.DEFAULT_SIZE, 326, Short.MAX_VALUE))
+                    .addGroup(jpFileExportLayout.createSequentialGroup()
+                        .addGap(10, 10, 10)
+                        .addGroup(jpFileExportLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
+                            .addComponent(jchkIncludeImages)
+                            .addComponent(jchkIncludeAudioC)
+                            .addComponent(jchkIncludeVideoP)
+                            .addComponent(jchkIncludeCustomI))
+                        .addGap(4, 4, 4))
+                    .addGroup(jpFileExportLayout.createSequentialGroup()
+                        .addComponent(jlblDestination)
+                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
+                        .addComponent(jtfDestination, javax.swing.GroupLayout.DEFAULT_SIZE, 256, Short.MAX_VALUE)
+                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                         .addComponent(jbtnBrowse)))
                 .addContainerGap())
         );
@@ -184,8 +214,22 @@
                     .addComponent(jbtnBrowse)
                     .addComponent(jtfDestination, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                 .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
+                .addGroup(jpFileExportLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
+                    .addComponent(jlblInclude)
+                    .addComponent(jSeparator2, javax.swing.GroupLayout.PREFERRED_SIZE, 10, javax.swing.GroupLayout.PREFERRED_SIZE))
+                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
+                .addComponent(jchkIncludeAudioC)
+                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
+                .addComponent(jchkIncludeImages)
+                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
+                .addComponent(jchkIncludeVideoP)
+                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
+                .addComponent(jchkIncludeCustomI)
+                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
+                .addComponent(jSeparator1, javax.swing.GroupLayout.PREFERRED_SIZE, 10, javax.swing.GroupLayout.PREFERRED_SIZE)
+                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                 .addComponent(jchkOpenAfter)
-                .addContainerGap(241, Short.MAX_VALUE))
+                .addContainerGap(115, Short.MAX_VALUE))
         );
 
         jpExportOptions.add(jpFileExport, &quot;card2&quot;);
@@ -238,15 +282,15 @@
             .addGroup(jpTemplateDetailsLayout.createSequentialGroup()
                 .addContainerGap()
                 .addGroup(jpTemplateDetailsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
-                    .addComponent(jsDetailsSeparator, javax.swing.GroupLayout.DEFAULT_SIZE, 153, Short.MAX_VALUE)
+                    .addComponent(jsDetailsSeparator, javax.swing.GroupLayout.DEFAULT_SIZE, 169, Short.MAX_VALUE)
                     .addGroup(jpTemplateDetailsLayout.createSequentialGroup()
                         .addComponent(jlblSelectTemplate)
                         .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
-                        .addComponent(jcbxSelectTemplate, 0, 101, Short.MAX_VALUE))
+                        .addComponent(jcbxSelectTemplate, 0, 117, Short.MAX_VALUE))
                     .addGroup(jpTemplateDetailsLayout.createSequentialGroup()
                         .addComponent(jlblTemplateAuthor)
                         .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
-                        .addComponent(jlblTemplateAuthorValue, javax.swing.GroupLayout.DEFAULT_SIZE, 110, Short.MAX_VALUE)))
+                        .addComponent(jlblTemplateAuthorValue, javax.swing.GroupLayout.DEFAULT_SIZE, 126, Short.MAX_VALUE)))
                 .addContainerGap())
         );
         jpTemplateDetailsLayout.setVerticalGroup(
@@ -289,7 +333,7 @@
                         .addGroup(jpTemplateExportLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                             .addComponent(jchkTemplateOpenAfter)
                             .addGroup(jpTemplateExportLayout.createSequentialGroup()
-                                .addComponent(jtfTemplateDestination, javax.swing.GroupLayout.DEFAULT_SIZE, 240, Short.MAX_VALUE)
+                                .addComponent(jtfTemplateDestination, javax.swing.GroupLayout.DEFAULT_SIZE, 256, Short.MAX_VALUE)
                                 .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                 .addComponent(jbtnTemplateBrowse)))))
                 .addContainerGap())
@@ -326,7 +370,7 @@
             .addGroup(jpProgressBarLayout.createSequentialGroup()
                 .addGap(46, 46, 46)
                 .addComponent(jpbExportProgress, javax.swing.GroupLayout.PREFERRED_SIZE, 282, javax.swing.GroupLayout.PREFERRED_SIZE)
-                .addContainerGap(61, Short.MAX_VALUE))
+                .addContainerGap(77, Short.MAX_VALUE))
         );
         jpProgressBarLayout.setVerticalGroup(
             jpProgressBarLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
@@ -369,7 +413,7 @@
                     .addGroup(layout.createSequentialGroup()
                         .addComponent(jpExportType, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                         .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
-                        .addComponent(jpExportOptions, javax.swing.GroupLayout.DEFAULT_SIZE, 389, Short.MAX_VALUE))
+                        .addComponent(jpExportOptions, javax.swing.GroupLayout.DEFAULT_SIZE, 405, Short.MAX_VALUE))
                     .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
                         .addComponent(jbtnExport)
                         .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
@@ -474,10 +518,6 @@
     }
 }//GEN-LAST:event_jbtnTemplateBrowseActionPerformed
 
-private void jchkOpenAfterStateChanged(javax.swing.event.ChangeEvent evt) {//GEN-FIRST:event_jchkOpenAfterStateChanged
-    //TODO: open file after exporting
-}//GEN-LAST:event_jchkOpenAfterStateChanged
-
 private void jchkTemplateOpenAfterStateChanged(javax.swing.event.ChangeEvent evt) {//GEN-FIRST:event_jchkTemplateOpenAfterStateChanged
     //TODO: open HTML file after exporting
 }//GEN-LAST:event_jchkTemplateOpenAfterStateChanged
@@ -485,17 +525,29 @@
 private void jcbxSelectTemplateActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jcbxSelectTemplateActionPerformed
 //Change the selected template
 }//GEN-LAST:event_jcbxSelectTemplateActionPerformed
+
+private void jchkOpenAfterStateChanged(javax.swing.event.ChangeEvent evt) {//GEN-FIRST:event_jchkOpenAfterStateChanged
+//TODO: open file after exporting
+}//GEN-LAST:event_jchkOpenAfterStateChanged
+
     // Variables declaration - do not modify//GEN-BEGIN:variables
     private javax.swing.JScrollPane jScrollPane1;
+    private javax.swing.JSeparator jSeparator1;
+    private javax.swing.JSeparator jSeparator2;
     private javax.swing.JButton jbtnBrowse;
     private javax.swing.JButton jbtnCancel;
     private javax.swing.JButton jbtnExport;
     private javax.swing.JButton jbtnHelp;
     private javax.swing.JButton jbtnTemplateBrowse;
     private javax.swing.JComboBox jcbxSelectTemplate;
+    private javax.swing.JCheckBox jchkIncludeAudioC;
+    private javax.swing.JCheckBox jchkIncludeCustomI;
+    private javax.swing.JCheckBox jchkIncludeImages;
+    private javax.swing.JCheckBox jchkIncludeVideoP;
     private javax.swing.JCheckBox jchkOpenAfter;
     private javax.swing.JCheckBox jchkTemplateOpenAfter;
     private javax.swing.JLabel jlblDestination;
+    private javax.swing.JLabel jlblInclude;
     private javax.swing.JLabel jlblPreview;
     private javax.swing.JLabel jlblSelectTemplate;
     private javax.swing.JLabel jlblTemplateAuthor;

Modified: trunk/project/JFindMyFiles/ReadingFiles/src/de/berlios/jfindmyfiles/readingfiles/utils/ReadingUtils.java
===================================================================
--- trunk/project/JFindMyFiles/ReadingFiles/src/de/berlios/jfindmyfiles/readingfiles/utils/ReadingUtils.java	2008-06-20 12:15:09 UTC (rev 160)
+++ trunk/project/JFindMyFiles/ReadingFiles/src/de/berlios/jfindmyfiles/readingfiles/utils/ReadingUtils.java	2008-06-20 19:25:56 UTC (rev 161)
@@ -96,6 +96,6 @@
      */
     public static String stripFileExtension(String filename) {
         int x = -1;
-        return ((x = filename.lastIndexOf(&quot;.&quot;)) &gt; 0 ? filename.substring(0, x) : &quot;&quot;).toLowerCase();
+        return ((x = filename.lastIndexOf(&quot;.&quot;)) &gt; 0 ? filename.substring(0, x) : filename).toLowerCase();
     }
 }


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000155.html">[Jfindmyfiles-commits] r160 - in	trunk/project/JFindMyFiles/JFindMyFilesGui: . javahelp	javahelp/de javahelp/de/berlios javahelp/de/berlios/jfindmyfiles	javahelp/de/berlios/jfindmyfiles/jfindmyfilesgui	javahelp/de/berlios/jfindmyfiles/jfindmyfilesgui/docs	nbproject src/de/berlios/jfindmyfiles/jfindmyfilesgui
</A></li>
	<LI>Next message: <A HREF="000157.html">[Jfindmyfiles-commits] r162 - in trunk: docs docs/Documentos Externos docs/Iteracao2-CB05 docs/Iteracao2-CB05/Diagrama de Classes docs/Iteracao2-CB05/Diagrama de Classes/DiagramBackup docs/Iteracao3-CB03 docs/Iteracao3-CB03/APIOverview docs/Iteracao3-CB03/APIOverview/nbproject docs/Iteracao4-CB04 docs/Iteracao6-CB07 media/icons/x16 project/JFindMyFiles/ExportEngine/src/de/berlios/jfindmyfiles/exportengine project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/actions project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/nodes project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/resources/images/x16 project/JFindMyFiles/ReadingFiles/nbproject project/JFindMyFiles/ReadingFiles/src/de/berlios/jfindmyfiles/readingfiles/pluginapi spikes spikes/Exe! cutarFicheiro spikes/ExecutarFicheiro/nbproject spikes/ExecutarFicheiro/src spikes/ExecutarFicheiro/src/executarficheiro spikes/PluginAPI/lib
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#156">[ date ]</a>
              <a href="thread.html#156">[ thread ]</a>
              <a href="subject.html#156">[ subject ]</a>
              <a href="author.html#156">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/jfindmyfiles-commits">More information about the Jfindmyfiles-commits
mailing list</a><br>
</body></html>
