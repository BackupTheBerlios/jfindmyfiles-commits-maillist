<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Jfindmyfiles-commits] r209 - in trunk: docs	project/JFindMyFiles/Catalog/src/de/berlios/jfindmyfiles/catalog	project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/actions	project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/nodes	project/JFindMyFiles/branding/core/core.jar/org/netbeans/core/startup
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/jfindmyfiles-commits/2008-July/index.html" >
   <LINK REL="made" HREF="mailto:jfindmyfiles-commits%40lists.berlios.de?Subject=Re%3A%20%5BJfindmyfiles-commits%5D%20r209%20-%20in%20trunk%3A%20docs%0A%09project/JFindMyFiles/Catalog/src/de/berlios/jfindmyfiles/catalog%0A%09project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/actions%0A%09project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/nodes%0A%09project/JFindMyFiles/branding/core/core.jar/org/netbeans/core/startup&In-Reply-To=%3C200807151022.m6FAMWj4027139%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000203.html">
   <LINK REL="Next"  HREF="000205.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Jfindmyfiles-commits] r209 - in trunk: docs	project/JFindMyFiles/Catalog/src/de/berlios/jfindmyfiles/catalog	project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/actions	project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/nodes	project/JFindMyFiles/branding/core/core.jar/org/netbeans/core/startup</H1>
    <B>knitter at mail.berlios.de</B> 
    <A HREF="mailto:jfindmyfiles-commits%40lists.berlios.de?Subject=Re%3A%20%5BJfindmyfiles-commits%5D%20r209%20-%20in%20trunk%3A%20docs%0A%09project/JFindMyFiles/Catalog/src/de/berlios/jfindmyfiles/catalog%0A%09project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/actions%0A%09project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/nodes%0A%09project/JFindMyFiles/branding/core/core.jar/org/netbeans/core/startup&In-Reply-To=%3C200807151022.m6FAMWj4027139%40sheep.berlios.de%3E"
       TITLE="[Jfindmyfiles-commits] r209 - in trunk: docs	project/JFindMyFiles/Catalog/src/de/berlios/jfindmyfiles/catalog	project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/actions	project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/nodes	project/JFindMyFiles/branding/core/core.jar/org/netbeans/core/startup">knitter at mail.berlios.de
       </A><BR>
    <I>Tue Jul 15 12:22:32 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000203.html">[Jfindmyfiles-commits] r208 - in trunk: media media/icons	media/icons/actions media/icons/general	media/icons/importexport media/icons/nodes	project/JFindMyFiles/Catalog/src/de/berlios/jfindmyfiles/catalog	project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui	project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/actions	project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/nodes	project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/resources	project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/resources/icons/actions	project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/resources/icons/general	project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/utils
</A></li>
        <LI>Next message: <A HREF="000205.html">[Jfindmyfiles-commits] r210 - in trunk: docs	project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs	project/JFindMyFiles/branding/core/core.jar/org/netbeans/core/startup
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#204">[ date ]</a>
              <a href="thread.html#204">[ thread ]</a>
              <a href="subject.html#204">[ subject ]</a>
              <a href="author.html#204">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: knitter
Date: 2008-07-15 12:22:20 +0200 (Tue, 15 Jul 2008)
New Revision: 209

Modified:
   trunk/docs/JFindMyFiles.doc
   trunk/docs/[Info] Bibliografia Consultada.txt
   trunk/project/JFindMyFiles/Catalog/src/de/berlios/jfindmyfiles/catalog/CatalogEngine.java
   trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/actions/AcEditDescription.java
   trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/actions/AcItemProperties.java
   trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/actions/Bundle.properties
   trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/nodes/CatalogChildren.java
   trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/nodes/DiskGroupChildren.java
   trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/nodes/DiskGroupNode.java
   trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/nodes/DiskNameProperty.java
   trunk/project/JFindMyFiles/branding/core/core.jar/org/netbeans/core/startup/frame.gif
Log:
Actualiza?\195?\167?\195?\163o da bibliografia e escrito c?\195?\179digo para responder a enventos enviados para o modelo.

Modified: trunk/docs/JFindMyFiles.doc
===================================================================
(Binary files differ)

Modified: trunk/docs/[Info] Bibliografia Consultada.txt
===================================================================
--- trunk/docs/[Info] Bibliografia Consultada.txt	2008-07-15 01:29:14 UTC (rev 208)
+++ trunk/docs/[Info] Bibliografia Consultada.txt	2008-07-15 10:22:20 UTC (rev 209)
@@ -1,3 +1,7 @@
 Usability Engineering, Jakob Nielsen,Academic Press Limited, 19937
 Agile Software Development, Principles, Patterns and Practices, Robert C. Martin, Prentice Hall, 2002
-Agile Development with ICONIX process, People, Process, and Pragamatism,DougRosenberg, Matt Stephens and Mark Collins-Cope, Apress, 2005
\ No newline at end of file
+Agile Development with ICONIX process, People, Process, and Pragamatism,DougRosenberg, Matt Stephens and Mark Collins-Cope, Apress, 2005
+
+Descri&#231;&#227;o de Swing: <A HREF="http://java.sun.com/j2se/1.5.0/docs/guide/swing/">http://java.sun.com/j2se/1.5.0/docs/guide/swing/</A>
+Descri&#231;&#227;o de Wiki: <A HREF="http://en.wikipedia.org/wiki/Wiki">http://en.wikipedia.org/wiki/Wiki</A>
+www.extremeprogramming.org
\ No newline at end of file

Modified: trunk/project/JFindMyFiles/Catalog/src/de/berlios/jfindmyfiles/catalog/CatalogEngine.java
===================================================================
--- trunk/project/JFindMyFiles/Catalog/src/de/berlios/jfindmyfiles/catalog/CatalogEngine.java	2008-07-15 01:29:14 UTC (rev 208)
+++ trunk/project/JFindMyFiles/Catalog/src/de/berlios/jfindmyfiles/catalog/CatalogEngine.java	2008-07-15 10:22:20 UTC (rev 209)
@@ -187,6 +187,7 @@
             sessionFactory = null;
             opened = false;
             fireCatalogClosed(new CatalogEngineEvent(this, properties.getName(), null, null, null, null));
+            listeners.clear();
         }
     }
 

Modified: trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/actions/AcEditDescription.java
===================================================================
--- trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/actions/AcEditDescription.java	2008-07-15 01:29:14 UTC (rev 208)
+++ trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/actions/AcEditDescription.java	2008-07-15 10:22:20 UTC (rev 209)
@@ -19,12 +19,21 @@
  */
 package de.berlios.jfindmyfiles.jfindmyfilesgui.actions;
 
+import de.berlios.jfindmyfiles.catalog.CatalogEngine;
 import org.openide.util.HelpCtx;
+import org.openide.util.Lookup;
 import org.openide.util.NbBundle;
 import org.openide.util.actions.CallableSystemAction;
 
 public final class AcEditDescription extends CallableSystemAction {
 
+    private CatalogEngine eng;
+
+    public AcEditDescription() {
+        super();
+        eng = Lookup.getDefault().lookup(CatalogEngine.class);
+    }
+
     public void performAction() {
         // TODO implement action body
     }
@@ -46,4 +55,9 @@
     protected boolean asynchronous() {
         return false;
     }
+
+    @Override
+    public boolean isEnabled() {
+        return eng.isOpened();
+    }
 }

Modified: trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/actions/AcItemProperties.java
===================================================================
--- trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/actions/AcItemProperties.java	2008-07-15 01:29:14 UTC (rev 208)
+++ trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/actions/AcItemProperties.java	2008-07-15 10:22:20 UTC (rev 209)
@@ -19,12 +19,21 @@
  */
 package de.berlios.jfindmyfiles.jfindmyfilesgui.actions;
 
+import de.berlios.jfindmyfiles.catalog.CatalogEngine;
 import org.openide.util.HelpCtx;
+import org.openide.util.Lookup;
 import org.openide.util.NbBundle;
 import org.openide.util.actions.CallableSystemAction;
 
 public final class AcItemProperties extends CallableSystemAction {
 
+    private CatalogEngine eng;
+
+    public AcItemProperties() {
+        super();
+        eng = Lookup.getDefault().lookup(CatalogEngine.class);
+    }
+
     public void performAction() {
         // TODO implement action body
     }
@@ -48,4 +57,9 @@
     protected boolean asynchronous() {
         return false;
     }
+
+    @Override
+    public boolean isEnabled() {
+        return eng.isOpened();
+    }
 }

Modified: trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/actions/Bundle.properties
===================================================================
--- trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/actions/Bundle.properties	2008-07-15 01:29:14 UTC (rev 208)
+++ trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/actions/Bundle.properties	2008-07-15 10:22:20 UTC (rev 209)
@@ -1,20 +1,3 @@
-CTL_AcCatalogProperties=Catalog Details
-CTL_AcClose=Close Catalog
-CTL_AcEditDescription=Edit Description
-CTL_AcExport=Export ...
-CTL_AcImport=Import ...
-CTL_AcItemProperties=Properties
-CTL_AcLaunchFile=Launch File
-CTL_AcNewCatalog=New Catalog
-CTL_AcNewDisk=Add New Disk
-CTL_AcNewGroup=Add New Disk Group
-CTL_AcOpenCatalog=Open Catalog
-CTL_AcRemove=Remove from Catalog
-CTL_AcRename=Rename
-CTL_AcRenumberDisks=Renumber Disks
-CTL_AcSearch=Search ...
-CTL_AcSearchDuplicates=Search for Duplicates
-CTL_AcSearchInGroup=Find in this Disk Group
 ###
  #  Copyright (C) 2008  Patr\u00EDcia Monteiro e S\u00E9rgio Lopes
  #
@@ -34,28 +17,21 @@
  #  along with JFindMyFiles.  If not, see 
  # &lt;<A HREF="http://www.gnu.org/licenses/gpl.html">http://www.gnu.org/licenses/gpl.html</A>&gt;.
  ##
-CTL_ActionAddNewDisk=Add New Disk
-CTL_ActionAddNewDiskGroup=Add New Disk Group
-CTL_ActionAssignDiskPicture=Assign Disk Picture
-CTL_ActionCatalogProperties=Catalog Properties
-CTL_ActionClose=Close
-CTL_ActionDelete=Delete
-CTL_ActionDescriptionWindow=Description Window
-CTL_ActionEditDescription=Edit Description
-CTL_ActionExport=Export
-CTL_ActionFileManagement=File Management
-CTL_ActionFindInThisDiskGroup=Find In This Disk Group
-CTL_ActionHelpIndex=Help Index
-CTL_ActionImport=Import
-CTL_ActionLaunchFile=Launch File
-CTL_ActionLendingDisks=Lending Disks
-CTL_ActionNewCatalog=New Catalog
-CTL_ActionOpen=Open
-CTL_ActionProperties=Properties
-CTL_ActionRemoveFromCatalog=Remove From Catalog
-CTL_ActionRenameDisk=Rename Disk
-CTL_ActionRenumberDisks=Renumber Disks
-CTL_ActionScanForDuplicates=Scan For Duplicates
-CTL_ActionSearch=Search
-CTL_ActionSearchForItems=Search For Items
+CTL_AcCatalogProperties=Catalog Details
+CTL_AcClose=Close Catalog
+CTL_AcEditDescription=Edit Description
+CTL_AcExport=Export ...
+CTL_AcImport=Import ...
+CTL_AcItemProperties=Properties
+CTL_AcLaunchFile=Launch File
+CTL_AcNewCatalog=New Catalog
+CTL_AcNewDisk=Add New Disk
+CTL_AcNewGroup=Add New Disk Group
+CTL_AcOpenCatalog=Open Catalog
+CTL_AcRemove=Remove from Catalog
+CTL_AcRename=Rename
+CTL_AcRenumberDisks=Renumber Disks
+CTL_AcSearch=Search ...
+CTL_AcSearchDuplicates=Search for Duplicates
+CTL_AcSearchInGroup=Find in this Disk Group
 AddNewDiskGroupInputMessage=Disk Group name:

Modified: trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/nodes/CatalogChildren.java
===================================================================
--- trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/nodes/CatalogChildren.java	2008-07-15 01:29:14 UTC (rev 208)
+++ trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/nodes/CatalogChildren.java	2008-07-15 10:22:20 UTC (rev 209)
@@ -37,7 +37,7 @@
         items.addAll(s.createQuery(&quot;from DiskGroup where parent.id is null&quot;).list());
         items.addAll(s.createQuery(&quot;from Media where group.id is null&quot;).list());
         s.getTransaction().commit();
-    }  
+    }
 
     @Override
     @SuppressWarnings(&quot;unchecked&quot;)
@@ -57,7 +57,7 @@
             s.getTransaction().commit();
 
             DiskGroupNode gn = new DiskGroupNode((DiskGroup) key, rs.isEmpty());
-            
+
             return new Node[]{gn};
         }
         if (key instanceof Media) {
@@ -68,35 +68,54 @@
     }
 
     public void catalogCreated(CatalogEngineEvent evt) {
-        //throw new UnsupportedOperationException(&quot;Not supported yet.&quot;);
+        //ignore
     }
 
     public void catalogOpened(CatalogEngineEvent evt) {
-        //throw new UnsupportedOperationException(&quot;Not supported yet.&quot;);
+        //ignore
     }
 
     public void catalogClosed(CatalogEngineEvent evt) {
-        //throw new UnsupportedOperationException(&quot;Not supported yet.&quot;);
+        //ignore
     }
 
+    //TODO: not tested!
+    @SuppressWarnings(&quot;unchecked&quot;)
     public void diskGroupAdded(CatalogEngineEvent evt) {
-        items.add(evt.getNewDiskGroup());
-        addNotify();
+        if (evt.getNewDiskGroup().getParent() == null) {
+            items.add(evt.getNewDiskGroup());
+            addNotify();
+        }
     }
 
+    @SuppressWarnings(&quot;unchecked&quot;)
     public void diskGroupRemoved(CatalogEngineEvent evt) {
-        //throw new UnsupportedOperationException(&quot;Not supported yet.&quot;);
+        if (evt.getNewDiskGroup().getParent() == null) {
+            items.remove(evt.getNewDiskGroup());
+            addNotify();
+        }
     }
 
+    @SuppressWarnings(&quot;unchecked&quot;)
     public void diskGroupRenamed(CatalogEngineEvent evt) {
-        //throw new UnsupportedOperationException(&quot;Not supported yet.&quot;);
+        if (evt.getNewDiskGroup().getParent() == null) {
+            addNotify();
+        }
     }
 
+    @SuppressWarnings(&quot;unchecked&quot;)
     public void diskAdded(CatalogEngineEvent evt) {
-        //throw new UnsupportedOperationException(&quot;Not supported yet.&quot;);
+        if (evt.getNewDisk().getGroup() == null) {
+            items.add(evt.getNewDisk());
+            addNotify();
+        }
     }
 
+    @SuppressWarnings(&quot;unchecked&quot;)
     public void diskRemoved(CatalogEngineEvent evt) {
-        //throw new UnsupportedOperationException(&quot;Not supported yet.&quot;);
+        if (evt.getNewDisk().getGroup() == null) {
+            items.remove(evt.getNewDisk());
+            addNotify();
+        }
     }
 }

Modified: trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/nodes/DiskGroupChildren.java
===================================================================
--- trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/nodes/DiskGroupChildren.java	2008-07-15 01:29:14 UTC (rev 208)
+++ trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/nodes/DiskGroupChildren.java	2008-07-15 10:22:20 UTC (rev 209)
@@ -2,10 +2,11 @@
  * To change this template, choose Tools | Templates
  * and open the template in the editor.
  */
-
 package de.berlios.jfindmyfiles.jfindmyfilesgui.nodes;
 
 import de.berlios.jfindmyfiles.catalog.CatalogEngine;
+import de.berlios.jfindmyfiles.catalog.CatalogEngineEvent;
+import de.berlios.jfindmyfiles.catalog.CatalogEngineListener;
 import de.berlios.jfindmyfiles.catalog.entities.DiskGroup;
 import de.berlios.jfindmyfiles.catalog.entities.Media;
 import java.util.LinkedList;
@@ -19,7 +20,7 @@
  *
  * @author Knitter
  */
-public class DiskGroupChildren extends Children.Keys {
+public class DiskGroupChildren extends Children.Keys implements CatalogEngineListener {
 
     private Long parentId;
     private List items;
@@ -30,6 +31,7 @@
         this.parentId = parentId;
         items = new LinkedList();
         eng = Lookup.getDefault().lookup(CatalogEngine.class);
+        eng.addListener(this);
         Session s = eng.sessionFactory.getCurrentSession();
         s.beginTransaction();
         items.addAll(s.createQuery(&quot;from DiskGroup group where group.parent.id = ?&quot;).setLong(0, parentId).list());
@@ -64,4 +66,51 @@
         return null;
     }
 
+    public void catalogCreated(CatalogEngineEvent evt) {
+        //ignore
+    }
+
+    public void catalogOpened(CatalogEngineEvent evt) {
+        //ignore
+    }
+
+    public void catalogClosed(CatalogEngineEvent evt) {
+        //ignore
+    }
+
+    @SuppressWarnings(&quot;unchecked&quot;)
+    public void diskGroupAdded(CatalogEngineEvent evt) {
+        if (evt.getNewDiskGroup().getId().equals(parentId)) {
+            items.add(evt.getNewDiskGroup());
+            addNotify();
+        }
+    }
+
+    @SuppressWarnings(&quot;unchecked&quot;)
+    public void diskGroupRemoved(CatalogEngineEvent evt) {
+        if (evt.getNewDiskGroup().getId().equals(parentId)) {
+            items.remove(evt.getNewDiskGroup());
+            addNotify();
+        }
+    }
+
+    public void diskGroupRenamed(CatalogEngineEvent evt) {
+        //ignore
+    }
+
+    @SuppressWarnings(&quot;unchecked&quot;)
+    public void diskAdded(CatalogEngineEvent evt) {
+        if (evt.getNewDisk().getGroup().getId().equals(parentId)) {
+            items.add(evt.getNewDisk());
+            addNotify();
+        }
+    }
+
+    @SuppressWarnings(&quot;unchecked&quot;)
+    public void diskRemoved(CatalogEngineEvent evt) {
+        if (evt.getNewDisk().getGroup().getId().equals(parentId)) {
+            items.remove(evt.getNewDisk());
+            addNotify();
+        }
+    }
 }

Modified: trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/nodes/DiskGroupNode.java
===================================================================
--- trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/nodes/DiskGroupNode.java	2008-07-15 01:29:14 UTC (rev 208)
+++ trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/nodes/DiskGroupNode.java	2008-07-15 10:22:20 UTC (rev 209)
@@ -19,6 +19,8 @@
  */
 package de.berlios.jfindmyfiles.jfindmyfilesgui.nodes;
 
+import de.berlios.jfindmyfiles.catalog.CatalogEngineEvent;
+import de.berlios.jfindmyfiles.catalog.CatalogEngineListener;
 import de.berlios.jfindmyfiles.catalog.entities.DiskGroup;
 import de.berlios.jfindmyfiles.jfindmyfilesgui.actions.AcItemProperties;
 import de.berlios.jfindmyfiles.jfindmyfilesgui.actions.AcNewDisk;
@@ -37,14 +39,15 @@
  *
  * @author knitter
  */
-public class DiskGroupNode extends AbstractNode {
+public class DiskGroupNode extends AbstractNode implements CatalogEngineListener {
 
     private SystemAction[] sysact;
+    private DiskGroup group;
 
     public DiskGroupNode(DiskGroup group, boolean leaf) {
         super((leaf ? Children.LEAF : new DiskGroupChildren(group.getId())), Lookups.singleton(group));
         setName(group.getName());
-
+        this.group = group;
         Lookup lo = Lookups.forPath(&quot;/Actions&quot;);//TODO: sort actions correctly and add separators
         sysact = new SystemAction[]{lo.lookup(AcRemove.class), lo.lookup(AcItemProperties.class),
                     lo.lookup(AcRenumberDisks.class), lo.lookup(AcNewDisk.class), lo.lookup(AcNewGroup.class)
@@ -65,4 +68,40 @@
     public SystemAction[] getActions(boolean bool) {
         return new SystemAction[]{};
     }
+
+    public void catalogCreated(CatalogEngineEvent evt) {
+        //ignore
+    }
+
+    public void catalogOpened(CatalogEngineEvent evt) {
+        //ignore
+    }
+
+    public void catalogClosed(CatalogEngineEvent evt) {
+        //ignore
+    }
+
+    public void diskGroupAdded(CatalogEngineEvent evt) {
+        //ignore
+    }
+
+    public void diskGroupRemoved(CatalogEngineEvent evt) {
+        //ignore
+    }
+
+    @SuppressWarnings(&quot;unchecked&quot;)
+    public void diskGroupRenamed(CatalogEngineEvent evt) {
+        if(evt.getNewDiskGroup().getId().equals(group.getId())) {
+            group = evt.getNewDiskGroup();
+            setName(group.getName());
+        }
+    }
+
+    public void diskAdded(CatalogEngineEvent evt) {
+        //ignore
+    }
+
+    public void diskRemoved(CatalogEngineEvent evt) {
+        //ignore
+    }
 }

Modified: trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/nodes/DiskNameProperty.java
===================================================================
--- trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/nodes/DiskNameProperty.java	2008-07-15 01:29:14 UTC (rev 208)
+++ trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/nodes/DiskNameProperty.java	2008-07-15 10:22:20 UTC (rev 209)
@@ -16,6 +16,7 @@
 
     private String value;
     
+    @SuppressWarnings(&quot;unchecked&quot;)
     public DiskNameProperty(String displayName, String shortDescription, String value) {
         super(&quot;name&quot;, String.class, displayName, shortDescription, true, false);
         this.value = value;

Modified: trunk/project/JFindMyFiles/branding/core/core.jar/org/netbeans/core/startup/frame.gif
===================================================================
(Binary files differ)


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000203.html">[Jfindmyfiles-commits] r208 - in trunk: media media/icons	media/icons/actions media/icons/general	media/icons/importexport media/icons/nodes	project/JFindMyFiles/Catalog/src/de/berlios/jfindmyfiles/catalog	project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui	project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/actions	project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/nodes	project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/resources	project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/resources/icons/actions	project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/resources/icons/general	project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/utils
</A></li>
	<LI>Next message: <A HREF="000205.html">[Jfindmyfiles-commits] r210 - in trunk: docs	project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs	project/JFindMyFiles/branding/core/core.jar/org/netbeans/core/startup
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#204">[ date ]</a>
              <a href="thread.html#204">[ thread ]</a>
              <a href="subject.html#204">[ subject ]</a>
              <a href="author.html#204">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/jfindmyfiles-commits">More information about the Jfindmyfiles-commits
mailing list</a><br>
</body></html>
