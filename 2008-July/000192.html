<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Jfindmyfiles-commits] r197 - in trunk: docs media/icons/x16	project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui	project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs	project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/nodes	project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/resources/images/x16	project/JFindMyFiles/ReadingFiles/src/de/berlios/jfindmyfiles/readingfiles/pluginapi	project/JFindMyFiles/ReadingFiles/src/de/berlios/jfindmyfiles/readingfiles/plugins
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/jfindmyfiles-commits/2008-July/index.html" >
   <LINK REL="made" HREF="mailto:jfindmyfiles-commits%40lists.berlios.de?Subject=Re%3A%20%5BJfindmyfiles-commits%5D%20r197%20-%20in%20trunk%3A%20docs%20media/icons/x16%0A%09project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui%0A%09project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs%0A%09project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/nodes%0A%09project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/resources/images/x16%0A%09project/JFindMyFiles/ReadingFiles/src/de/berlios/jfindmyfiles/readingfiles/pluginapi%0A%09project/JFindMyFiles/ReadingFiles/src/de/berlios/jfindmyfiles/readingfiles/plugins&In-Reply-To=%3C200807112101.m6BL1Qei018130%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000191.html">
   <LINK REL="Next"  HREF="000193.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Jfindmyfiles-commits] r197 - in trunk: docs media/icons/x16	project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui	project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs	project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/nodes	project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/resources/images/x16	project/JFindMyFiles/ReadingFiles/src/de/berlios/jfindmyfiles/readingfiles/pluginapi	project/JFindMyFiles/ReadingFiles/src/de/berlios/jfindmyfiles/readingfiles/plugins</H1>
    <B>knitter at mail.berlios.de</B> 
    <A HREF="mailto:jfindmyfiles-commits%40lists.berlios.de?Subject=Re%3A%20%5BJfindmyfiles-commits%5D%20r197%20-%20in%20trunk%3A%20docs%20media/icons/x16%0A%09project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui%0A%09project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs%0A%09project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/nodes%0A%09project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/resources/images/x16%0A%09project/JFindMyFiles/ReadingFiles/src/de/berlios/jfindmyfiles/readingfiles/pluginapi%0A%09project/JFindMyFiles/ReadingFiles/src/de/berlios/jfindmyfiles/readingfiles/plugins&In-Reply-To=%3C200807112101.m6BL1Qei018130%40sheep.berlios.de%3E"
       TITLE="[Jfindmyfiles-commits] r197 - in trunk: docs media/icons/x16	project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui	project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs	project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/nodes	project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/resources/images/x16	project/JFindMyFiles/ReadingFiles/src/de/berlios/jfindmyfiles/readingfiles/pluginapi	project/JFindMyFiles/ReadingFiles/src/de/berlios/jfindmyfiles/readingfiles/plugins">knitter at mail.berlios.de
       </A><BR>
    <I>Fri Jul 11 23:01:26 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000191.html">[Jfindmyfiles-commits] r196 - trunk/docs
</A></li>
        <LI>Next message: <A HREF="000193.html">[Jfindmyfiles-commits] r198 - in	trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui:	. dialogs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#192">[ date ]</a>
              <a href="thread.html#192">[ thread ]</a>
              <a href="subject.html#192">[ subject ]</a>
              <a href="author.html#192">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: knitter
Date: 2008-07-11 23:00:25 +0200 (Fri, 11 Jul 2008)
New Revision: 197

Added:
   trunk/media/icons/x16/dialog-warning.png
   trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/nodes/SearchChildren.java
   trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/resources/images/x16/dialog-warning.png
Removed:
   trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/FileListAction.java
   trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/FileListTopComponent.form
   trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/FileListTopComponent.java
   trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/FileListTopComponentSettings.xml
   trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/FileListTopComponentWstcref.xml
   trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/FilePropertiesAction.java
   trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/FilePropertiesTopComponent.form
   trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/FilePropertiesTopComponent.java
   trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/FilePropertiesTopComponentSettings.xml
   trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/FilePropertiesTopComponentWstcref.xml
   trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/nodes/SearchParentChildren.java
Modified:
   trunk/docs/JFindMyFiles.doc
   trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/Bundle.properties
   trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/DuplicateResultsTopComponent.java
   trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/Installer.java
   trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/LinuxPanel.form
   trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/LinuxPanel.java
   trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/ManageUsersTopComponent.form
   trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/ManageUsersTopComponent.java
   trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/PluginsPanel.form
   trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/PluginsPanel.java
   trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/SearchWindowTopComponent.java
   trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/Bundle.properties
   trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/ExportDlg.form
   trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/ExportDlg.java
   trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/ImportDlg.form
   trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/ImportDlg.java
   trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/layer.xml
   trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/nodes/SearchParentNode.java
   trunk/project/JFindMyFiles/ReadingFiles/src/de/berlios/jfindmyfiles/readingfiles/pluginapi/PluginCache.java
   trunk/project/JFindMyFiles/ReadingFiles/src/de/berlios/jfindmyfiles/readingfiles/plugins/AntMovieCatalogerPlugin.java
   trunk/project/JFindMyFiles/ReadingFiles/src/de/berlios/jfindmyfiles/readingfiles/plugins/JPGPlugin.java
Log:
Resolu?\195?\167?\195?\163o de diversos erros nas janelas de di?\195?\161logo, correc?\195?\167?\195?\163o de ac?\195?\167?\195?\181es de bot?\195?\181es.
Sistema de pesquisa de duplicados desactivado at?\195?\169 se perceber o erro que impede a interface de mostrar os resultados.

Sistema de pesquisa de ficheiros continua com erro estranho, a checkbox de pesquisa case sensitive parece estar a funcionar ao contr?\195?\161rio.

Modified: trunk/docs/JFindMyFiles.doc
===================================================================
(Binary files differ)

Added: trunk/media/icons/x16/dialog-warning.png
===================================================================
(Binary files differ)


Property changes on: trunk/media/icons/x16/dialog-warning.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Modified: trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/Bundle.properties
===================================================================
--- trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/Bundle.properties	2008-07-10 20:18:11 UTC (rev 196)
+++ trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/Bundle.properties	2008-07-11 21:00:25 UTC (rev 197)
@@ -69,7 +69,7 @@
 CatalogOptionsPanel.jbtnBrowse.text=...
 PluginsPanel.jlblPluginFolder.text=Plugin Folder:
 PluginsPanel.jtfPluginFolder.text=
-PluginsPanel.jbtnBrowse.text=...
+PluginsPanel.jbtnBrowse.text=Browse
 CatalogOptionsPanel.jLabel1.text=Server
 MiscPanel.jlblRememberedCatalogs.text=Nr. Remembered Catalogs:
 MiscPanel.jtfUserName.text=
@@ -101,5 +101,6 @@
 LinuxPanel.jtfMountFolder.text=
 LinuxPanel.jbtnAdd.text=Add
 LinuxPanel.jbtnRemove.text=Remove
-LinuxPanel.jtbnBrowse.text=...
+LinuxPanel.jtbnBrowse.text=Browse
 LinuxPanel.jchkScanMedia.text=Scan /media to find CD-ROM, DVD-ROM and FLASH disks?
+LinuxPanel.jLabel1.text=Use this options only to set paths for CD/DVD/Flash Drives. Not for normal folders.

Modified: trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/DuplicateResultsTopComponent.java
===================================================================
--- trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/DuplicateResultsTopComponent.java	2008-07-10 20:18:11 UTC (rev 196)
+++ trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/DuplicateResultsTopComponent.java	2008-07-11 21:00:25 UTC (rev 197)
@@ -10,11 +10,12 @@
 import java.util.logging.Logger;
 import javax.swing.ActionMap;
 import org.openide.explorer.ExplorerManager;
+import org.openide.explorer.ExplorerUtils;
 import org.openide.explorer.view.BeanTreeView;
 import org.openide.util.NbBundle;
 import org.openide.windows.TopComponent;
 import org.openide.windows.WindowManager;
-//import org.openide.util.Utilities;
+
 /**
  * Top component which displays something.
  */
@@ -38,8 +39,8 @@
         manager.setRootContext(new SearchParentNode());
 
         ActionMap map = getActionMap();
-    //map.put(&quot;delete&quot;, ExplorerUtils.actionDelete(manager, true));
-    //associateLookup(ExplorerUtils.createLookup(manager, map));
+        //map.put(&quot;delete&quot;, ExplorerUtils.actionDelete(manager, true));
+        associateLookup(ExplorerUtils.createLookup(manager, map));
     }
 
     /** This method is called from within the constructor to
@@ -101,16 +102,6 @@
         return TopComponent.PERSISTENCE_ALWAYS;
     }
 
-    @Override
-    public void componentOpened() {
-        // TODO add custom code on component opening
-    }
-
-    @Override
-    public void componentClosed() {
-        // TODO add custom code on component closing
-    }
-
     /** replaces this in object stream */
     @Override
     public Object writeReplace() {
@@ -130,11 +121,11 @@
             return DuplicateResultsTopComponent.getDefault();
         }
     }
-    
+
     public ExplorerManager getExplorerManager() {
         return manager;
     }
-    
+
     public void startSearching() {
         //TODO: searchig for duplicates
         /*CatalogEngine eng = Lookup.getDefault().lookup(CatalogEngine.class);

Deleted: trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/FileListAction.java
===================================================================
--- trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/FileListAction.java	2008-07-10 20:18:11 UTC (rev 196)
+++ trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/FileListAction.java	2008-07-11 21:00:25 UTC (rev 197)
@@ -1,29 +0,0 @@
-/*
- * To change this template, choose Tools | Templates
- * and open the template in the editor.
- */
-package de.berlios.jfindmyfiles.jfindmyfilesgui;
-
-import java.awt.event.ActionEvent;
-import javax.swing.AbstractAction;
-import javax.swing.ImageIcon;
-import org.openide.util.NbBundle;
-import org.openide.util.Utilities;
-import org.openide.windows.TopComponent;
-
-/**
- * Action which shows FileList component.
- */
-public class FileListAction extends AbstractAction {
-
-    public FileListAction() {
-        super(NbBundle.getMessage(FileListAction.class, &quot;CTL_FileListAction&quot;));
-//        putValue(SMALL_ICON, new ImageIcon(Utilities.loadImage(FileListTopComponent.ICON_PATH, true)));
-    }
-
-    public void actionPerformed(ActionEvent evt) {
-        TopComponent win = FileListTopComponent.findInstance();
-        win.open();
-        win.requestActive();
-    }
-}

Deleted: trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/FileListTopComponent.form
===================================================================
--- trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/FileListTopComponent.form	2008-07-10 20:18:11 UTC (rev 196)
+++ trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/FileListTopComponent.form	2008-07-11 21:00:25 UTC (rev 197)
@@ -1,27 +0,0 @@
-&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;
-
-&lt;Form version=&quot;1.3&quot; maxVersion=&quot;1.6&quot; type=&quot;org.netbeans.modules.form.forminfo.JPanelFormInfo&quot;&gt;
-  &lt;AuxValues&gt;
-    &lt;AuxValue name=&quot;FormSettings_autoResourcing&quot; type=&quot;java.lang.Integer&quot; value=&quot;1&quot;/&gt;
-    &lt;AuxValue name=&quot;FormSettings_autoSetComponentName&quot; type=&quot;java.lang.Boolean&quot; value=&quot;false&quot;/&gt;
-    &lt;AuxValue name=&quot;FormSettings_generateMnemonicsCode&quot; type=&quot;java.lang.Boolean&quot; value=&quot;true&quot;/&gt;
-    &lt;AuxValue name=&quot;FormSettings_i18nAutoMode&quot; type=&quot;java.lang.Boolean&quot; value=&quot;true&quot;/&gt;
-    &lt;AuxValue name=&quot;FormSettings_layoutCodeTarget&quot; type=&quot;java.lang.Integer&quot; value=&quot;1&quot;/&gt;
-    &lt;AuxValue name=&quot;FormSettings_listenerGenerationStyle&quot; type=&quot;java.lang.Integer&quot; value=&quot;0&quot;/&gt;
-    &lt;AuxValue name=&quot;FormSettings_variablesLocal&quot; type=&quot;java.lang.Boolean&quot; value=&quot;false&quot;/&gt;
-    &lt;AuxValue name=&quot;FormSettings_variablesModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;2&quot;/&gt;
-  &lt;/AuxValues&gt;
-
-  &lt;Layout&gt;
-    &lt;DimensionLayout dim=&quot;0&quot;&gt;
-      &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-          &lt;EmptySpace min=&quot;0&quot; pref=&quot;400&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
-      &lt;/Group&gt;
-    &lt;/DimensionLayout&gt;
-    &lt;DimensionLayout dim=&quot;1&quot;&gt;
-      &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-          &lt;EmptySpace min=&quot;0&quot; pref=&quot;300&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
-      &lt;/Group&gt;
-    &lt;/DimensionLayout&gt;
-  &lt;/Layout&gt;
-&lt;/Form&gt;

Deleted: trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/FileListTopComponent.java
===================================================================
--- trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/FileListTopComponent.java	2008-07-10 20:18:11 UTC (rev 196)
+++ trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/FileListTopComponent.java	2008-07-11 21:00:25 UTC (rev 197)
@@ -1,121 +0,0 @@
-/*
- * To change this template, choose Tools | Templates
- * and open the template in the editor.
- */
-
-package de.berlios.jfindmyfiles.jfindmyfilesgui;
-
-import java.io.Serializable;
-import java.util.logging.Logger;
-import org.openide.util.NbBundle;
-import org.openide.windows.TopComponent;
-import org.openide.windows.WindowManager;
-//import org.openide.util.Utilities;
-
-/**
- * Top component which displays something.
- */
-final class FileListTopComponent extends TopComponent {
-
-    private static FileListTopComponent instance;
-    /** path to the icon used by the component and its open action */
-//    static final String ICON_PATH = &quot;SET/PATH/TO/ICON/HERE&quot;;
-
-    private static final String PREFERRED_ID = &quot;FileListTopComponent&quot;;
-
-    private FileListTopComponent() {
-        initComponents();
-        setName(NbBundle.getMessage(FileListTopComponent.class, &quot;CTL_FileListTopComponent&quot;));
-        setToolTipText(NbBundle.getMessage(FileListTopComponent.class, &quot;HINT_FileListTopComponent&quot;));
-//        setIcon(Utilities.loadImage(ICON_PATH, true));
-    }
-
-    /** This method is called from within the constructor to
-     * initialize the form.
-     * WARNING: Do NOT modify this code. The content of this method is
-     * always regenerated by the Form Editor.
-     */
-    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;//GEN-BEGIN:initComponents
-    private void initComponents() {
-
-        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(this);
-        this.setLayout(layout);
-        layout.setHorizontalGroup(
-            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
-            .addGap(0, 400, Short.MAX_VALUE)
-        );
-        layout.setVerticalGroup(
-            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
-            .addGap(0, 300, Short.MAX_VALUE)
-        );
-    }// &lt;/editor-fold&gt;//GEN-END:initComponents
-
-
-    // Variables declaration - do not modify//GEN-BEGIN:variables
-    // End of variables declaration//GEN-END:variables
-    /**
-     * Gets default instance. Do not use directly: reserved for *.settings files only,
-     * i.e. deserialization routines; otherwise you could get a non-deserialized instance.
-     * To obtain the singleton instance, use {@link findInstance}.
-     */
-    public static synchronized FileListTopComponent getDefault() {
-        if (instance == null) {
-            instance = new FileListTopComponent();
-        }
-        return instance;
-    }
-
-    /**
-     * Obtain the FileListTopComponent instance. Never call {@link #getDefault} directly!
-     */
-    public static synchronized FileListTopComponent findInstance() {
-        TopComponent win = WindowManager.getDefault().findTopComponent(PREFERRED_ID);
-        if (win == null) {
-            Logger.getLogger(FileListTopComponent.class.getName()).warning(
-                    &quot;Cannot find &quot; + PREFERRED_ID + &quot; component. It will not be located properly in the window system.&quot;);
-            return getDefault();
-        }
-        if (win instanceof FileListTopComponent) {
-            return (FileListTopComponent) win;
-        }
-        Logger.getLogger(FileListTopComponent.class.getName()).warning(
-                &quot;There seem to be multiple components with the '&quot; + PREFERRED_ID +
-                &quot;' ID. That is a potential source of errors and unexpected behavior.&quot;);
-        return getDefault();
-    }
-
-    @Override
-    public int getPersistenceType() {
-        return TopComponent.PERSISTENCE_ALWAYS;
-    }
-
-    @Override
-    public void componentOpened() {
-        // TODO add custom code on component opening
-    }
-
-    @Override
-    public void componentClosed() {
-        // TODO add custom code on component closing
-    }
-
-    /** replaces this in object stream */
-    @Override
-    public Object writeReplace() {
-        return new ResolvableHelper();
-    }
-
-    @Override
-    protected String preferredID() {
-        return PREFERRED_ID;
-    }
-
-    final static class ResolvableHelper implements Serializable {
-
-        private static final long serialVersionUID = 1L;
-
-        public Object readResolve() {
-            return FileListTopComponent.getDefault();
-        }
-    }
-}

Deleted: trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/FileListTopComponentSettings.xml
===================================================================
--- trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/FileListTopComponentSettings.xml	2008-07-10 20:18:11 UTC (rev 196)
+++ trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/FileListTopComponentSettings.xml	2008-07-11 21:00:25 UTC (rev 197)
@@ -1,12 +0,0 @@
-&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
-&lt;!--
-To change this template, choose Tools | Templates
-and open the template in the editor.
---&gt;
-&lt;!DOCTYPE settings PUBLIC &quot;-//NetBeans//DTD Session settings 1.0//EN&quot; &quot;<A HREF="http://www.netbeans.org/dtds/sessionsettings-1_0.dtd">http://www.netbeans.org/dtds/sessionsettings-1_0.dtd</A>&quot;&gt;
-&lt;settings version=&quot;1.0&quot;&gt;
-    &lt;module name=&quot;de.berlios.jfindmyfiles.jfindmyfilesgui&quot; spec=&quot;1.0&quot;/&gt;
-    &lt;instanceof class=&quot;org.openide.windows.TopComponent&quot;/&gt;
-    &lt;instanceof class=&quot;de.berlios.jfindmyfiles.jfindmyfilesgui.FileListTopComponent&quot;/&gt;
-    &lt;instance class=&quot;de.berlios.jfindmyfiles.jfindmyfilesgui.FileListTopComponent&quot; method=&quot;getDefault&quot;/&gt;
-&lt;/settings&gt;

Deleted: trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/FileListTopComponentWstcref.xml
===================================================================
--- trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/FileListTopComponentWstcref.xml	2008-07-10 20:18:11 UTC (rev 196)
+++ trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/FileListTopComponentWstcref.xml	2008-07-11 21:00:25 UTC (rev 197)
@@ -1,11 +0,0 @@
-&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
-&lt;!--
-To change this template, choose Tools | Templates
-and open the template in the editor.
---&gt;
-&lt;!DOCTYPE tc-ref PUBLIC &quot;-//NetBeans//DTD Top Component in Mode Properties 2.0//EN&quot; &quot;<A HREF="http://www.netbeans.org/dtds/tc-ref2_0.dtd">http://www.netbeans.org/dtds/tc-ref2_0.dtd</A>&quot;&gt;
-&lt;tc-ref version=&quot;2.0&quot; &gt;
-    &lt;module name=&quot;de.berlios.jfindmyfiles.jfindmyfilesgui&quot; spec=&quot;1.0&quot;/&gt;
-    &lt;tc-id id=&quot;FileListTopComponent&quot;/&gt;
-    &lt;state opened=&quot;false&quot;/&gt;
-&lt;/tc-ref&gt;

Deleted: trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/FilePropertiesAction.java
===================================================================
--- trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/FilePropertiesAction.java	2008-07-10 20:18:11 UTC (rev 196)
+++ trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/FilePropertiesAction.java	2008-07-11 21:00:25 UTC (rev 197)
@@ -1,29 +0,0 @@
-/*
- * To change this template, choose Tools | Templates
- * and open the template in the editor.
- */
-package de.berlios.jfindmyfiles.jfindmyfilesgui;
-
-import java.awt.event.ActionEvent;
-import javax.swing.AbstractAction;
-import javax.swing.ImageIcon;
-import org.openide.util.NbBundle;
-import org.openide.util.Utilities;
-import org.openide.windows.TopComponent;
-
-/**
- * Action which shows FileProperties component.
- */
-public class FilePropertiesAction extends AbstractAction {
-
-    public FilePropertiesAction() {
-        super(NbBundle.getMessage(FilePropertiesAction.class, &quot;CTL_FilePropertiesAction&quot;));
-//        putValue(SMALL_ICON, new ImageIcon(Utilities.loadImage(FilePropertiesTopComponent.ICON_PATH, true)));
-    }
-
-    public void actionPerformed(ActionEvent evt) {
-        TopComponent win = FilePropertiesTopComponent.findInstance();
-        win.open();
-        win.requestActive();
-    }
-}

Deleted: trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/FilePropertiesTopComponent.form
===================================================================
--- trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/FilePropertiesTopComponent.form	2008-07-10 20:18:11 UTC (rev 196)
+++ trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/FilePropertiesTopComponent.form	2008-07-11 21:00:25 UTC (rev 197)
@@ -1,27 +0,0 @@
-&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;
-
-&lt;Form version=&quot;1.3&quot; maxVersion=&quot;1.6&quot; type=&quot;org.netbeans.modules.form.forminfo.JPanelFormInfo&quot;&gt;
-  &lt;AuxValues&gt;
-    &lt;AuxValue name=&quot;FormSettings_autoResourcing&quot; type=&quot;java.lang.Integer&quot; value=&quot;1&quot;/&gt;
-    &lt;AuxValue name=&quot;FormSettings_autoSetComponentName&quot; type=&quot;java.lang.Boolean&quot; value=&quot;false&quot;/&gt;
-    &lt;AuxValue name=&quot;FormSettings_generateMnemonicsCode&quot; type=&quot;java.lang.Boolean&quot; value=&quot;true&quot;/&gt;
-    &lt;AuxValue name=&quot;FormSettings_i18nAutoMode&quot; type=&quot;java.lang.Boolean&quot; value=&quot;true&quot;/&gt;
-    &lt;AuxValue name=&quot;FormSettings_layoutCodeTarget&quot; type=&quot;java.lang.Integer&quot; value=&quot;1&quot;/&gt;
-    &lt;AuxValue name=&quot;FormSettings_listenerGenerationStyle&quot; type=&quot;java.lang.Integer&quot; value=&quot;0&quot;/&gt;
-    &lt;AuxValue name=&quot;FormSettings_variablesLocal&quot; type=&quot;java.lang.Boolean&quot; value=&quot;false&quot;/&gt;
-    &lt;AuxValue name=&quot;FormSettings_variablesModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;2&quot;/&gt;
-  &lt;/AuxValues&gt;
-
-  &lt;Layout&gt;
-    &lt;DimensionLayout dim=&quot;0&quot;&gt;
-      &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-          &lt;EmptySpace min=&quot;0&quot; pref=&quot;400&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
-      &lt;/Group&gt;
-    &lt;/DimensionLayout&gt;
-    &lt;DimensionLayout dim=&quot;1&quot;&gt;
-      &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-          &lt;EmptySpace min=&quot;0&quot; pref=&quot;300&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
-      &lt;/Group&gt;
-    &lt;/DimensionLayout&gt;
-  &lt;/Layout&gt;
-&lt;/Form&gt;

Deleted: trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/FilePropertiesTopComponent.java
===================================================================
--- trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/FilePropertiesTopComponent.java	2008-07-10 20:18:11 UTC (rev 196)
+++ trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/FilePropertiesTopComponent.java	2008-07-11 21:00:25 UTC (rev 197)
@@ -1,121 +0,0 @@
-/*
- * To change this template, choose Tools | Templates
- * and open the template in the editor.
- */
-
-package de.berlios.jfindmyfiles.jfindmyfilesgui;
-
-import java.io.Serializable;
-import java.util.logging.Logger;
-import org.openide.util.NbBundle;
-import org.openide.windows.TopComponent;
-import org.openide.windows.WindowManager;
-//import org.openide.util.Utilities;
-
-/**
- * Top component which displays something.
- */
-final class FilePropertiesTopComponent extends TopComponent {
-
-    private static FilePropertiesTopComponent instance;
-    /** path to the icon used by the component and its open action */
-//    static final String ICON_PATH = &quot;SET/PATH/TO/ICON/HERE&quot;;
-
-    private static final String PREFERRED_ID = &quot;FilePropertiesTopComponent&quot;;
-
-    private FilePropertiesTopComponent() {
-        initComponents();
-        setName(NbBundle.getMessage(FilePropertiesTopComponent.class, &quot;CTL_FilePropertiesTopComponent&quot;));
-        setToolTipText(NbBundle.getMessage(FilePropertiesTopComponent.class, &quot;HINT_FilePropertiesTopComponent&quot;));
-//        setIcon(Utilities.loadImage(ICON_PATH, true));
-    }
-
-    /** This method is called from within the constructor to
-     * initialize the form.
-     * WARNING: Do NOT modify this code. The content of this method is
-     * always regenerated by the Form Editor.
-     */
-    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;//GEN-BEGIN:initComponents
-    private void initComponents() {
-
-        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(this);
-        this.setLayout(layout);
-        layout.setHorizontalGroup(
-            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
-            .addGap(0, 400, Short.MAX_VALUE)
-        );
-        layout.setVerticalGroup(
-            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
-            .addGap(0, 300, Short.MAX_VALUE)
-        );
-    }// &lt;/editor-fold&gt;//GEN-END:initComponents
-
-
-    // Variables declaration - do not modify//GEN-BEGIN:variables
-    // End of variables declaration//GEN-END:variables
-    /**
-     * Gets default instance. Do not use directly: reserved for *.settings files only,
-     * i.e. deserialization routines; otherwise you could get a non-deserialized instance.
-     * To obtain the singleton instance, use {@link findInstance}.
-     */
-    public static synchronized FilePropertiesTopComponent getDefault() {
-        if (instance == null) {
-            instance = new FilePropertiesTopComponent();
-        }
-        return instance;
-    }
-
-    /**
-     * Obtain the FilePropertiesTopComponent instance. Never call {@link #getDefault} directly!
-     */
-    public static synchronized FilePropertiesTopComponent findInstance() {
-        TopComponent win = WindowManager.getDefault().findTopComponent(PREFERRED_ID);
-        if (win == null) {
-            Logger.getLogger(FilePropertiesTopComponent.class.getName()).warning(
-                    &quot;Cannot find &quot; + PREFERRED_ID + &quot; component. It will not be located properly in the window system.&quot;);
-            return getDefault();
-        }
-        if (win instanceof FilePropertiesTopComponent) {
-            return (FilePropertiesTopComponent) win;
-        }
-        Logger.getLogger(FilePropertiesTopComponent.class.getName()).warning(
-                &quot;There seem to be multiple components with the '&quot; + PREFERRED_ID +
-                &quot;' ID. That is a potential source of errors and unexpected behavior.&quot;);
-        return getDefault();
-    }
-
-    @Override
-    public int getPersistenceType() {
-        return TopComponent.PERSISTENCE_ALWAYS;
-    }
-
-    @Override
-    public void componentOpened() {
-        // TODO add custom code on component opening
-    }
-
-    @Override
-    public void componentClosed() {
-        // TODO add custom code on component closing
-    }
-
-    /** replaces this in object stream */
-    @Override
-    public Object writeReplace() {
-        return new ResolvableHelper();
-    }
-
-    @Override
-    protected String preferredID() {
-        return PREFERRED_ID;
-    }
-
-    final static class ResolvableHelper implements Serializable {
-
-        private static final long serialVersionUID = 1L;
-
-        public Object readResolve() {
-            return FilePropertiesTopComponent.getDefault();
-        }
-    }
-}

Deleted: trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/FilePropertiesTopComponentSettings.xml
===================================================================
--- trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/FilePropertiesTopComponentSettings.xml	2008-07-10 20:18:11 UTC (rev 196)
+++ trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/FilePropertiesTopComponentSettings.xml	2008-07-11 21:00:25 UTC (rev 197)
@@ -1,12 +0,0 @@
-&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
-&lt;!--
-To change this template, choose Tools | Templates
-and open the template in the editor.
---&gt;
-&lt;!DOCTYPE settings PUBLIC &quot;-//NetBeans//DTD Session settings 1.0//EN&quot; &quot;<A HREF="http://www.netbeans.org/dtds/sessionsettings-1_0.dtd">http://www.netbeans.org/dtds/sessionsettings-1_0.dtd</A>&quot;&gt;
-&lt;settings version=&quot;1.0&quot;&gt;
-    &lt;module name=&quot;de.berlios.jfindmyfiles.jfindmyfilesgui&quot; spec=&quot;1.0&quot;/&gt;
-    &lt;instanceof class=&quot;org.openide.windows.TopComponent&quot;/&gt;
-    &lt;instanceof class=&quot;de.berlios.jfindmyfiles.jfindmyfilesgui.FilePropertiesTopComponent&quot;/&gt;
-    &lt;instance class=&quot;de.berlios.jfindmyfiles.jfindmyfilesgui.FilePropertiesTopComponent&quot; method=&quot;getDefault&quot;/&gt;
-&lt;/settings&gt;

Deleted: trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/FilePropertiesTopComponentWstcref.xml
===================================================================
--- trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/FilePropertiesTopComponentWstcref.xml	2008-07-10 20:18:11 UTC (rev 196)
+++ trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/FilePropertiesTopComponentWstcref.xml	2008-07-11 21:00:25 UTC (rev 197)
@@ -1,11 +0,0 @@
-&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
-&lt;!--
-To change this template, choose Tools | Templates
-and open the template in the editor.
---&gt;
-&lt;!DOCTYPE tc-ref PUBLIC &quot;-//NetBeans//DTD Top Component in Mode Properties 2.0//EN&quot; &quot;<A HREF="http://www.netbeans.org/dtds/tc-ref2_0.dtd">http://www.netbeans.org/dtds/tc-ref2_0.dtd</A>&quot;&gt;
-&lt;tc-ref version=&quot;2.0&quot; &gt;
-    &lt;module name=&quot;de.berlios.jfindmyfiles.jfindmyfilesgui&quot; spec=&quot;1.0&quot;/&gt;
-    &lt;tc-id id=&quot;FilePropertiesTopComponent&quot;/&gt;
-    &lt;state opened=&quot;false&quot;/&gt;
-&lt;/tc-ref&gt;

Modified: trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/Installer.java
===================================================================
--- trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/Installer.java	2008-07-10 20:18:11 UTC (rev 196)
+++ trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/Installer.java	2008-07-11 21:00:25 UTC (rev 197)
@@ -30,7 +30,7 @@
  * often not needed at all.
  */
 public class Installer extends ModuleInstall {
-
+    
     @Override
     public boolean closing() {
         if (NbPreferences.forModule(MiscPanel.class).getBoolean(&quot;confirmexit&quot;, true)) {

Modified: trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/LinuxPanel.form
===================================================================
--- trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/LinuxPanel.form	2008-07-10 20:18:11 UTC (rev 196)
+++ trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/LinuxPanel.form	2008-07-11 21:00:25 UTC (rev 197)
@@ -18,14 +18,14 @@
           &lt;Group type=&quot;102&quot; attributes=&quot;0&quot;&gt;
               &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
               &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-                  &lt;Component id=&quot;jSeparator1&quot; alignment=&quot;0&quot; pref=&quot;468&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;Component id=&quot;jSeparator1&quot; alignment=&quot;0&quot; pref=&quot;475&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
                   &lt;Component id=&quot;jchkScanMedia&quot; alignment=&quot;0&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                   &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
                       &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
                           &lt;Group type=&quot;102&quot; attributes=&quot;0&quot;&gt;
                               &lt;Component id=&quot;jlblMountFolder&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                               &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                              &lt;Component id=&quot;jtfMountFolder&quot; pref=&quot;302&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                              &lt;Component id=&quot;jtfMountFolder&quot; pref=&quot;329&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
                           &lt;/Group&gt;
                           &lt;Component id=&quot;jscpFolders&quot; pref=&quot;398&quot; max=&quot;32767&quot; attributes=&quot;2&quot;/&gt;
                       &lt;/Group&gt;
@@ -36,6 +36,7 @@
                           &lt;Component id=&quot;jtbnBrowse&quot; linkSize=&quot;1&quot; alignment=&quot;1&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                       &lt;/Group&gt;
                   &lt;/Group&gt;
+                  &lt;Component id=&quot;jLabel1&quot; alignment=&quot;0&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
               &lt;/Group&gt;
               &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
           &lt;/Group&gt;
@@ -56,7 +57,7 @@
                           &lt;Component id=&quot;jtfMountFolder&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                       &lt;/Group&gt;
                       &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                      &lt;Component id=&quot;jscpFolders&quot; pref=&quot;208&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Component id=&quot;jscpFolders&quot; pref=&quot;165&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
                   &lt;/Group&gt;
                   &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
                       &lt;Component id=&quot;jtbnBrowse&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
@@ -67,6 +68,8 @@
                   &lt;/Group&gt;
               &lt;/Group&gt;
               &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+              &lt;Component id=&quot;jLabel1&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+              &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
           &lt;/Group&gt;
       &lt;/Group&gt;
     &lt;/DimensionLayout&gt;
@@ -141,5 +144,15 @@
     &lt;/Component&gt;
     &lt;Component class=&quot;javax.swing.JSeparator&quot; name=&quot;jSeparator1&quot;&gt;
     &lt;/Component&gt;
+    &lt;Component class=&quot;javax.swing.JLabel&quot; name=&quot;jLabel1&quot;&gt;
+      &lt;Properties&gt;
+        &lt;Property name=&quot;icon&quot; type=&quot;javax.swing.Icon&quot; editor=&quot;org.netbeans.modules.form.editors2.IconEditor&quot;&gt;
+          &lt;Image iconType=&quot;3&quot; name=&quot;/de/berlios/jfindmyfiles/jfindmyfilesgui/resources/images/x16/dialog-warning.png&quot;/&gt;
+        &lt;/Property&gt;
+        &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
+          &lt;ResourceString bundle=&quot;de/berlios/jfindmyfiles/jfindmyfilesgui/Bundle.properties&quot; key=&quot;LinuxPanel.jLabel1.text&quot; replaceFormat=&quot;org.openide.util.NbBundle.getMessage({sourceFileName}.class, &quot;{key}&quot;)&quot;/&gt;
+        &lt;/Property&gt;
+      &lt;/Properties&gt;
+    &lt;/Component&gt;
   &lt;/SubComponents&gt;
 &lt;/Form&gt;

Modified: trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/LinuxPanel.java
===================================================================
--- trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/LinuxPanel.java	2008-07-10 20:18:11 UTC (rev 196)
+++ trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/LinuxPanel.java	2008-07-11 21:00:25 UTC (rev 197)
@@ -41,6 +41,7 @@
         jbtnRemove = new javax.swing.JButton();
         jchkScanMedia = new javax.swing.JCheckBox();
         jSeparator1 = new javax.swing.JSeparator();
+        jLabel1 = new javax.swing.JLabel();
 
         jlstFolders.setModel(model);
         jscpFolders.setViewportView(jlstFolders);
@@ -72,6 +73,9 @@
 
         org.openide.awt.Mnemonics.setLocalizedText(jchkScanMedia, org.openide.util.NbBundle.getMessage(LinuxPanel.class, &quot;LinuxPanel.jchkScanMedia.text&quot;)); // NOI18N
 
+        jLabel1.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/de/berlios/jfindmyfiles/jfindmyfilesgui/resources/images/x16/dialog-warning.png&quot;))); // NOI18N
+        org.openide.awt.Mnemonics.setLocalizedText(jLabel1, org.openide.util.NbBundle.getMessage(LinuxPanel.class, &quot;LinuxPanel.jLabel1.text&quot;)); // NOI18N
+
         javax.swing.GroupLayout layout = new javax.swing.GroupLayout(this);
         this.setLayout(layout);
         layout.setHorizontalGroup(
@@ -79,20 +83,21 @@
             .addGroup(layout.createSequentialGroup()
                 .addContainerGap()
                 .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
-                    .addComponent(jSeparator1, javax.swing.GroupLayout.DEFAULT_SIZE, 468, Short.MAX_VALUE)
+                    .addComponent(jSeparator1, javax.swing.GroupLayout.DEFAULT_SIZE, 475, Short.MAX_VALUE)
                     .addComponent(jchkScanMedia)
                     .addGroup(layout.createSequentialGroup()
                         .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                             .addGroup(layout.createSequentialGroup()
                                 .addComponent(jlblMountFolder)
                                 .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
-                                .addComponent(jtfMountFolder, javax.swing.GroupLayout.DEFAULT_SIZE, 302, Short.MAX_VALUE))
+                                .addComponent(jtfMountFolder, javax.swing.GroupLayout.DEFAULT_SIZE, 329, Short.MAX_VALUE))
                             .addComponent(jscpFolders, javax.swing.GroupLayout.DEFAULT_SIZE, 398, Short.MAX_VALUE))
                         .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                         .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                             .addComponent(jbtnRemove, javax.swing.GroupLayout.Alignment.TRAILING)
                             .addComponent(jbtnAdd, javax.swing.GroupLayout.Alignment.TRAILING)
-                            .addComponent(jtbnBrowse, javax.swing.GroupLayout.Alignment.TRAILING))))
+                            .addComponent(jtbnBrowse, javax.swing.GroupLayout.Alignment.TRAILING)))
+                    .addComponent(jLabel1))
                 .addContainerGap())
         );
 
@@ -112,13 +117,15 @@
                             .addComponent(jlblMountFolder)
                             .addComponent(jtfMountFolder, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                         .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
-                        .addComponent(jscpFolders, javax.swing.GroupLayout.DEFAULT_SIZE, 208, Short.MAX_VALUE))
+                        .addComponent(jscpFolders, javax.swing.GroupLayout.DEFAULT_SIZE, 165, Short.MAX_VALUE))
                     .addGroup(layout.createSequentialGroup()
                         .addComponent(jtbnBrowse)
                         .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                         .addComponent(jbtnAdd)
                         .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                         .addComponent(jbtnRemove)))
+                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
+                .addComponent(jLabel1)
                 .addContainerGap())
         );
     }// &lt;/editor-fold&gt;//GEN-END:initComponents
@@ -164,6 +171,7 @@
     }
 
     // Variables declaration - do not modify//GEN-BEGIN:variables
+    private javax.swing.JLabel jLabel1;
     private javax.swing.JSeparator jSeparator1;
     private javax.swing.JButton jbtnAdd;
     private javax.swing.JButton jbtnRemove;

Modified: trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/ManageUsersTopComponent.form
===================================================================
--- trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/ManageUsersTopComponent.form	2008-07-10 20:18:11 UTC (rev 196)
+++ trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/ManageUsersTopComponent.form	2008-07-11 21:00:25 UTC (rev 197)
@@ -23,8 +23,8 @@
       &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
           &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
               &lt;Component id=&quot;jToolBar1&quot; min=&quot;-2&quot; pref=&quot;25&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-              &lt;EmptySpace max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
-              &lt;Component id=&quot;jscpUsers&quot; min=&quot;-2&quot; pref=&quot;275&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+              &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+              &lt;Component id=&quot;jscpUsers&quot; pref=&quot;275&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
           &lt;/Group&gt;
       &lt;/Group&gt;
     &lt;/DimensionLayout&gt;

Modified: trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/ManageUsersTopComponent.java
===================================================================
--- trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/ManageUsersTopComponent.java	2008-07-10 20:18:11 UTC (rev 196)
+++ trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/ManageUsersTopComponent.java	2008-07-11 21:00:25 UTC (rev 197)
@@ -24,8 +24,6 @@
 
     private static ManageUsersTopComponent instance;
     private CatalogEngine eng;
-    /** path to the icon used by the component and its open action */
-//    static final String ICON_PATH = &quot;SET/PATH/TO/ICON/HERE&quot;;
     private static final String PREFERRED_ID = &quot;ManageUsersTopComponent&quot;;
 
     private ManageUsersTopComponent() {
@@ -33,7 +31,6 @@
         initComponents();
         setName(NbBundle.getMessage(ManageUsersTopComponent.class, &quot;CTL_ManageUsersTopComponent&quot;));
         setToolTipText(NbBundle.getMessage(ManageUsersTopComponent.class, &quot;HINT_ManageUsersTopComponent&quot;));
-//        setIcon(Utilities.loadImage(ICON_PATH, true));
     }
 
     /** This method is called from within the constructor to
@@ -81,8 +78,8 @@
             layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
             .addGroup(layout.createSequentialGroup()
                 .addComponent(jToolBar1, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)
-                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
-                .addComponent(jscpUsers, javax.swing.GroupLayout.PREFERRED_SIZE, 275, javax.swing.GroupLayout.PREFERRED_SIZE))
+                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
+                .addComponent(jscpUsers, javax.swing.GroupLayout.DEFAULT_SIZE, 275, Short.MAX_VALUE))
         );
     }// &lt;/editor-fold&gt;//GEN-END:initComponents
     // Variables declaration - do not modify//GEN-BEGIN:variables
@@ -128,16 +125,6 @@
         return TopComponent.PERSISTENCE_ALWAYS;
     }
 
-    @Override
-    public void componentOpened() {
-        // TODO add custom code on component opening
-    }
-
-    @Override
-    public void componentClosed() {
-        // TODO add custom code on component closing
-    }
-
     /** replaces this in object stream */
     @Override
     public Object writeReplace() {
@@ -161,7 +148,7 @@
     private class UserTableModel extends AbstractTableModel {
 
         private List&lt;User&gt; users;
-        
+
         @SuppressWarnings(&quot;unchecked&quot;)
         public UserTableModel() {
             users = new LinkedList&lt;User&gt;();
@@ -176,37 +163,48 @@
         }
 
         public int getColumnCount() {
-            return 3;
+            return 2;
         }
 
         public Object getValueAt(int rowIndex, int columnIndex) {
             switch (columnIndex) {
                 case 0:
-                    return users.get(rowIndex).getId();
-                case 1:
                     return users.get(rowIndex).getFirstname();
-                case 2:
+                case 1:
                     return users.get(rowIndex).getSurname();
+                default:
+                    return null;
             }
-            return null;
         }
 
         @Override
         public Class getColumnClass(int columnIndex) {
             switch (columnIndex) {
                 case 0:
-                    return Long.class;
                 case 1:
                     return String.class;
-                case 2:
-                    return String.class;
+                default:
+                    return Object.class;
             }
-            return Object.class;
         }
 
         @Override
         public boolean isCellEditable(int rowIndex, int columnIndex) {
-            return columnIndex == 0;
+            return true;
         }
+        
+        @Override
+        public void setValueAt(Object aValue, int rowIndex, int columnIndex) {
+            switch (columnIndex) {
+                case 0:
+                    users.get(rowIndex).setFirstname(aValue.toString());
+                    fireTableCellUpdated(rowIndex, columnIndex);
+                    break;
+                case 1:
+                    users.get(rowIndex).setSurname(aValue.toString());
+                    fireTableCellUpdated(rowIndex, columnIndex);
+                    break;
+            }
+        }
     }
 }

Modified: trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/PluginsPanel.form
===================================================================
--- trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/PluginsPanel.form	2008-07-10 20:18:11 UTC (rev 196)
+++ trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/PluginsPanel.form	2008-07-11 21:00:25 UTC (rev 197)
@@ -16,19 +16,22 @@
     &lt;DimensionLayout dim=&quot;0&quot;&gt;
       &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
           &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-              &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+              &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
               &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-                  &lt;Component id=&quot;jscpPluginList&quot; alignment=&quot;0&quot; min=&quot;-2&quot; pref=&quot;408&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                      &lt;Component id=&quot;jscpPluginList&quot; pref=&quot;408&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;EmptySpace min=&quot;5&quot; pref=&quot;5&quot; max=&quot;5&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;/Group&gt;
                   &lt;Component id=&quot;jSeparator1&quot; alignment=&quot;0&quot; pref=&quot;413&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
                   &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
                       &lt;Component id=&quot;jlblPluginFolder&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                       &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                      &lt;Component id=&quot;jtfPluginFolder&quot; pref=&quot;293&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Component id=&quot;jtfPluginFolder&quot; pref=&quot;271&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
                       &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                       &lt;Component id=&quot;jbtnBrowse&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                   &lt;/Group&gt;
               &lt;/Group&gt;
-              &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+              &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
           &lt;/Group&gt;
       &lt;/Group&gt;
     &lt;/DimensionLayout&gt;
@@ -87,7 +90,7 @@
         &lt;Component class=&quot;javax.swing.JTable&quot; name=&quot;jtbPluginList&quot;&gt;
           &lt;Properties&gt;
             &lt;Property name=&quot;model&quot; type=&quot;javax.swing.table.TableModel&quot; editor=&quot;org.netbeans.modules.form.RADConnectionPropertyEditor&quot;&gt;
-              &lt;Connection code=&quot;new PluginsPanel.PluginModel()&quot; type=&quot;code&quot;/&gt;
+              &lt;Connection code=&quot;model = new PluginsPanel.PluginModel()&quot; type=&quot;code&quot;/&gt;
             &lt;/Property&gt;
             &lt;Property name=&quot;rowSelectionAllowed&quot; type=&quot;boolean&quot; value=&quot;false&quot;/&gt;
           &lt;/Properties&gt;

Modified: trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/PluginsPanel.java
===================================================================
--- trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/PluginsPanel.java	2008-07-10 20:18:11 UTC (rev 196)
+++ trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/PluginsPanel.java	2008-07-11 21:00:25 UTC (rev 197)
@@ -8,6 +8,7 @@
 import de.berlios.jfindmyfiles.readingfiles.pluginapi.Reader;
 import java.io.File;
 import java.util.List;
+import javax.swing.JFileChooser;
 import javax.swing.event.DocumentEvent;
 import javax.swing.event.DocumentListener;
 import javax.swing.table.AbstractTableModel;
@@ -19,6 +20,7 @@
     private final PluginsPanelController controller;
     private PluginCache cache;
     private List&lt;Reader&gt; values;
+    private PluginModel model;
 
     PluginsPanel(final PluginsPanelController controller) {
         this.controller = controller;
@@ -66,7 +68,7 @@
             }
         });
 
-        jtbPluginList.setModel(new PluginsPanel.PluginModel());
+        jtbPluginList.setModel(model = new PluginsPanel.PluginModel());
         jtbPluginList.setRowSelectionAllowed(false);
         jscpPluginList.setViewportView(jtbPluginList);
 
@@ -77,12 +79,14 @@
             .addGroup(layout.createSequentialGroup()
                 .addContainerGap()
                 .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
-                    .addComponent(jscpPluginList, javax.swing.GroupLayout.PREFERRED_SIZE, 408, javax.swing.GroupLayout.PREFERRED_SIZE)
+                    .addGroup(layout.createSequentialGroup()
+                        .addComponent(jscpPluginList, javax.swing.GroupLayout.DEFAULT_SIZE, 408, Short.MAX_VALUE)
+                        .addGap(5, 5, 5))
                     .addComponent(jSeparator1, javax.swing.GroupLayout.DEFAULT_SIZE, 413, Short.MAX_VALUE)
                     .addGroup(layout.createSequentialGroup()
                         .addComponent(jlblPluginFolder)
                         .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
-                        .addComponent(jtfPluginFolder, javax.swing.GroupLayout.DEFAULT_SIZE, 293, Short.MAX_VALUE)
+                        .addComponent(jtfPluginFolder, javax.swing.GroupLayout.DEFAULT_SIZE, 271, Short.MAX_VALUE)
                         .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                         .addComponent(jbtnBrowse)))
                 .addContainerGap())
@@ -104,17 +108,29 @@
     }// &lt;/editor-fold&gt;//GEN-END:initComponents
 
 private void jbtnBrowseActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jbtnBrowseActionPerformed
-// TODO add your handling code here:
+    JFileChooser jfc = new JFileChooser(jtfPluginFolder.getText().trim());
+    jfc.setFileSelectionMode(JFileChooser.DIRECTORIES_ONLY);
+    jfc.setMultiSelectionEnabled(false);
+    if (jfc.showOpenDialog(this) == JFileChooser.APPROVE_OPTION) {
+        jtfPluginFolder.setText(jfc.getSelectedFile().getAbsolutePath());
+    }
 }//GEN-LAST:event_jbtnBrowseActionPerformed
 
     void load() {
         jtfPluginFolder.setText(NbPreferences.forModule(PluginCache.class).get(&quot;PluginFolder&quot;, 
-                System.getProperty(&quot;user.home&quot;) + File.separator + &quot;jfmf&quot; + File.separator +
-                &quot;plugins&quot;)); // NOI18N
+                System.getProperty(&quot;user.home&quot;) + File.separator + &quot;.jfmfuserfiles&quot; + File.separator +
+                &quot;Plugins&quot;)); // NOI18N
+        
+        Reader r;
+        for(int z = values.size(); z-- &gt; 0;) {
+            r =  values.get(z);
+            r.setActive(NbPreferences.forModule(PluginCache.class).getBoolean(r.pluginFor(), false));
+        }
+        model.fireTableDataChanged();
     }
 
     void store() {
-        NbPreferences.forModule(PluginCache.class).put(&quot;PluginFolder&quot;, jtfPluginFolder.getText().trim()); // NOI18N
+        NbPreferences.forModule(PluginCache.class).put(&quot;PluginFolder&quot;, jtfPluginFolder.getText().trim()); // NOI18N       
         Reader r;
         for(int z = values.size(); z-- &gt; 0;) {
             r =  values.get(z);
@@ -123,7 +139,7 @@
     }
 
     boolean valid() {
-        return true;
+        return !jtfPluginFolder.getText().trim().isEmpty();
     }
 
     // Variables declaration - do not modify//GEN-BEGIN:variables
@@ -136,18 +152,14 @@
     // End of variables declaration//GEN-END:variables
 
     private class PluginModel extends AbstractTableModel {
-
-        private int rowCount;
         
         public PluginModel() {
-            super();
-            values = cache.listAll();            
-            rowCount = cache.pluginCount();
+            values = cache.listAll();
         }
         
         @Override
         public int getRowCount() {
-            return rowCount;
+            return values.size();
         }
 
         @Override
@@ -195,7 +207,24 @@
             if(columnIndex == 3) {
                 values.get(rowIndex).setActive((Boolean)value);
                 controller.changed();
+                super.fireTableCellUpdated(rowIndex, columnIndex);
             }
         }
+        
+        @Override
+        public String getColumnName(int column) {
+            switch(column) {//TODO: i18n
+                case 0:
+                    return &quot;Plugin Name&quot;;
+                case 1:
+                    return &quot;File Type&quot;;
+                case 2:
+                    return &quot;Author&quot;;
+                case 3:
+                    return &quot;Active&quot;;
+                default:
+                    return &quot;&quot;;
+            }
+        }
     }
 }

Modified: trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/SearchWindowTopComponent.java
===================================================================
--- trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/SearchWindowTopComponent.java	2008-07-10 20:18:11 UTC (rev 196)
+++ trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/SearchWindowTopComponent.java	2008-07-11 21:00:25 UTC (rev 197)
@@ -282,19 +282,19 @@
     }// &lt;/editor-fold&gt;//GEN-END:initComponents
 
 private void jbtnSearchActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jbtnSearchActionPerformed
+    //NOTE: race condition!
     if (!searching) {
+        searching = true;
         new Thread(new Runnable() {
 
             public void run() {
-                //NOTE: race condition!
-                searching = true;
                 ProgressHandle p = ProgressHandleFactory.createHandle(&quot;searching...&quot;);//TODO: i18n
                 p.start();
                 search();
                 p.finish();
-                searching = false;
             }
         }).start();
+        searching = false;
     }
 }//GEN-LAST:event_jbtnSearchActionPerformed
 

Modified: trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/Bundle.properties
===================================================================
--- trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/Bundle.properties	2008-07-10 20:18:11 UTC (rev 196)
+++ trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/Bundle.properties	2008-07-11 21:00:25 UTC (rev 197)
@@ -120,7 +120,7 @@
 NewDiskDlg.jchkCalculateHash.text=Calculate SHA-1 for files
 ExportDlg.jlblDestination.text=Destination:
 ExportDlg.jtfDestination.text=
-ExportDlg.jbtnBrowse.text=...
+ExportDlg.jbtnBrowse.text=Browse
 AskDescriptionDlg.jlblDescription.text=Media Description:
 AskDescriptionDlg.jbtnCancel.text=Cancel
 AskDescriptionDlg.jbtnOK.text=OK
@@ -153,3 +153,13 @@
 ExportDlg.jlblType.text=Type:
 ExportDlg.jlblVersionValue.text=&lt;not set&gt;
 ExportDlg.jlblTypeValue.text=&lt;not set&gt;
+ImportDlg.jpGeneralDetails.border.title=Import From
+ImportDlg.jpImportTypes.border.title=Type
+ImportDlg.jlblFile.text=File:
+ImportDlg.jtfFile.text=
+ImportDlg.jbtnBrowse.text=Browse
+ImportDlg.jchkImportImage.text=Image thumbnails
+ImportDlg.jchkImportAudio.text=Audio clips
+ImportDlg.jchkImportVideo.text=Video previews
+ImportDlg.jchkImportCustomIcons.text=Custom icons
+ImportDlg.jlblInclude.text=Include:

Modified: trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/ExportDlg.form
===================================================================
--- trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/ExportDlg.form	2008-07-10 20:18:11 UTC (rev 196)
+++ trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/ExportDlg.form	2008-07-11 21:00:25 UTC (rev 197)
@@ -138,7 +138,7 @@
           &lt;/Properties&gt;
           &lt;Constraints&gt;
             &lt;Constraint layoutClass=&quot;org.netbeans.modules.form.compat2.layouts.DesignCardLayout&quot; value=&quot;org.netbeans.modules.form.compat2.layouts.DesignCardLayout$CardConstraintsDescription&quot;&gt;
-              &lt;CardConstraints cardName=&quot;card2&quot;/&gt;
+              &lt;CardConstraints cardName=&quot;FileExport&quot;/&gt;
             &lt;/Constraint&gt;
           &lt;/Constraints&gt;
 
@@ -168,7 +168,7 @@
                           &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
                               &lt;Component id=&quot;jlblDestination&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                               &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                              &lt;Component id=&quot;jtfDestination&quot; pref=&quot;275&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                              &lt;Component id=&quot;jtfDestination&quot; pref=&quot;253&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
                               &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                               &lt;Component id=&quot;jbtnBrowse&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                           &lt;/Group&gt;
@@ -296,7 +296,7 @@
           &lt;/Properties&gt;
           &lt;Constraints&gt;
             &lt;Constraint layoutClass=&quot;org.netbeans.modules.form.compat2.layouts.DesignCardLayout&quot; value=&quot;org.netbeans.modules.form.compat2.layouts.DesignCardLayout$CardConstraintsDescription&quot;&gt;
-              &lt;CardConstraints cardName=&quot;card3&quot;/&gt;
+              &lt;CardConstraints cardName=&quot;TemplateExport&quot;/&gt;
             &lt;/Constraint&gt;
           &lt;/Constraints&gt;
 
@@ -558,7 +558,7 @@
         &lt;Container class=&quot;javax.swing.JPanel&quot; name=&quot;jpProgressBar&quot;&gt;
           &lt;Constraints&gt;
             &lt;Constraint layoutClass=&quot;org.netbeans.modules.form.compat2.layouts.DesignCardLayout&quot; value=&quot;org.netbeans.modules.form.compat2.layouts.DesignCardLayout$CardConstraintsDescription&quot;&gt;
-              &lt;CardConstraints cardName=&quot;card4&quot;/&gt;
+              &lt;CardConstraints cardName=&quot;ProgressBar&quot;/&gt;
             &lt;/Constraint&gt;
           &lt;/Constraints&gt;
 

Modified: trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/ExportDlg.java
===================================================================
--- trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/ExportDlg.java	2008-07-10 20:18:11 UTC (rev 196)
+++ trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/ExportDlg.java	2008-07-11 21:00:25 UTC (rev 197)
@@ -56,7 +56,8 @@
 public class ExportDlg extends javax.swing.JDialog implements ExportListener {
 
     private static final Logger logger = Logger.getLogger(ExportDlg.class.getName());
-    private Integer[] values = new Integer[]{0, 1, 2, 3, 4, 5};
+    //private Integer[] values = new Integer[]{0, 1, 2, 3, 4, 5};
+    private Integer[] values = new Integer[]{0, 1, 2};
     private File selectedFile;
     private int visiblePanel = 0,  previousPanel = 0;
     private boolean openAfterExport;
@@ -263,7 +264,7 @@
                     .addGroup(jpFileExportLayout.createSequentialGroup()
                         .addComponent(jlblDestination)
                         .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
-                        .addComponent(jtfDestination, javax.swing.GroupLayout.DEFAULT_SIZE, 275, Short.MAX_VALUE)
+                        .addComponent(jtfDestination, javax.swing.GroupLayout.DEFAULT_SIZE, 253, Short.MAX_VALUE)
                         .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                         .addComponent(jbtnBrowse)))
                 .addContainerGap())
@@ -295,7 +296,7 @@
                 .addContainerGap(115, Short.MAX_VALUE))
         );
 
-        jpExportOptions.add(jpFileExport, &quot;card2&quot;);
+        jpExportOptions.add(jpFileExport, &quot;FileExport&quot;);
 
         jpTemplateExport.setBorder(javax.swing.BorderFactory.createTitledBorder(org.openide.util.NbBundle.getMessage(ExportDlg.class, &quot;ExportDlg.jpTemplateExport.border.title&quot;))); // NOI18N
 
@@ -444,7 +445,7 @@
                 .addContainerGap(91, Short.MAX_VALUE))
         );
 
-        jpExportOptions.add(jpTemplateExport, &quot;card3&quot;);
+        jpExportOptions.add(jpTemplateExport, &quot;TemplateExport&quot;);
 
         jpbExportProgress.setIndeterminate(true);
         jpbExportProgress.setString(org.openide.util.NbBundle.getMessage(ExportDlg.class, &quot;ExportDlg.jpbExportProgress.string&quot;)); // NOI18N
@@ -467,7 +468,7 @@
                 .addContainerGap(158, Short.MAX_VALUE))
         );
 
-        jpExportOptions.add(jpProgressBar, &quot;card4&quot;);
+        jpExportOptions.add(jpProgressBar, &quot;ProgressBar&quot;);
 
         jbtnCancel.setText(org.openide.util.NbBundle.getMessage(ExportDlg.class, &quot;ExportDlg.jbtnCancel.text&quot;)); // NOI18N
         jbtnCancel.addActionListener(new java.awt.event.ActionListener() {
@@ -701,9 +702,9 @@
             images = new ImageIcon[]{
                         new ImageIcon(Utilities.loadImage(&quot;de/berlios/jfindmyfiles/jfindmyfilesgui/resources/images/x48/export-import-csv.png&quot;)),
                         new ImageIcon(Utilities.loadImage(&quot;de/berlios/jfindmyfiles/jfindmyfilesgui/resources/images/x48/export-import-html.png&quot;)),
-                        new ImageIcon(Utilities.loadImage(&quot;de/berlios/jfindmyfiles/jfindmyfilesgui/resources/images/x48/export-import-ods.png&quot;)),
+                        /*new ImageIcon(Utilities.loadImage(&quot;de/berlios/jfindmyfiles/jfindmyfilesgui/resources/images/x48/export-import-ods.png&quot;)),
                         new ImageIcon(Utilities.loadImage(&quot;de/berlios/jfindmyfiles/jfindmyfilesgui/resources/images/x48/export-import-sql.png&quot;)),
-                        new ImageIcon(Utilities.loadImage(&quot;de/berlios/jfindmyfiles/jfindmyfilesgui/resources/images/x48/export-import-xls.png&quot;)),
+                        new ImageIcon(Utilities.loadImage(&quot;de/berlios/jfindmyfiles/jfindmyfilesgui/resources/images/x48/export-import-xls.png&quot;)),*/
                         new ImageIcon(Utilities.loadImage(&quot;de/berlios/jfindmyfiles/jfindmyfilesgui/resources/images/x48/export-import-xml.png&quot;))
                     };
 

Modified: trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/ImportDlg.form
===================================================================
--- trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/ImportDlg.form	2008-07-10 20:18:11 UTC (rev 196)
+++ trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/ImportDlg.form	2008-07-11 21:00:25 UTC (rev 197)
@@ -89,7 +89,9 @@
       &lt;Properties&gt;
         &lt;Property name=&quot;border&quot; type=&quot;javax.swing.border.Border&quot; editor=&quot;org.netbeans.modules.form.editors2.BorderEditor&quot;&gt;
           &lt;Border info=&quot;org.netbeans.modules.form.compat2.border.TitledBorderInfo&quot;&gt;
-            &lt;TitledBorder/&gt;
+            &lt;TitledBorder title=&quot;Type&quot;&gt;
+              &lt;ResourceString PropertyName=&quot;titleX&quot; bundle=&quot;de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/Bundle.properties&quot; key=&quot;ImportDlg.jpImportTypes.border.title&quot; replaceFormat=&quot;org.openide.util.NbBundle.getMessage({sourceFileName}.class, &quot;{key}&quot;)&quot;/&gt;
+            &lt;/TitledBorder&gt;
           &lt;/Border&gt;
         &lt;/Property&gt;
       &lt;/Properties&gt;
@@ -106,10 +108,9 @@
         &lt;/DimensionLayout&gt;
         &lt;DimensionLayout dim=&quot;1&quot;&gt;
           &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-              &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+              &lt;Group type=&quot;102&quot; alignment=&quot;1&quot; attributes=&quot;0&quot;&gt;
+                  &lt;Component id=&quot;jscImportTypes&quot; pref=&quot;316&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
                   &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                  &lt;Component id=&quot;jscImportTypes&quot; pref=&quot;319&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
-                  &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
               &lt;/Group&gt;
           &lt;/Group&gt;
         &lt;/DimensionLayout&gt;
@@ -128,6 +129,9 @@
                   &lt;StringArray count=&quot;0&quot;/&gt;
                 &lt;/Property&gt;
                 &lt;Property name=&quot;selectionMode&quot; type=&quot;int&quot; value=&quot;0&quot;/&gt;
+                &lt;Property name=&quot;cellRenderer&quot; type=&quot;javax.swing.ListCellRenderer&quot; editor=&quot;org.netbeans.modules.form.RADConnectionPropertyEditor&quot;&gt;
+                  &lt;Connection code=&quot;new Renderer()&quot; type=&quot;code&quot;/&gt;
+                &lt;/Property&gt;
               &lt;/Properties&gt;
               &lt;AuxValues&gt;
                 &lt;AuxValue name=&quot;JavaCodeGenerator_CreateCodeCustom&quot; type=&quot;java.lang.String&quot; value=&quot;new JList(values);&quot;/&gt;
@@ -141,84 +145,203 @@
 
       &lt;Layout class=&quot;org.netbeans.modules.form.compat2.layouts.DesignCardLayout&quot;/&gt;
       &lt;SubComponents&gt;
-        &lt;Container class=&quot;javax.swing.JPanel&quot; name=&quot;jpGeneralDetails&quot;&gt;
+        &lt;Container class=&quot;javax.swing.JPanel&quot; name=&quot;jpProgressBar&quot;&gt;
           &lt;Constraints&gt;
             &lt;Constraint layoutClass=&quot;org.netbeans.modules.form.compat2.layouts.DesignCardLayout&quot; value=&quot;org.netbeans.modules.form.compat2.layouts.DesignCardLayout$CardConstraintsDescription&quot;&gt;
-              &lt;CardConstraints cardName=&quot;card4&quot;/&gt;
+              &lt;CardConstraints cardName=&quot;ProgessBar&quot;/&gt;
             &lt;/Constraint&gt;
           &lt;/Constraints&gt;
 
           &lt;Layout&gt;
             &lt;DimensionLayout dim=&quot;0&quot;&gt;
               &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-                  &lt;EmptySpace min=&quot;0&quot; pref=&quot;394&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;Group type=&quot;102&quot; alignment=&quot;1&quot; attributes=&quot;0&quot;&gt;
+                      &lt;EmptySpace pref=&quot;41&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Component id=&quot;jpbExporting&quot; min=&quot;-2&quot; pref=&quot;304&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;EmptySpace min=&quot;-2&quot; pref=&quot;49&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;/Group&gt;
               &lt;/Group&gt;
             &lt;/DimensionLayout&gt;
             &lt;DimensionLayout dim=&quot;1&quot;&gt;
               &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-                  &lt;EmptySpace min=&quot;0&quot; pref=&quot;357&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                      &lt;EmptySpace min=&quot;-2&quot; pref=&quot;155&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Component id=&quot;jpbExporting&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;EmptySpace pref=&quot;183&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;/Group&gt;
               &lt;/Group&gt;
             &lt;/DimensionLayout&gt;
           &lt;/Layout&gt;
+          &lt;SubComponents&gt;
+            &lt;Component class=&quot;javax.swing.JProgressBar&quot; name=&quot;jpbExporting&quot;&gt;
+              &lt;Properties&gt;
+                &lt;Property name=&quot;indeterminate&quot; type=&quot;boolean&quot; value=&quot;true&quot;/&gt;
+                &lt;Property name=&quot;string&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
+                  &lt;ResourceString bundle=&quot;de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/Bundle.properties&quot; key=&quot;ImportDlg.jpbExporting.string&quot; replaceFormat=&quot;org.openide.util.NbBundle.getMessage({sourceFileName}.class, &quot;{key}&quot;)&quot;/&gt;
+                &lt;/Property&gt;
+                &lt;Property name=&quot;stringPainted&quot; type=&quot;boolean&quot; value=&quot;true&quot;/&gt;
+              &lt;/Properties&gt;
+            &lt;/Component&gt;
+          &lt;/SubComponents&gt;
         &lt;/Container&gt;
-        &lt;Container class=&quot;javax.swing.JPanel&quot; name=&quot;jpDatabaseDetails&quot;&gt;
+        &lt;Container class=&quot;javax.swing.JPanel&quot; name=&quot;jpGeneralDetails&quot;&gt;
+          &lt;Properties&gt;
+            &lt;Property name=&quot;border&quot; type=&quot;javax.swing.border.Border&quot; editor=&quot;org.netbeans.modules.form.editors2.BorderEditor&quot;&gt;
+              &lt;Border info=&quot;org.netbeans.modules.form.compat2.border.TitledBorderInfo&quot;&gt;
+                &lt;TitledBorder title=&quot;Import From&quot;&gt;
+                  &lt;ResourceString PropertyName=&quot;titleX&quot; bundle=&quot;de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/Bundle.properties&quot; key=&quot;ImportDlg.jpGeneralDetails.border.title&quot; replaceFormat=&quot;org.openide.util.NbBundle.getMessage({sourceFileName}.class, &quot;{key}&quot;)&quot;/&gt;
+                &lt;/TitledBorder&gt;
+              &lt;/Border&gt;
+            &lt;/Property&gt;
+          &lt;/Properties&gt;
           &lt;Constraints&gt;
             &lt;Constraint layoutClass=&quot;org.netbeans.modules.form.compat2.layouts.DesignCardLayout&quot; value=&quot;org.netbeans.modules.form.compat2.layouts.DesignCardLayout$CardConstraintsDescription&quot;&gt;
-              &lt;CardConstraints cardName=&quot;card3&quot;/&gt;
+              &lt;CardConstraints cardName=&quot;GeneralDetails&quot;/&gt;
             &lt;/Constraint&gt;
           &lt;/Constraints&gt;
 
           &lt;Layout&gt;
             &lt;DimensionLayout dim=&quot;0&quot;&gt;
               &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-                  &lt;EmptySpace min=&quot;0&quot; pref=&quot;394&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                      &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                          &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                              &lt;EmptySpace min=&quot;10&quot; pref=&quot;10&quot; max=&quot;10&quot; attributes=&quot;0&quot;/&gt;
+                              &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                                  &lt;Component id=&quot;jchkImportCustomIcons&quot; alignment=&quot;0&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                                  &lt;Component id=&quot;jchkImportVideo&quot; alignment=&quot;0&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                                  &lt;Component id=&quot;jchkImportImage&quot; alignment=&quot;0&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                                  &lt;Component id=&quot;jchkImportAudio&quot; alignment=&quot;0&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                              &lt;/Group&gt;
+                          &lt;/Group&gt;
+                          &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                              &lt;Component id=&quot;jlblFile&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                              &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                              &lt;Component id=&quot;jtfFile&quot; pref=&quot;261&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                              &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                              &lt;Component id=&quot;jbtnBrowse&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;/Group&gt;
+                          &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                              &lt;Component id=&quot;jlblInclude&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                              &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                              &lt;Component id=&quot;jSeparator1&quot; pref=&quot;315&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;/Group&gt;
+                      &lt;/Group&gt;
+                      &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;/Group&gt;
               &lt;/Group&gt;
             &lt;/DimensionLayout&gt;
             &lt;DimensionLayout dim=&quot;1&quot;&gt;
               &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-                  &lt;EmptySpace min=&quot;0&quot; pref=&quot;357&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                      &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Group type=&quot;103&quot; groupAlignment=&quot;3&quot; attributes=&quot;0&quot;&gt;
+                          &lt;Component id=&quot;jlblFile&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;Component id=&quot;jbtnBrowse&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;Component id=&quot;jtfFile&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;/Group&gt;
+                      &lt;EmptySpace type=&quot;unrelated&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                          &lt;Component id=&quot;jlblInclude&quot; alignment=&quot;0&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                              &lt;EmptySpace pref=&quot;4&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                              &lt;Component id=&quot;jSeparator1&quot; min=&quot;-2&quot; pref=&quot;10&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;/Group&gt;
+                      &lt;/Group&gt;
+                      &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Component id=&quot;jchkImportAudio&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Component id=&quot;jchkImportImage&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Component id=&quot;jchkImportVideo&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Component id=&quot;jchkImportCustomIcons&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;EmptySpace pref=&quot;174&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;/Group&gt;
               &lt;/Group&gt;
             &lt;/DimensionLayout&gt;
           &lt;/Layout&gt;
+          &lt;SubComponents&gt;
+            &lt;Component class=&quot;javax.swing.JLabel&quot; name=&quot;jlblFile&quot;&gt;
+              &lt;Properties&gt;
+                &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
+                  &lt;ResourceString bundle=&quot;de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/Bundle.properties&quot; key=&quot;ImportDlg.jlblFile.text&quot; replaceFormat=&quot;org.openide.util.NbBundle.getMessage({sourceFileName}.class, &quot;{key}&quot;)&quot;/&gt;
+                &lt;/Property&gt;
+              &lt;/Properties&gt;
+            &lt;/Component&gt;
+            &lt;Component class=&quot;javax.swing.JTextField&quot; name=&quot;jtfFile&quot;&gt;
+              &lt;Properties&gt;
+                &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
+                  &lt;ResourceString bundle=&quot;de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/Bundle.properties&quot; key=&quot;ImportDlg.jtfFile.text&quot; replaceFormat=&quot;org.openide.util.NbBundle.getMessage({sourceFileName}.class, &quot;{key}&quot;)&quot;/&gt;
+                &lt;/Property&gt;
+              &lt;/Properties&gt;
+            &lt;/Component&gt;
+            &lt;Component class=&quot;javax.swing.JButton&quot; name=&quot;jbtnBrowse&quot;&gt;
+              &lt;Properties&gt;
+                &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
+                  &lt;ResourceString bundle=&quot;de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/Bundle.properties&quot; key=&quot;ImportDlg.jbtnBrowse.text&quot; replaceFormat=&quot;org.openide.util.NbBundle.getMessage({sourceFileName}.class, &quot;{key}&quot;)&quot;/&gt;
+                &lt;/Property&gt;
+              &lt;/Properties&gt;
+            &lt;/Component&gt;
+            &lt;Component class=&quot;javax.swing.JSeparator&quot; name=&quot;jSeparator1&quot;&gt;
+            &lt;/Component&gt;
+            &lt;Component class=&quot;javax.swing.JCheckBox&quot; name=&quot;jchkImportAudio&quot;&gt;
+              &lt;Properties&gt;
+                &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
+                  &lt;ResourceString bundle=&quot;de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/Bundle.properties&quot; key=&quot;ImportDlg.jchkImportAudio.text&quot; replaceFormat=&quot;org.openide.util.NbBundle.getMessage({sourceFileName}.class, &quot;{key}&quot;)&quot;/&gt;
+                &lt;/Property&gt;
+              &lt;/Properties&gt;
+            &lt;/Component&gt;
+            &lt;Component class=&quot;javax.swing.JCheckBox&quot; name=&quot;jchkImportImage&quot;&gt;
+              &lt;Properties&gt;
+                &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
+                  &lt;ResourceString bundle=&quot;de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/Bundle.properties&quot; key=&quot;ImportDlg.jchkImportImage.text&quot; replaceFormat=&quot;org.openide.util.NbBundle.getMessage({sourceFileName}.class, &quot;{key}&quot;)&quot;/&gt;
+                &lt;/Property&gt;
+              &lt;/Properties&gt;
+            &lt;/Component&gt;
+            &lt;Component class=&quot;javax.swing.JCheckBox&quot; name=&quot;jchkImportVideo&quot;&gt;
+              &lt;Properties&gt;
+                &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
+                  &lt;ResourceString bundle=&quot;de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/Bundle.properties&quot; key=&quot;ImportDlg.jchkImportVideo.text&quot; replaceFormat=&quot;org.openide.util.NbBundle.getMessage({sourceFileName}.class, &quot;{key}&quot;)&quot;/&gt;
+                &lt;/Property&gt;
+              &lt;/Properties&gt;
+            &lt;/Component&gt;
+            &lt;Component class=&quot;javax.swing.JCheckBox&quot; name=&quot;jchkImportCustomIcons&quot;&gt;
+              &lt;Properties&gt;
+                &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
+                  &lt;ResourceString bundle=&quot;de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/Bundle.properties&quot; key=&quot;ImportDlg.jchkImportCustomIcons.text&quot; replaceFormat=&quot;org.openide.util.NbBundle.getMessage({sourceFileName}.class, &quot;{key}&quot;)&quot;/&gt;
+                &lt;/Property&gt;
+              &lt;/Properties&gt;
+            &lt;/Component&gt;
+            &lt;Component class=&quot;javax.swing.JLabel&quot; name=&quot;jlblInclude&quot;&gt;
+              &lt;Properties&gt;
+                &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
+                  &lt;ResourceString bundle=&quot;de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/Bundle.properties&quot; key=&quot;ImportDlg.jlblInclude.text&quot; replaceFormat=&quot;org.openide.util.NbBundle.getMessage({sourceFileName}.class, &quot;{key}&quot;)&quot;/&gt;
+                &lt;/Property&gt;
+              &lt;/Properties&gt;
+            &lt;/Component&gt;
+          &lt;/SubComponents&gt;
         &lt;/Container&gt;
-        &lt;Container class=&quot;javax.swing.JPanel&quot; name=&quot;jpProgressBar&quot;&gt;
+        &lt;Container class=&quot;javax.swing.JPanel&quot; name=&quot;jpDatabaseDetails&quot;&gt;
           &lt;Constraints&gt;
             &lt;Constraint layoutClass=&quot;org.netbeans.modules.form.compat2.layouts.DesignCardLayout&quot; value=&quot;org.netbeans.modules.form.compat2.layouts.DesignCardLayout$CardConstraintsDescription&quot;&gt;
-              &lt;CardConstraints cardName=&quot;card4&quot;/&gt;
+              &lt;CardConstraints cardName=&quot;DatabaseDetails&quot;/&gt;
             &lt;/Constraint&gt;
           &lt;/Constraints&gt;
 
           &lt;Layout&gt;
             &lt;DimensionLayout dim=&quot;0&quot;&gt;
               &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-                  &lt;Group type=&quot;102&quot; alignment=&quot;1&quot; attributes=&quot;0&quot;&gt;
-                      &lt;EmptySpace pref=&quot;41&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
-                      &lt;Component id=&quot;jpbExporting&quot; min=&quot;-2&quot; pref=&quot;304&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                      &lt;EmptySpace min=&quot;-2&quot; pref=&quot;49&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                  &lt;/Group&gt;
+                  &lt;EmptySpace min=&quot;0&quot; pref=&quot;394&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
               &lt;/Group&gt;
             &lt;/DimensionLayout&gt;
             &lt;DimensionLayout dim=&quot;1&quot;&gt;
               &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-                  &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-                      &lt;EmptySpace min=&quot;-2&quot; pref=&quot;155&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                      &lt;Component id=&quot;jpbExporting&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                      &lt;EmptySpace pref=&quot;183&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
-                  &lt;/Group&gt;
+                  &lt;EmptySpace min=&quot;0&quot; pref=&quot;357&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
               &lt;/Group&gt;
             &lt;/DimensionLayout&gt;
           &lt;/Layout&gt;
-          &lt;SubComponents&gt;
-            &lt;Component class=&quot;javax.swing.JProgressBar&quot; name=&quot;jpbExporting&quot;&gt;
-              &lt;Properties&gt;
-                &lt;Property name=&quot;indeterminate&quot; type=&quot;boolean&quot; value=&quot;true&quot;/&gt;
-                &lt;Property name=&quot;string&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
-                  &lt;ResourceString bundle=&quot;de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/Bundle.properties&quot; key=&quot;ImportDlg.jpbExporting.string&quot; replaceFormat=&quot;org.openide.util.NbBundle.getMessage({sourceFileName}.class, &quot;{key}&quot;)&quot;/&gt;
-                &lt;/Property&gt;
-                &lt;Property name=&quot;stringPainted&quot; type=&quot;boolean&quot; value=&quot;true&quot;/&gt;
-              &lt;/Properties&gt;
-            &lt;/Component&gt;
-          &lt;/SubComponents&gt;
         &lt;/Container&gt;
       &lt;/SubComponents&gt;
     &lt;/Container&gt;

Modified: trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/ImportDlg.java
===================================================================
--- trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/ImportDlg.java	2008-07-10 20:18:11 UTC (rev 196)
+++ trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/dialogs/ImportDlg.java	2008-07-11 21:00:25 UTC (rev 197)
@@ -34,9 +34,9 @@
  * @author  knitter
  */
 public class ImportDlg extends javax.swing.JDialog {
-    private Integer[] values = new Integer[]{0, 1, 2, 3, 4, 5};
-    private File selectedFile;
-    private int visiblePanel = 0,  previousPanel = 0;    
+    //private Integer[] values = new Integer[]{0, 1, 2, 3, 4, 5};
+    private Integer[] values = new Integer[]{0};
+    private File selectedFile;   
 
     /** Creates new form ImportDlg */
     public ImportDlg(java.awt.Frame parent, boolean modal) {
@@ -66,10 +66,19 @@
         jscImportTypes = new javax.swing.JScrollPane();
         jlstImportTypes = new JList(values);
         jpImportDetails = new javax.swing.JPanel();
+        jpProgressBar = new javax.swing.JPanel();
+        jpbExporting = new javax.swing.JProgressBar();
         jpGeneralDetails = new javax.swing.JPanel();
+        jlblFile = new javax.swing.JLabel();
+        jtfFile = new javax.swing.JTextField();
+        jbtnBrowse = new javax.swing.JButton();
+        jSeparator1 = new javax.swing.JSeparator();
+        jchkImportAudio = new javax.swing.JCheckBox();
+        jchkImportImage = new javax.swing.JCheckBox();
+        jchkImportVideo = new javax.swing.JCheckBox();
+        jchkImportCustomIcons = new javax.swing.JCheckBox();
+        jlblInclude = new javax.swing.JLabel();
         jpDatabaseDetails = new javax.swing.JPanel();
-        jpProgressBar = new javax.swing.JPanel();
-        jpbExporting = new javax.swing.JProgressBar();
 
         setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);
 
@@ -84,9 +93,10 @@
 
         jbtnImport.setText(org.openide.util.NbBundle.getMessage(ImportDlg.class, &quot;ImportDlg.jbtnImport.text&quot;)); // NOI18N
 
-        jpImportTypes.setBorder(javax.swing.BorderFactory.createTitledBorder(&quot;&quot;));
+        jpImportTypes.setBorder(javax.swing.BorderFactory.createTitledBorder(org.openide.util.NbBundle.getMessage(ImportDlg.class, &quot;ImportDlg.jpImportTypes.border.title&quot;))); // NOI18N
 
         jlstImportTypes.setSelectionMode(javax.swing.ListSelectionModel.SINGLE_SELECTION);
+        jlstImportTypes.setCellRenderer(new Renderer());
         jscImportTypes.setViewportView(jlstImportTypes);
 
         javax.swing.GroupLayout jpImportTypesLayout = new javax.swing.GroupLayout(jpImportTypes);
@@ -100,26 +110,106 @@
         );
         jpImportTypesLayout.setVerticalGroup(
             jpImportTypesLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
-            .addGroup(jpImportTypesLayout.createSequentialGroup()
-                .addContainerGap()
-                .addComponent(jscImportTypes, javax.swing.GroupLayout.DEFAULT_SIZE, 319, Short.MAX_VALUE)
+            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jpImportTypesLayout.createSequentialGroup()
+                .addComponent(jscImportTypes, javax.swing.GroupLayout.DEFAULT_SIZE, 316, Short.MAX_VALUE)
                 .addContainerGap())
         );
 
         jpImportDetails.setLayout(new java.awt.CardLayout());
 
+        jpbExporting.setIndeterminate(true);
+        jpbExporting.setString(org.openide.util.NbBundle.getMessage(ImportDlg.class, &quot;ImportDlg.jpbExporting.string&quot;)); // NOI18N
+        jpbExporting.setStringPainted(true);
+
+        javax.swing.GroupLayout jpProgressBarLayout = new javax.swing.GroupLayout(jpProgressBar);
+        jpProgressBar.setLayout(jpProgressBarLayout);
+        jpProgressBarLayout.setHorizontalGroup(
+            jpProgressBarLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
+            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jpProgressBarLayout.createSequentialGroup()
+                .addContainerGap(41, Short.MAX_VALUE)
+                .addComponent(jpbExporting, javax.swing.GroupLayout.PREFERRED_SIZE, 304, javax.swing.GroupLayout.PREFERRED_SIZE)
+                .addGap(49, 49, 49))
+        );
+        jpProgressBarLayout.setVerticalGroup(
+            jpProgressBarLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
+            .addGroup(jpProgressBarLayout.createSequentialGroup()
+                .addGap(155, 155, 155)
+                .addComponent(jpbExporting, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
+                .addContainerGap(183, Short.MAX_VALUE))
+        );
+
+        jpImportDetails.add(jpProgressBar, &quot;ProgessBar&quot;);
+
+        jpGeneralDetails.setBorder(javax.swing.BorderFactory.createTitledBorder(org.openide.util.NbBundle.getMessage(ImportDlg.class, &quot;ImportDlg.jpGeneralDetails.border.title&quot;))); // NOI18N
+
+        jlblFile.setText(org.openide.util.NbBundle.getMessage(ImportDlg.class, &quot;ImportDlg.jlblFile.text&quot;)); // NOI18N
+
+        jtfFile.setText(org.openide.util.NbBundle.getMessage(ImportDlg.class, &quot;ImportDlg.jtfFile.text&quot;)); // NOI18N
+
+        jbtnBrowse.setText(org.openide.util.NbBundle.getMessage(ImportDlg.class, &quot;ImportDlg.jbtnBrowse.text&quot;)); // NOI18N
+
+        jchkImportAudio.setText(org.openide.util.NbBundle.getMessage(ImportDlg.class, &quot;ImportDlg.jchkImportAudio.text&quot;)); // NOI18N
+
+        jchkImportImage.setText(org.openide.util.NbBundle.getMessage(ImportDlg.class, &quot;ImportDlg.jchkImportImage.text&quot;)); // NOI18N
+
+        jchkImportVideo.setText(org.openide.util.NbBundle.getMessage(ImportDlg.class, &quot;ImportDlg.jchkImportVideo.text&quot;)); // NOI18N
+
+        jchkImportCustomIcons.setText(org.openide.util.NbBundle.getMessage(ImportDlg.class, &quot;ImportDlg.jchkImportCustomIcons.text&quot;)); // NOI18N
+
+        jlblInclude.setText(org.openide.util.NbBundle.getMessage(ImportDlg.class, &quot;ImportDlg.jlblInclude.text&quot;)); // NOI18N
+
         javax.swing.GroupLayout jpGeneralDetailsLayout = new javax.swing.GroupLayout(jpGeneralDetails);
         jpGeneralDetails.setLayout(jpGeneralDetailsLayout);
         jpGeneralDetailsLayout.setHorizontalGroup(
             jpGeneralDetailsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
-            .addGap(0, 394, Short.MAX_VALUE)
+            .addGroup(jpGeneralDetailsLayout.createSequentialGroup()
+                .addContainerGap()
+                .addGroup(jpGeneralDetailsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
+                    .addGroup(jpGeneralDetailsLayout.createSequentialGroup()
+                        .addGap(10, 10, 10)
+                        .addGroup(jpGeneralDetailsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
+                            .addComponent(jchkImportCustomIcons)
+                            .addComponent(jchkImportVideo)
+                            .addComponent(jchkImportImage)
+                            .addComponent(jchkImportAudio)))
+                    .addGroup(jpGeneralDetailsLayout.createSequentialGroup()
+                        .addComponent(jlblFile)
+                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
+                        .addComponent(jtfFile, javax.swing.GroupLayout.DEFAULT_SIZE, 261, Short.MAX_VALUE)
+                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
+                        .addComponent(jbtnBrowse))
+                    .addGroup(jpGeneralDetailsLayout.createSequentialGroup()
+                        .addComponent(jlblInclude)
+                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
+                        .addComponent(jSeparator1, javax.swing.GroupLayout.DEFAULT_SIZE, 315, Short.MAX_VALUE)))
+                .addContainerGap())
         );
         jpGeneralDetailsLayout.setVerticalGroup(
             jpGeneralDetailsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
-            .addGap(0, 357, Short.MAX_VALUE)
+            .addGroup(jpGeneralDetailsLayout.createSequentialGroup()
+                .addContainerGap()
+                .addGroup(jpGeneralDetailsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
+                    .addComponent(jlblFile)
+                    .addComponent(jbtnBrowse)
+                    .addComponent(jtfFile, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
+                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
+                .addGroup(jpGeneralDetailsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
+                    .addComponent(jlblInclude)
+                    .addGroup(jpGeneralDetailsLayout.createSequentialGroup()
+                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 4, javax.swing.GroupLayout.PREFERRED_SIZE)
+                        .addComponent(jSeparator1, javax.swing.GroupLayout.PREFERRED_SIZE, 10, javax.swing.GroupLayout.PREFERRED_SIZE)))
+                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
+                .addComponent(jchkImportAudio)
+                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
+                .addComponent(jchkImportImage)
+                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
+                .addComponent(jchkImportVideo)
+                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
+                .addComponent(jchkImportCustomIcons)
+                .addContainerGap(174, Short.MAX_VALUE))
         );
 
-        jpImportDetails.add(jpGeneralDetails, &quot;card4&quot;);
+        jpImportDetails.add(jpGeneralDetails, &quot;GeneralDetails&quot;);
 
         javax.swing.GroupLayout jpDatabaseDetailsLayout = new javax.swing.GroupLayout(jpDatabaseDetails);
         jpDatabaseDetails.setLayout(jpDatabaseDetailsLayout);
@@ -132,31 +222,8 @@
             .addGap(0, 357, Short.MAX_VALUE)
         );
 
-        jpImportDetails.add(jpDatabaseDetails, &quot;card3&quot;);
+        jpImportDetails.add(jpDatabaseDetails, &quot;DatabaseDetails&quot;);
 
-        jpbExporting.setIndeterminate(true);
-        jpbExporting.setString(org.openide.util.NbBundle.getMessage(ImportDlg.class, &quot;ImportDlg.jpbExporting.string&quot;)); // NOI18N
-        jpbExporting.setStringPainted(true);
-
-        javax.swing.GroupLayout jpProgressBarLayout = new javax.swing.GroupLayout(jpProgressBar);
-        jpProgressBar.setLayout(jpProgressBarLayout);
-        jpProgressBarLayout.setHorizontalGroup(
-            jpProgressBarLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
-            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jpProgressBarLayout.createSequentialGroup()
-                .addContainerGap(41, Short.MAX_VALUE)
-                .addComponent(jpbExporting, javax.swing.GroupLayout.PREFERRED_SIZE, 304, javax.swing.GroupLayout.PREFERRED_SIZE)
-                .addGap(49, 49, 49))
-        );
-        jpProgressBarLayout.setVerticalGroup(
-            jpProgressBarLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
-            .addGroup(jpProgressBarLayout.createSequentialGroup()
-                .addGap(155, 155, 155)
-                .addComponent(jpbExporting, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
-                .addContainerGap(183, Short.MAX_VALUE))
-        );
-
-        jpImportDetails.add(jpProgressBar, &quot;card4&quot;);
-
         javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
         getContentPane().setLayout(layout);
         layout.setHorizontalGroup(
@@ -202,9 +269,17 @@
 }//GEN-LAST:event_jbtnCancelActionPerformed
 
     // Variables declaration - do not modify//GEN-BEGIN:variables
+    private javax.swing.JSeparator jSeparator1;
+    private javax.swing.JButton jbtnBrowse;
     private javax.swing.JButton jbtnCancel;
     private javax.swing.JButton jbtnHelp;
     private javax.swing.JButton jbtnImport;
+    private javax.swing.JCheckBox jchkImportAudio;
+    private javax.swing.JCheckBox jchkImportCustomIcons;
+    private javax.swing.JCheckBox jchkImportImage;
+    private javax.swing.JCheckBox jchkImportVideo;
+    private javax.swing.JLabel jlblFile;
+    private javax.swing.JLabel jlblInclude;
     private javax.swing.JList jlstImportTypes;
     private javax.swing.JPanel jpDatabaseDetails;
     private javax.swing.JPanel jpGeneralDetails;
@@ -213,6 +288,7 @@
     private javax.swing.JPanel jpProgressBar;
     private javax.swing.JProgressBar jpbExporting;
     private javax.swing.JScrollPane jscImportTypes;
+    private javax.swing.JTextField jtfFile;
     // End of variables declaration//GEN-END:variables
     /**
      * Renderer class for showing icons on the list of existing export options
@@ -223,11 +299,11 @@
 
         public Renderer() {
             images = new ImageIcon[]{
-                        new ImageIcon(Utilities.loadImage(&quot;de/berlios/jfindmyfiles/jfindmyfilesgui/resources/images/x48/export-import-csv.png&quot;)),
+                        /*new ImageIcon(Utilities.loadImage(&quot;de/berlios/jfindmyfiles/jfindmyfilesgui/resources/images/x48/export-import-csv.png&quot;)),
                         new ImageIcon(Utilities.loadImage(&quot;de/berlios/jfindmyfiles/jfindmyfilesgui/resources/images/x48/export-import-html.png&quot;)),
                         new ImageIcon(Utilities.loadImage(&quot;de/berlios/jfindmyfiles/jfindmyfilesgui/resources/images/x48/export-import-ods.png&quot;)),
                         new ImageIcon(Utilities.loadImage(&quot;de/berlios/jfindmyfiles/jfindmyfilesgui/resources/images/x48/export-import-sql.png&quot;)),
-                        new ImageIcon(Utilities.loadImage(&quot;de/berlios/jfindmyfiles/jfindmyfilesgui/resources/images/x48/export-import-xls.png&quot;)),
+                        new ImageIcon(Utilities.loadImage(&quot;de/berlios/jfindmyfiles/jfindmyfilesgui/resources/images/x48/export-import-xls.png&quot;)),*/
                         new ImageIcon(Utilities.loadImage(&quot;de/berlios/jfindmyfiles/jfindmyfilesgui/resources/images/x48/export-import-xml.png&quot;))
                     };
 

Modified: trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/layer.xml
===================================================================
--- trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/layer.xml	2008-07-10 20:18:11 UTC (rev 196)
+++ trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/layer.xml	2008-07-11 21:00:25 UTC (rev 197)
@@ -46,8 +46,6 @@
         &lt;folder name=&quot;Window&quot;&gt;
             &lt;file name=&quot;de-berlios-jfindmyfiles-jfindmyfilesgui-DetailsViewAction.instance&quot;/&gt;
             &lt;file name=&quot;de-berlios-jfindmyfiles-jfindmyfilesgui-DuplicateResultsAction.instance&quot;/&gt;
-            &lt;file name=&quot;de-berlios-jfindmyfiles-jfindmyfilesgui-FileListAction.instance&quot;/&gt;
-            &lt;file name=&quot;de-berlios-jfindmyfiles-jfindmyfilesgui-FilePropertiesAction.instance&quot;/&gt;
             &lt;file name=&quot;de-berlios-jfindmyfiles-jfindmyfilesgui-LoanAction.instance&quot;/&gt;
             &lt;file name=&quot;de-berlios-jfindmyfiles-jfindmyfilesgui-ManageUsersAction.instance&quot;/&gt;
             &lt;file name=&quot;de-berlios-jfindmyfiles-jfindmyfilesgui-NavigationTreeAction.instance&quot;/&gt;

Copied: trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/nodes/SearchChildren.java (from rev 196, trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/nodes/SearchParentChildren.java)
===================================================================
--- trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/nodes/SearchParentChildren.java	2008-07-10 20:18:11 UTC (rev 196)
+++ trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/nodes/SearchChildren.java	2008-07-11 21:00:25 UTC (rev 197)
@@ -0,0 +1,52 @@
+/*
+ * To change this template, choose Tools | Templates
+ * and open the template in the editor.
+ */
+package de.berlios.jfindmyfiles.jfindmyfilesgui.nodes;
+
+import de.berlios.jfindmyfiles.catalog.CatalogEngine;
+import de.berlios.jfindmyfiles.catalog.entities.FileWrapper;
+import java.util.ArrayList;
+import java.util.LinkedList;
+import java.util.List;
+import org.hibernate.Session;
+import org.openide.nodes.Children;
+import org.openide.nodes.Node;
+import org.openide.util.Lookup;
+
+/**
+ *
+ * @author Knitter
+ */
+public class SearchChildren extends Children.Keys {
+
+    private SearchParentNode parent;
+    private CatalogEngine eng;
+    private List items;
+
+    @SuppressWarnings(&quot;unchecked&quot;)
+    public SearchChildren(SearchParentNode parent) {
+        eng = Lookup.getDefault().lookup(CatalogEngine.class);
+        items = new LinkedList();
+        this.parent = parent;
+        Session s = eng.sessionFactory.getCurrentSession();
+        s.beginTransaction();
+        items.addAll(s.createQuery(&quot;select f from FileWrapper f where sha1 in &quot; +
+                &quot;(select f2.sha1 from FileWrapper f2 group by f2.sha1 having &quot; +
+                &quot;( count(f2.sha1) &gt; 1 AND f2.sha1 &lt;&gt; '' AND f2.sha1 is not null))&quot;).list());
+        //items = s.createSQLQuery(&quot;SELECT * FROM tbl_file WHERE sha1 in(SELECT e.sha1 FROM tbl_file e GROUP BY e.sha1 HAVING ( COUNT(e.sha1) &gt; 1 AND e.sha1 &lt;&gt; '' AND e.sha1 is not null))&quot;).list();
+        s.getTransaction().commit();
+    }
+
+    @Override
+    @SuppressWarnings(&quot;unchecked&quot;)
+    protected void addNotify() {
+        List keys = items;
+        setKeys(keys);
+    }
+
+    @Override
+    protected Node[] createNodes(Object key) {
+        return new Node[]{new SearchResultNode((FileWrapper) key)};
+    }
+}

Deleted: trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/nodes/SearchParentChildren.java
===================================================================
--- trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/nodes/SearchParentChildren.java	2008-07-10 20:18:11 UTC (rev 196)
+++ trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/nodes/SearchParentChildren.java	2008-07-11 21:00:25 UTC (rev 197)
@@ -1,52 +0,0 @@
-/*
- * To change this template, choose Tools | Templates
- * and open the template in the editor.
- */
-package de.berlios.jfindmyfiles.jfindmyfilesgui.nodes;
-
-import de.berlios.jfindmyfiles.catalog.CatalogEngine;
-import de.berlios.jfindmyfiles.catalog.entities.FileWrapper;
-import java.util.ArrayList;
-import java.util.LinkedList;
-import java.util.List;
-import org.hibernate.Session;
-import org.openide.nodes.Children;
-import org.openide.nodes.Node;
-import org.openide.util.Lookup;
-
-/**
- *
- * @author Knitter
- */
-public class SearchParentChildren extends Children.Keys {
-
-    private SearchParentNode parent;
-    private CatalogEngine eng;
-    private List items;
-
-    @SuppressWarnings(&quot;unchecked&quot;)
-    public SearchParentChildren(SearchParentNode parent) {
-        eng = Lookup.getDefault().lookup(CatalogEngine.class);
-        items = new LinkedList();
-        this.parent = parent;
-        Session s = eng.sessionFactory.getCurrentSession();
-        s.beginTransaction();
-        items.addAll(s.createQuery(&quot;select f from FileWrapper f where sha1 in &quot; +
-                &quot;(select f2.sha1 from FileWrapper f2 group by f2.sha1 having &quot; +
-                &quot;( count(f2.sha1) &gt; 1 AND f2.sha1 &lt;&gt; '' AND f2.sha1 is not null))&quot;).list());
-        //items = s.createSQLQuery(&quot;SELECT * FROM tbl_file WHERE sha1 in(SELECT e.sha1 FROM tbl_file e GROUP BY e.sha1 HAVING ( COUNT(e.sha1) &gt; 1 AND e.sha1 &lt;&gt; '' AND e.sha1 is not null))&quot;).list();
-        s.getTransaction().commit();
-    }
-
-    @Override
-    @SuppressWarnings(&quot;unchecked&quot;)
-    protected void addNotify() {
-        List keys = items;
-        setKeys(keys);
-    }
-
-    @Override
-    protected Node[] createNodes(Object key) {
-        return new Node[]{new SearchResultNode((FileWrapper) key)};
-    }
-}

Modified: trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/nodes/SearchParentNode.java
===================================================================
--- trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/nodes/SearchParentNode.java	2008-07-10 20:18:11 UTC (rev 196)
+++ trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/nodes/SearchParentNode.java	2008-07-11 21:00:25 UTC (rev 197)
@@ -6,6 +6,7 @@
 
 import java.awt.Image;
 import org.openide.nodes.AbstractNode;
+import org.openide.nodes.Children;
 import org.openide.util.Utilities;
 import org.openide.util.actions.SystemAction;
 
@@ -15,16 +16,17 @@
  */
 public class SearchParentNode extends AbstractNode {
 
-    private SystemAction[] sysact;
+    //private SystemAction[] sysact;
     
     public SearchParentNode() {
-        super(new SearchParentChildren(null));
+        super(Children.LEAF);
+        //super(new SearchChildren(null));TODO: squash the damn bug
         setName(&quot;Duplicates Found&quot;);//TODO: i18n
     }
 
     @Override
     public Image getIcon(int type) {
-        return Utilities.loadImage(&quot;de/berlios/jfindmyfiles/jfindmyfilesgui/resources/images/x16/icon-search.png&quot;); // NOI18N
+        return Utilities.loadImage(&quot;de/berlios/jfindmyfiles/jfindmyfilesgui/resources/images/x16/icon-search.png&quot;);
     }
 
     @Override

Added: trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/resources/images/x16/dialog-warning.png
===================================================================
(Binary files differ)


Property changes on: trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui/resources/images/x16/dialog-warning.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Modified: trunk/project/JFindMyFiles/ReadingFiles/src/de/berlios/jfindmyfiles/readingfiles/pluginapi/PluginCache.java
===================================================================
--- trunk/project/JFindMyFiles/ReadingFiles/src/de/berlios/jfindmyfiles/readingfiles/pluginapi/PluginCache.java	2008-07-10 20:18:11 UTC (rev 196)
+++ trunk/project/JFindMyFiles/ReadingFiles/src/de/berlios/jfindmyfiles/readingfiles/pluginapi/PluginCache.java	2008-07-11 21:00:25 UTC (rev 197)
@@ -5,6 +5,7 @@
 package de.berlios.jfindmyfiles.readingfiles.pluginapi;
 
 import de.berlios.jfindmyfiles.readingfiles.plugins.AntMovieCatalogerPlugin;
+import de.berlios.jfindmyfiles.readingfiles.plugins.JPGPlugin;
 import de.berlios.jfindmyfiles.readingfiles.utils.ReadingUtils;
 import java.io.File;
 import java.net.MalformedURLException;
@@ -39,8 +40,8 @@
 
     private void loadPlugins() {
         String baseFolder = NbPreferences.forModule(PluginCache.class).get(&quot;PluginFolder&quot;, 
-                System.getProperty(&quot;user.home&quot;) + File.separator + &quot;jfmf&quot; + File.separator +
-                &quot;plugins&quot;);
+                System.getProperty(&quot;user.home&quot;) + File.separator + &quot;.jfmfuserfiles&quot; 
+                + File.separator + &quot;Plugins&quot;);
         
         Class tClass = null;
         Reader reader = null;
@@ -75,11 +76,12 @@
             //Provided plugins
             AntMovieCatalogerPlugin ant = new AntMovieCatalogerPlugin();
             cache.put(ant.pluginFor(), ant);
-            reader.setActive(p.getBoolean(ant.pluginFor(), false));
+            ant.setActive(p.getBoolean(ant.pluginFor(), false));
             
-            tClass = Class.forName(&quot;de.berlios.jfindmyfiles.readingfiles.plugins.JPGPlugin&quot;);
-            reader = (Reader) tClass.newInstance();
-            cache.put(reader.pluginFor(), reader);
+            JPGPlugin jpgp = new JPGPlugin();
+            cache.put(jpgp.pluginFor(), jpgp);
+            jpgp.setActive(p.getBoolean(jpgp.pluginFor(), false));
+            
         } catch (MalformedURLException ex) {
             logger.log(Level.WARNING, &quot;Unable to read plugin cache&quot;, ex);
         } catch (ClassNotFoundException ex) {

Modified: trunk/project/JFindMyFiles/ReadingFiles/src/de/berlios/jfindmyfiles/readingfiles/plugins/AntMovieCatalogerPlugin.java
===================================================================
--- trunk/project/JFindMyFiles/ReadingFiles/src/de/berlios/jfindmyfiles/readingfiles/plugins/AntMovieCatalogerPlugin.java	2008-07-10 20:18:11 UTC (rev 196)
+++ trunk/project/JFindMyFiles/ReadingFiles/src/de/berlios/jfindmyfiles/readingfiles/plugins/AntMovieCatalogerPlugin.java	2008-07-11 21:00:25 UTC (rev 197)
@@ -21,7 +21,7 @@
 
     private static final Logger logger = Logger.getLogger(JPGPlugin.class.getName());
     private static final String NAME = &quot;Ant Movie Cataloger Reader&quot;;
-    private static final String AUTHOR = &quot;JFindMyFiles&quot;;
+    private static final String AUTHOR = &quot;JFindMyFiles Team&quot;;
     private static final String EXT = &quot;amc&quot;;
     private boolean active;
 

Modified: trunk/project/JFindMyFiles/ReadingFiles/src/de/berlios/jfindmyfiles/readingfiles/plugins/JPGPlugin.java
===================================================================
--- trunk/project/JFindMyFiles/ReadingFiles/src/de/berlios/jfindmyfiles/readingfiles/plugins/JPGPlugin.java	2008-07-10 20:18:11 UTC (rev 196)
+++ trunk/project/JFindMyFiles/ReadingFiles/src/de/berlios/jfindmyfiles/readingfiles/plugins/JPGPlugin.java	2008-07-11 21:00:25 UTC (rev 197)
@@ -30,7 +30,7 @@
 
     private static final Logger logger = Logger.getLogger(JPGPlugin.class.getName());
     private static final String NAME = &quot;JPG Reader&quot;;
-    private static final String AUTHOR = &quot;JFindMyFiles&quot;;
+    private static final String AUTHOR = &quot;JFindMyFiles Team&quot;;
     private static final String EXT = &quot;jpg&quot;;
     private boolean active;
     private ImageIcon ic;


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000191.html">[Jfindmyfiles-commits] r196 - trunk/docs
</A></li>
	<LI>Next message: <A HREF="000193.html">[Jfindmyfiles-commits] r198 - in	trunk/project/JFindMyFiles/JFindMyFilesGui/src/de/berlios/jfindmyfiles/jfindmyfilesgui:	. dialogs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#192">[ date ]</a>
              <a href="thread.html#192">[ thread ]</a>
              <a href="subject.html#192">[ subject ]</a>
              <a href="author.html#192">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/jfindmyfiles-commits">More information about the Jfindmyfiles-commits
mailing list</a><br>
</body></html>
